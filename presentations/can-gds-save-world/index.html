<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.49.2" />


<title>Can Geographic Data Save the World? - University of Liverpool&#39;s Laboratory for Geographic Data Science  - Robin Lovelace&#39;s website. Energy. Transport. Technology. Change the World.</title>
<meta property="og:title" content="Can Geographic Data Save the World? - Robin Lovelace&#39;s website. Energy. Transport. Technology. Change the World.">



  








<link href='//cdn.bootcss.com/highlight.js/9.10.0/styles/github.min.css' rel='stylesheet' type='text/css' />



<link rel="stylesheet" href="../../css/fonts.css" media="all">
<link rel="stylesheet" href="../../css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="../../" class="nav-logo">
    <img src="../../images/logo.png"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="../../about/">About</a></li>
    
    <li><a href="https://github.com/robinlovelace">GitHub</a></li>
    
    <li><a href="../../presentations/index.html">Presentations</a></li>
    
    <li><a href="../../publications/">Publications</a></li>
    
    <li><a href="https://twitter.com/robinlovelace">Twitter</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    

    <h1 class="article-title">Can Geographic Data Save the World?</h1>

    

    <div class="article-content">
      <div id="contents" class="section level2">
<h2>Contents</h2>
<ul>
<li>Introductory comments</li>
<li>An example: the propensity to cycle tool</li>
<li><strong>dplyr</strong> and tibbles (if time allows)</li>
<li>Discussion: can GDS save the world?</li>
</ul>
</div>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<div id="what-is-saving-the-world" class="section level2">
<h2>What is saving the world?</h2>
<p>Many ways of saying the same thing:</p>
<blockquote>
<ul>
<li>‘Policy-led research’</li>
<li>‘Impact’</li>
<li>‘Socially beneficial research’</li>
<li>Don’t be evil (Google)</li>
</ul>
</blockquote>
<p>My definition: <strong>building an evidence-base for sustainable systems</strong>.</p>
<ul>
<li>In the context of climate change that means:</li>
</ul>
<blockquote>
<ul>
<li>Building an evidence-base to transition away from fossil fuels</li>
</ul>
</blockquote>
<ul>
<li>But could also be interpretted in terms of other (quantifiable) social/economic/environmental indicators</li>
</ul>
</div>
<div id="why-bother" class="section level2">
<h2>Why bother?</h2>
<ul>
<li>If we’re doomed anyway?</li>
</ul>
<blockquote>
<ul>
<li><blockquote class="twitter-tweet" data-lang="en">
<p lang="en" dir="ltr">
I urge everyone to read this series of tweets: it is clear that the govt is incompetent, the prime minister is deluded, &amp; we are damned. <a href="https://t.co/aaNYvSpxK9">https://t.co/aaNYvSpxK9</a>
</p>
— Michael Cashman (mcashmanCBE) <a href="https://twitter.com/mcashmanCBE/status/858821602611474432">April 30, 2017</a>
</blockquote>
<script async src="http://platform.twitter.com/widgets.js" charset="utf-8"></script></li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><blockquote class="twitter-tweet" data-lang="en">
<p lang="en" dir="ltr">
Rapid Ice Melt In East Antarctica Could Lead to 11-Foot Rise In Global Sea Level, Scientists Say <a href="https://t.co/3jYOQhyeUL">https://t.co/3jYOQhyeUL</a> <a href="https://t.co/QdTOQNC6m7">pic.twitter.com/QdTOQNC6m7</a>
</p>
— Weather Underground (<span class="citation">(<span class="citeproc-not-found" data-reference-id="wunderground"><strong>???</strong></span>)</span>) <a href="https://twitter.com/wunderground/status/811307713128865792">December 20, 2016</a>
</blockquote></li>
</ul>
</blockquote>
</div>
<div id="arent-the-machines-on-it-anyway" class="section level2">
<h2>Aren’t the machines ‘on it’ anyway?</h2>
<ul>
<li>Agency is no longer exclusively human domain</li>
<li><p>Machine learning is “is finding commercial applications that range from self-driving cars to websites that recommend products on the basis of a user’s browsing history” <span class="citation">(Castelvecchi 2016)</span>.</p></li>
<li><p>Where does the (data) scientist come in in this context?</p></li>
</ul>
<blockquote>
<ul>
<li>More important than ever to set high level aims/goals</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>Autonomous vehicle analogy: robots are good at getting from A to B but not deciding where and when to travel</li>
</ul>
</blockquote>
<blockquote class="twitter-tweet" data-lang="en">
<p lang="en" dir="ltr">
Before scientists can trust AI, they first need to understand how machines learn: <a href="https://t.co/DekQuyP8YE">https://t.co/DekQuyP8YE</a> <a href="https://t.co/Phqtj3mRc1">pic.twitter.com/Phqtj3mRc1</a>
</p>
— Nature News&amp;Comment (NatureNews) <a href="https://twitter.com/NatureNews/status/859112847930007552">May 1, 2017</a>
</blockquote>
<script async src="http://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>
<div id="what-is-geographic-data-science" class="section level2">
<h2>What is Geographic Data Science?</h2>
<blockquote>
<ul>
<li>You tell me!</li>
</ul>
</blockquote>
<ul>
<li>How does it differ from good old ‘GIS’?</li>
<li>What does the science in the title mean?</li>
<li>Why the focus on data rather than information</li>
</ul>
<p>Code example:</p>
<pre class="r"><code>d = frame_data(
  ~Attribute, ~GIS, ~GDS,
  &quot;Home disciplines&quot;, &quot;Geography&quot;, &quot;Geography, Computing, Statistics&quot;,
  &quot;Software focus&quot;, &quot;Graphic User Interface&quot;, &quot;Code&quot;,
  &quot;Reproduciblility&quot;, &quot;Minimal&quot;, &quot;Maximal&quot;
)</code></pre>
</div>
<div id="comparing-gds-with-gis" class="section level2">
<h2>Comparing GDS with GIS</h2>
<pre class="r"><code>knitr::kable(d)</code></pre>
</div>
<div id="geographic-data-science-can-save-the-world-but-only-if-its-open-and-scientific" class="section level2">
<h2>Geographic data science CAN ‘save the world’ | But only if it’s open and scientific</h2>
<p>Reasoning:</p>
<ul>
<li>Evidence inevitably gets skewed by political aims</li>
</ul>
<blockquote>
<ul>
<li>If the people doing the research are influenced by dominant political forces, findings will be biases for political gain (solved by independent well-funded public research).</li>
</ul>
</blockquote>
<ul>
<li>People doing policy relevant research watch out (regarding politicians):</li>
</ul>
<blockquote>
<p>“Their very spirit undergoes a pervasive
transformation,” and they finally end up as “experts at exchanging smiles,
handshakes, and favors.” <span class="citation">(Reclus 2013, original: 1898)</span></p>
</blockquote>
</div>
<div id="importance-of-open-data-and-methods" class="section level2">
<h2>Importance of open data and methods</h2>
<blockquote>
<ul>
<li>If the data underlying policy is hidden, it can be represented to push certain aims (solved by open data)</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>If the data is ‘open’ but the tools are closed, results open to political influence</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>Which brings us onto our next topic…</li>
</ul>
</blockquote>
</div>
</div>
<div id="where-will-cycling-uptake-happen" class="section level1">
<h1>Where will cycling uptake happen?</h1>
<!-- ## Context: from concept to implementation -->
<!-- A life-course of my involvement with the PCT -->
<!-- ``` -->
<!-- Concept of algorithms for cycling uptake (PhD 2009 - 2013) -->
<!--  Discovery of programming (R) and shiny (2013) -->
<!--   'Propensity to Cycle' bid by DfT via SDG (2014) -->
<!--     Start work w. Cambridge University and colleagues (2015) -->
<!--      Implementation on national OD dataset, 700k routes (2016) -->
<!--        Addition of school and near-market prototypes (late 2016) -->
<!--          LSOA phase (Malcolm Morgan) (early 2017) -->
<!--            ... -->
<!-- ``` -->
<!--  > - 2018: (Global PCT?)  -->
<!--  - Academic write-up [@lovelace_propensity_2017] -->
<div id="prior-work-source-lovelace-et-al.2017" class="section level2">
<h2>Prior work (source: Lovelace et al. 2017)</h2>
</div>
<div id="the-pct-team-if-you-want-to-go-far-go-as-a-team" class="section level2">
<h2>The PCT team | “If you want to go far, go as a team”</h2>
<p>Robin Lovelace (Lead Developer, University of Leeds)</p>
<ul>
<li>James Woodcock (Principal Investigator, Cambridge University)</li>
<li>Anna Goodman (Lead Data Analyst, LSHTM)</li>
<li>Rachel Aldred (Lead Policy and Practice, Westminster University)</li>
<li>Ali Abbas (User Interface, University of Cambridge)</li>
<li>Alvaro Ullrich (Data Management, University of Cambridge)</li>
<li>Nikolai Berkoff (System Architecture, Independent Developer)</li>
<li>Malcolm Morgan (GIS and infrastructure expert, UoL)</li>
</ul>
<!-- ## Policy feedback -->
<!-- "The PCT is a brilliant example of using Big Data to better plan infrastructure investment. It will allow us to have more confidence that new schemes are built in places and along travel corridors where there is high latent demand." -->
<!-- - Shane Snow: Head of Seamless Travel Team, Sustainable and Acessible Travel Division -->
<!-- "The PCT shows the country’s great potential to get on their bikes, highlights the areas of highest possible growth and will be a useful innovation for local authorities to get the greatest bang for their buck from cycling investments  and realise cycling potential." -->
<!-- - Andrew Jones, Parliamentary Under Secretary of State for Transport -->
</div>
<div id="the-pct-in-cwis-and-lcwip" class="section level2">
<h2>The PCT in CWIS and LCWIP</h2>
<p>Included in Cycling and Walking Infrastructure Strategy (CWIS) and the Local Cycling and Walking Infrastructure Plan (LCWIP)</p>
</div>
<div id="how-the-pct-works" class="section level2">
<h2>How the PCT works</h2>
<p>Shows on the map where there is high cycling potential,
for 4 scenarios of change</p>
<ul>
<li>Government Target</li>
<li>Gender Equality</li>
<li>Go Dutch</li>
<li>Ebikes</li>
</ul>
</div>
<div id="scenario-shift-in-desire-lines-source-lovelace_propensity_2017" class="section level2">
<h2>Scenario shift in desire lines | Source: <span class="citation">Lovelace et al. (2017)</span></h2>
<ul>
<li>Origin-destination data shows ‘desire lines’</li>
<li>How will these shift with cycling uptake</li>
</ul>
</div>
<div id="scenario-shift-in-network-load" class="section level2">
<h2>Scenario shift in network load</h2>
</div>
<div id="a-live-demo-for-liverpool-actions-speak-louder-than-words" class="section level2">
<h2>A live demo for Liverpool | “Actions speak louder than words”</h2>
<ul>
<li>Test version of <a href="http://npct0.vs.mythic-beasts.com/m/?r=liverpool-city-region">p</a><a href="http://pct.bike/">www.pct.bike</a></li>
</ul>
</div>
</div>
<div id="tibbles-and-dplyr-a-detour-for-programmers" class="section level1">
<h1>tibbles and dplyr: A detour for programmers</h1>
<div id="why-data-carpentry" class="section level2">
<h2>Why data carpentry?</h2>
<blockquote class="twitter-tweet" data-lang="en">
<p lang="en" dir="ltr">
Data analysts and ‘scientists’: don't wrangle, munge or ‘hack’ your valuable datasets. Use <a href="https://twitter.com/hashtag/datacarpentry?src=hash">#datacarpentry</a>: <a href="https://t.co/gXrlIJH91R">https://t.co/gXrlIJH91R</a> <a href="https://t.co/GSWS7O7zBz">pic.twitter.com/GSWS7O7zBz</a>
</p>
— Robin Lovelace (robinlovelace) <a href="https://twitter.com/robinlovelace/status/833622374037721089">February 20, 2017</a>
</blockquote>
<ul>
<li>If you ‘hack’ or ‘munge’ data, it won’t scale</li>
<li>So ultimately it’s about being able to handle Big Data</li>
<li>We’ll cover the basics of data frames and tibbles</li>
<li>And the basics of <strong>dplyr</strong>, an excellent package for data carpentry
<ul>
<li><strong>dplyr</strong> is also compatible with the <strong>sf</strong> package</li>
</ul></li>
</ul>
</div>
<div id="the-data-frame" class="section level2">
<h2>The data frame</h2>
<p>The humble data frame is at the heart of most analysis projects:</p>
<pre class="r"><code>d = data.frame(x = 1:3, y = c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;))
d</code></pre>
<p>In reality this is a list, making function work on each column:</p>
<pre class="r"><code>summary(d)
plot(d)</code></pre>
</div>
<div id="subsetting" class="section level2">
<h2>Subsetting</h2>
<p>In base R, there are many ways to subset:</p>
<pre class="r"><code>d[1,] # the first line
d[,1] # the first column
d$x # the first column
d [1] # the first column, as a data frame</code></pre>
</div>
<div id="the-tibble" class="section level2">
<h2>The tibble</h2>
<p>Recently the data frame has been extended:</p>
<pre class="r"><code>library(&quot;tibble&quot;)
dt = tibble(x = 1:3, y = c(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;))
dt</code></pre>
</div>
<div id="advantages-of-the-tibble" class="section level2">
<h2>Advantages of the tibble</h2>
<p>It comes down to efficiency and usability</p>
<ul>
<li>When printed, the tibble diff reports class</li>
<li>Character vectors are not coerced into factors</li>
<li>When printing a tibble diff to screen, only the first ten rows are displayed</li>
</ul>
</div>
<div id="dplyr" class="section level2">
<h2>dplyr</h2>
<p>Like tibbles, has advantages over historic ways of doing things</p>
<ul>
<li>Type stability (data frame in, data frame out)</li>
<li>Consistent functions - functions not <code>[</code> do everything</li>
<li>Piping make complex operations easy</li>
</ul>
<pre class="r"><code>ghg_ems %&gt;%
  filter(!grepl(&quot;World|Europe&quot;, Country)) %&gt;% 
  group_by(Country) %&gt;% 
  summarise(Mean = mean(Transportation),
            Growth = diff(range(Transportation))) %&gt;%
  top_n(3, Growth) %&gt;%
  arrange(desc(Growth))</code></pre>
<pre class="r"><code># dplyr must be loaded with
library(dplyr)</code></pre>
</div>
<div id="why-pipes" class="section level2">
<h2>Why pipes?</h2>
<pre class="r"><code>wb_ineq %&gt;% 
  filter(grepl(&quot;g&quot;, Country)) %&gt;%
  group_by(Year) %&gt;%
  summarise(gini = mean(gini, na.rm  = TRUE)) %&gt;%
  arrange(desc(gini)) %&gt;%
  top_n(n = 5)</code></pre>
<p>vs</p>
<pre class="r"><code>top_n(
  arrange(
    summarise(
      group_by(
        filter(wb_ineq, grepl(&quot;g&quot;, Country)),
        Year),
      gini = mean(gini, na.rm  = TRUE)),
    desc(gini)),
  n = 5)</code></pre>
</div>
<div id="subsetting-with-dplyr" class="section level2">
<h2>Subsetting with dplyr</h2>
<p>Only 1 way to do it, making life simpler:</p>
<pre class="r"><code>select(dt, x) # select columns
slice(dt, 2) # &#39;slice&#39; rows</code></pre>
</div>
</div>
<div id="how-weve-used-this-in-the-pct" class="section level1">
<h1>How we’ve used this in the PCT</h1>
<div id="worked-example-pct-data-in-west-yorksire" class="section level2">
<h2>Worked example: pct data in West Yorksire</h2>
<ul>
<li>We’ll download and visualise some transport data</li>
</ul>
<pre class="r"><code>u_pct = &quot;https://github.com/npct/pct-data/raw/master/west-yorkshire/l.Rds&quot;
if(!file.exists(&quot;l.Rds&quot;))
  download.file(u_pct, &quot;l.Rds&quot;)
library(stplanr)
l = readRDS(&quot;l.Rds&quot;)
plot(l)</code></pre>
</div>
<div id="analysing-where-people-walk" class="section level2">
<h2>Analysing where people walk</h2>
<pre class="r"><code>sel_walk = l$foot &gt; 9
l_walk = l[sel_walk,]
plot(l)
plot(l_walk, add = T, col = &quot;red&quot;)

library(dplyr) # for next slide...</code></pre>
</div>
<div id="doing-it-with-sf" class="section level2">
<h2>Doing it with sf (!)</h2>
<pre class="r"><code>l_walk1 = l %&gt;% filter(All &gt; 10) # fails</code></pre>
<pre class="r"><code>library(sf)
l_sf = st_as_sf(l)
plot(l_sf[6])</code></pre>
</div>
<div id="subsetting-with-sf-much-easier" class="section level2">
<h2>Subsetting with sf | much easier</h2>
<pre class="r"><code>l_walk2 = l_sf %&gt;% 
  filter(foot &gt; 9)
plot(l_sf[6])
plot(l_walk2, add = T)</code></pre>
</div>
<div id="subsetting-with-sf-results" class="section level2">
<h2>Subsetting with sf | results</h2>
</div>
<div id="a-more-advanced-example" class="section level2">
<h2>A more advanced example</h2>
<pre class="r"><code>l_sf$distsf = as.numeric(st_length(l_sf))
l_drive_short2 = l_sf %&gt;% 
  filter(distsf &lt; 1000) %&gt;% 
  filter(car_driver &gt; foot)</code></pre>
</div>
<div id="result-where-people-drive-short-distances-rather-than-drive" class="section level2">
<h2>Result: where people drive short distances rather than drive</h2>
<pre class="r"><code>library(tmap)
tmap_mode(&quot;view&quot;)
qtm(l_drive_short2)</code></pre>
<!-- ## Overall results: the [PCT](http://pct.bike/) -->
<!-- ```{r, echo=FALSE} -->
<!-- knitr::include_graphics("https://previews.magnoliabox.com/corbis/flat/42-32403684/MUS-FAPC2020_500.jpg") -->
<!-- ``` -->
</div>
</div>
<div id="discussion-ensuring-research-is-used-for-the-greater-good" class="section level1">
<h1>Discussion: ensuring research is used for the greater good</h1>
<div id="points-of-discussion" class="section level2">
<h2>Points of discussion</h2>
<p>It is clear that geographical research can have large policy impacts.</p>
<ul>
<li>That researchers can act to maximise the social benefit of the research</li>
<li>That involves getting the evidence out to as many people as possible</li>
<li>And using open source, accessible tools - the ‘science’ in GDS?</li>
</ul>
<p>But many questions remain:</p>
<blockquote>
<ul>
<li>Where to draw the line between impartial research and campaigning?</li>
<li>To what extent should researchers open-sourcing their work defend against commercial exploitation?</li>
</ul>
</blockquote>
</div>
<div id="final-question" class="section level2">
<h2>Final question</h2>
<ul>
<li>What can you do to maximise the social benefits arising from your work?</li>
</ul>
<blockquote>
<ul>
<li>Thanks for listening - get in touch via <code>r.lovelace@leeds.ac.uk</code> or <code>@robinlovelace</code></li>
</ul>
</blockquote>
</div>
<div id="references" class="section level2 unnumbered">
<h2>References</h2>
<div id="refs" class="references">
<div id="ref-castelvecchi_can_2016">
<p>Castelvecchi, Davide. 2016. “Can We Open the Black Box of AI?” <em>Nature News</em> 538 (7623): 20. <a href="https://doi.org/10.1038/538020a">https://doi.org/10.1038/538020a</a>.</p>
</div>
<div id="ref-lovelace_propensity_2017">
<p>Lovelace, Robin, Anna Goodman, Rachel Aldred, Nikolai Berkoff, Ali Abbas, and James Woodcock. 2017. “The Propensity to Cycle Tool: An Open Source Online System for Sustainable Transport Planning.” <em>Journal of Transport and Land Use</em> 10 (1). <a href="https://doi.org/10.5198/jtlu.2016.862">https://doi.org/10.5198/jtlu.2016.862</a>.</p>
</div>
<div id="ref-reclus_anarchy_2013">
<p>Reclus, Elisée. 2013. <em>Anarchy, Geography, Modernity: Selected Writings of Elisée Reclus</em>. Edited by John Clark and Camille Martin. Oakland, CA: PM Press.</p>
</div>
</div>
</div>
</div>

    </div>
  </article>

  


</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="../../index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="../../images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    



<script src="//cdn.bootcss.com/highlight.js/9.10.0/highlight.min.js"></script>



<script src="//cdn.bootcss.com/highlight.js/9.10.0/languages/r.min.js"></script>
<script src="//cdn.bootcss.com/highlight.js/9.10.0/languages/yaml.min.js"></script>
<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



    
<script src="../../js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
  </body>
</html>

