<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>R on Robin Lovelace&#39;s website. Energy. Transport. Technology. Change the World.</title>
    <link>/categories/r/</link>
    <description>Recent content in R on Robin Lovelace&#39;s website. Energy. Transport. Technology. Change the World.</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Mon, 30 Mar 2020 00:00:00 +0000</lastBuildDate>
    
        <atom:link href="/categories/r/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Installing spatial R packages on Ubuntu</title>
      <link>/2020/03/30/installing-spatial-r-packages-on-ubuntu/</link>
      <pubDate>Mon, 30 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>/2020/03/30/installing-spatial-r-packages-on-ubuntu/</guid>
      <description>
&lt;script src=&#34;../../rmarkdown-libs/header-attrs/header-attrs.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;Having recently acquired a new laptop, an &lt;a href=&#34;https://www.entroware.com/store/laptops/proteus&#34;&gt;Entroware Proteus&lt;/a&gt; (shown below), I had to remind myself how to set-it-up for my needs.
This includes the usual things like document editing, web browsing and email.
But as much of my work involves developing and using R for geographic research it had to have R installed.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-1&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;https://www.entroware.com/store/image/cache/catalog/entroware/products/laptops/el07r3/proteus-el07r3-front-open-400x500.jpg&#34; alt=&#34;The Etroware Proteus, my new Linux laptop&#34;  /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 1: The Etroware Proteus, my new Linux laptop
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;I documented the process of upgrading Ubuntu, adding the appropriate software repositories and installing packages in a recent blogpost on the website &lt;a href=&#34;https://geocompr.github.io/&#34;&gt;geocompr.github.io&lt;/a&gt;, the website supporting our open source book &lt;a href=&#34;https://geocompr.robinlovelace.net/&#34;&gt;Geocomputation with R&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If you use Ubuntu, or are thinking of switching to Ubuntu (a sensible choice for someone looking for a user-friendly and stable mostly open source operating system), check-out the details here: &lt;a href=&#34;https://geocompr.github.io/post/2020/installing-r-spatial-ubuntu/&#34; class=&#34;uri&#34;&gt;https://geocompr.github.io/post/2020/installing-r-spatial-ubuntu/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Enjoy!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>CASA summer school on geographic data</title>
      <link>/2019/08/28/casa-summer-school-on-geographic-data/</link>
      <pubDate>Wed, 28 Aug 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/08/28/casa-summer-school-on-geographic-data/</guid>
      <description>


&lt;p&gt;Last week I presented at UCL’s summer school which, by all accounts, was a very successful event in which many people learned many new skills. The presentation format was a refreshing changes from the PowerPoint slides you’re often asked to prepare. Instead, each presenter was asked to create a reproducible RMarkdown document to present. The source code was shared with the students, who were encouraged to test the code.&lt;/p&gt;
&lt;p&gt;The source code of my RMarkdown document can be found here, on the website support the Geocomputation with R book: &lt;a href=&#34;https://github.com/geocompr/geocompr.github.io/blob/source/content/post/2019/crs-projections-transformations.Rmd&#34; class=&#34;uri&#34;&gt;https://github.com/geocompr/geocompr.github.io/blob/source/content/post/2019/crs-projections-transformations.Rmd&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;To see the article itself, head here: &lt;a href=&#34;https://geocompr.github.io/post/2019/crs-projections-transformations/&#34; class=&#34;uri&#34;&gt;https://geocompr.github.io/post/2019/crs-projections-transformations/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A very summary of the content is shown below.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;blogdown::shortcode_html(&amp;quot;tweet&amp;quot;, &amp;quot;1166628966410719232&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;Too long didn&amp;#39;t read (TLDR) summary of CRSs.&lt;br&gt;&lt;br&gt;Additional resources:&lt;br&gt;&lt;br&gt;Blog post: &lt;a href=&#34;https://t.co/k3FDKqxp3E&#34;&gt;https://t.co/k3FDKqxp3E&lt;/a&gt;&lt;br&gt;Chapter in upcoming book by &lt;a href=&#34;https://twitter.com/edzerpebesma?ref_src=twsrc%5Etfw&#34;&gt;@edzerpebesma&lt;/a&gt;: &lt;a href=&#34;https://t.co/D919MPwMam&#34;&gt;https://t.co/D919MPwMam&lt;/a&gt;&lt;br&gt;Chapter in &lt;a href=&#34;https://twitter.com/hashtag/geocompr?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#geocompr&lt;/a&gt; book: &lt;a href=&#34;https://t.co/pffHqeF8YT&#34;&gt;https://t.co/pffHqeF8YT&lt;/a&gt; &lt;a href=&#34;https://t.co/Slu1jT88ok&#34;&gt;pic.twitter.com/Slu1jT88ok&lt;/a&gt;&lt;/p&gt;&amp;mdash; Robin Lovelace (@robinlovelace) &lt;a href=&#34;https://twitter.com/robinlovelace/status/1166628966410719232?ref_src=twsrc%5Etfw&#34;&gt;August 28, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

&lt;p&gt;For more on the CASA summer school itself, see here.&lt;/p&gt;
&lt;p&gt;In summary, great event and look forward to more partipatory workshops, the next one upcoming being the OpenGeoHub summer school: &lt;a href=&#34;https://opengeohub.org/summer_school_2019&#34; class=&#34;uri&#34;&gt;https://opengeohub.org/summer_school_2019&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Six great things about UseR! 2019</title>
      <link>/2019/07/13/user2019/</link>
      <pubDate>Sat, 13 Jul 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/07/13/user2019/</guid>
      <description>
&lt;script src=&#34;../../rmarkdown-libs/htmlwidgets/htmlwidgets.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;../../rmarkdown-libs/jquery/jquery.min.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../rmarkdown-libs/leaflet/leaflet.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../rmarkdown-libs/leaflet/leaflet.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../rmarkdown-libs/leafletfix/leafletfix.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../rmarkdown-libs/Proj4Leaflet/proj4-compressed.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;../../rmarkdown-libs/Proj4Leaflet/proj4leaflet.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../rmarkdown-libs/leaflet-binding/leaflet.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;../../rmarkdown-libs/leaflet-providers/leaflet-providers.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;../../rmarkdown-libs/leaflet-providers-plugin/leaflet-providers-plugin.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../rmarkdown-libs/HomeButton/home-button.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../rmarkdown-libs/HomeButton/home-button.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;../../rmarkdown-libs/HomeButton/easy-button-src.min.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../rmarkdown-libs/PopupTable/popup.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;../../rmarkdown-libs/datatables-css/datatables-crosstalk.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../rmarkdown-libs/datatables-binding/datatables.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../rmarkdown-libs/dt-core/css/jquery.dataTables.min.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;link href=&#34;../../rmarkdown-libs/dt-core/css/jquery.dataTables.extra.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../rmarkdown-libs/dt-core/js/jquery.dataTables.min.js&#34;&gt;&lt;/script&gt;
&lt;link href=&#34;../../rmarkdown-libs/crosstalk/css/crosstalk.css&#34; rel=&#34;stylesheet&#34; /&gt;
&lt;script src=&#34;../../rmarkdown-libs/crosstalk/js/crosstalk.min.js&#34;&gt;&lt;/script&gt;


&lt;p&gt;UseR! is the highest profile and, I believe, most popular annual meeting for R enthusiasts, known affectionately as ‘UseRs’ for the purposes of the event. For those who have been living under a stone for the past decade ;) R is an open source statistical programming language that has seen explosive growth since ‘data science’ became a buzzword. Although I’ve been using R for around a decade, and heavily for around five years, &lt;a href=&#34;http://user2019.r-project.org/&#34;&gt;UseR! 2019&lt;/a&gt; was the first UseR! I attended. I went with some preconceptions: I thought it would be like previous R events that I had attended, including the European R Users Meeting (ERUM) and SatRdays, but bigger. That was true, but it was bigger and better, exceeding my expectations in many ways.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;
&lt;img src=&#34;http://user2019.r-project.org/static/img/useR2019.png&#34; /&gt;

&lt;/div&gt;
&lt;p&gt;Despite only seeing part of it (I missed the tutorials on the Tuesday and the latter part of the final day on Friday), I learned many things from it. Inspired by the ‘useR aftRglow’, I wrote some of these down on the train journey back home. The result is this article.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;http://user2019.r-project.org/organization/&#34;&gt;organising committee of User! 2019&lt;/a&gt; (hats off to you for an amazing event) has lessons for anyone thinking of putting on a successful event for research, software development, or anything aiming to encourage a friendly symposium vibe. Here are the top six things that made User! 2019 great from my perspective.&lt;/p&gt;
&lt;div id=&#34;diverse-formats&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;1. Diverse formats&lt;/h1&gt;
&lt;p&gt;Sometimes going to events, and especially academic conferences (mentioning no names &lt;code&gt;*cough*&lt;/code&gt; take note organisers of &lt;a href=&#34;https://annualmeeting.aag.org/&#34;&gt;AAAG&lt;/a&gt;/&lt;a href=&#34;https://www.rgs.org/research/annual-international-conference/&#34;&gt;RGS-IBG&lt;/a&gt; and other events with many presentation sessions), can feel undergoing &lt;a href=&#34;https://www.bbc.co.uk/news/technology-35038429&#34;&gt;death by PowerPoint&lt;/a&gt;. A very slow, boring death.&lt;/p&gt;
&lt;p&gt;UseR! was different. Aside from the fact that many of presenters wouldn’t &lt;em&gt;be seen dead&lt;/em&gt; in front of PowerPoint slides, preferring instead more reproducible and flexible formats enabled by packages such as &lt;a href=&#34;https://slides.yihui.name/xaringan/&#34;&gt;&lt;code&gt;xaringan&lt;/code&gt;&lt;/a&gt; and &lt;code&gt;ioslides&lt;/code&gt;, the diversity of formats and quality of the talks kept me on my toes in every session I attended.&lt;/p&gt;
&lt;p&gt;The organisers had clearly given some thought to tackle this issue. Instead of having only a couple of talk types (e.g. 15 minute presentation, 1 hour keynote) a range of formats were supported, including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Morning/afternoon tutorials, which took place on the Tuesday, allowing people to learn in depth about new methods/packages/approaches.&lt;/li&gt;
&lt;li&gt;A ‘tidyverse development’ day, which apparently involved physically taking issues and working on them in parallel, with a gong struck for every Pull Request accepted (this makes me wonder if the same technique can be used in other software ecosystems).&lt;/li&gt;
&lt;li&gt;Poster sessions, perhaps not an innovative thing in its own right, but at UseR! the poster showing session was preceded by Lightning Talks of ~1 minute each, so participants could identify which posters they would most like to visit.&lt;/li&gt;
&lt;li&gt;Lightning talk sessions, where participants had 5 minutes to convey the core message of their research. These sessions were organised in themes and I chaired ‘Applications and Methods’ session, which contained some fascinating work.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There were still plenty of standard presentation sessions, but even in those sessions, the diversity kept things engaging. Colin Gillespie went into stand-up comedy mode to deliver a vital message: that simple changes can improve the security of computer systems using R. &lt;a href=&#34;https://en.wikipedia.org/wiki/Mine_%C3%87etinkaya-Rundel&#34;&gt;Mine Çetinkaya-Rundel&lt;/a&gt; used the metaphor of cooking to highlight the importance of digital learning environments for effective classrooms: would you rather cook in a unfinished kitchen or a complete one? Use of a stable, in browser interface, as shown in the &lt;a href=&#34;https://twitter.com/minebocek/status/1148904275550121984&#34;&gt;Data Science in a Box&lt;/a&gt; project, can overcome the barrier of software installation to research, with clear implications for organisations: get a working instance of RStudio Server.&lt;/p&gt;
&lt;p&gt;Even the Keynotes were diverse, as can be seen from the &lt;a href=&#34;http://user2019.r-project.org/program/&#34;&gt;UseR website&lt;/a&gt;. There wasn’t just one central ‘keynote speaker’ at the event but 6, half of whom were women, and with representatives from commercial, academic and &lt;a href=&#34;http://user2019.r-project.org/program/#julien&#34;&gt;non-profit&lt;/a&gt; organsiations. The diversity of topics they covered was also impressive. They ranged from Bettina Grün’s highly technical yet accessible keynote on new models and packages for clustering data to Joe Cheng’s talk on &lt;a href=&#34;https://github.com/rstudio/shinymeta&#34;&gt;shinymeta&lt;/a&gt;. It was roller coaster ride to the publication of this just open-sourced package, which enables shiny apps to generate scripts underlying the dynamic results. This could enable step change in the level of reproducibility of interactive web applications (vested interest: I’m the lead developer of the large shiny application, the &lt;a href=&#34;http://www.pct.bike/&#34;&gt;Propensity to Cycle Tool&lt;/a&gt; that would benefit from being more reproducible).&lt;/p&gt;
&lt;p&gt;All of the keynote speeches are available on YouTube, as disseminated in the Tweet below:&lt;/p&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;All the keynote lectures were available live on &lt;a href=&#34;https://twitter.com/RConsortium?ref_src=twsrc%5Etfw&#34;&gt;@RConsortium&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/YouTube?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#YouTube&lt;/a&gt; channel here:&lt;a href=&#34;https://t.co/otDzmY2UND&#34;&gt;https://t.co/otDzmY2UND&lt;/a&gt;&lt;br&gt;Very soon, you&amp;#39;ll find the edited version (with video). keep posted!&lt;a href=&#34;https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#rstats&lt;/a&gt; &lt;a href=&#34;https://twitter.com/hashtag/useR2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#useR2019&lt;/a&gt; &lt;a href=&#34;https://t.co/q6FsqsDI61&#34;&gt;pic.twitter.com/q6FsqsDI61&lt;/a&gt;&lt;/p&gt;&amp;mdash; useR! 2019 (@UseR2019_Conf) &lt;a href=&#34;https://twitter.com/UseR2019_Conf/status/1150115187430760448?ref_src=twsrc%5Etfw&#34;&gt;July 13, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;

&lt;/div&gt;
&lt;div id=&#34;worldwide-dissemination&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;2. Worldwide dissemination&lt;/h1&gt;
&lt;p&gt;Not everyone has the time, energy or money to go to UseR!. Some ‘&lt;a href=&#34;https://www.theguardian.com/travel/2019/may/22/could-you-give-up-flying-meet-the-no-plane-pioneers&#34;&gt;no fly pioneers&lt;/a&gt;’ have given up flying to support global efforts to tackle the climate crisis. I was very impressed to see acknowledgement of the conference’s climate impacts, with a &lt;a href=&#34;https://enquetes.inra.fr/index.php/136679?lang=en&#34;&gt;form&lt;/a&gt; used to help calculate its carbon impact:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://www.robinlovelace.net/post/2019-07-13-great-things-user2019_files/figure-html/unnamed-chunk-2-1.png&#34; /&gt;&lt;!-- --&gt;&lt;/p&gt;
&lt;p&gt;Whatever the reason, it is certain that the contents of UseR! will be of great interest to many more people than the ~2000 people who attended in person. By recording and (eventually) releasing the videos of the talk, a much larger audience, into the millions, can be reached, as highlighted on the &lt;a href=&#34;http://user2019.r-project.org/&#34;&gt;website&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;All talks will be recorded and all keynote sessions will be live streamed. Everything will be made available on &lt;a href=&#34;https://www.youtube.com/channel/UC_R5smHVXRYGhZYDJsnXTwg&#34; target=&#34;_blank&#34;&gt;R Consortium YouTube channel&lt;/a&gt;. Thanks to R Consortium for supporting that initiative.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Also, UseRs are excellent communicators, as can be seen from a quick glance at the buzzing &lt;a href=&#34;https://twitter.com/hashtag/user2019?lang=en-gb&#34;&gt;#UseR2019 hashtag&lt;/a&gt;, three of which are shown below.&lt;/p&gt;
&lt;p&gt;&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;Dear everyone at &lt;a href=&#34;https://twitter.com/hashtag/useR2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#useR2019&lt;/a&gt;,&lt;br&gt;We thank you very much for your R-enthusiasm 😃.&lt;br&gt;We hope that you as much fun as we had😋.&lt;br&gt;See you in Saint-Louis next year for &lt;a href=&#34;https://twitter.com/hashtag/useR2020?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#useR2020&lt;/a&gt;! 🇫🇷🔜🇺🇸&lt;br&gt;On vous aime !&lt;/p&gt;&amp;mdash; useR! 2019 (@UseR2019_Conf) &lt;a href=&#34;https://twitter.com/UseR2019_Conf/status/1149790615963615232?ref_src=twsrc%5Etfw&#34;&gt;July 12, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;MASSIVE thank you 🙏🌟💜🌍 to &lt;a href=&#34;https://twitter.com/HeathrTurnr?ref_src=twsrc%5Etfw&#34;&gt;@HeathrTurnr&lt;/a&gt; for her AMAZING and continued championing of making the &lt;a href=&#34;https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#rstats&lt;/a&gt; community so diverse and welcoming, for all from work on &lt;a href=&#34;https://twitter.com/hashtag/useR?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#useR&lt;/a&gt;, &lt;a href=&#34;https://twitter.com/hashtag/RLadies?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#RLadies&lt;/a&gt; , &lt;a href=&#34;https://twitter.com/hashtag/LatinR?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#LatinR&lt;/a&gt; and more. We owe a lot to Heather’s hard work &amp;amp; dedication 🏆 (&lt;a href=&#34;https://twitter.com/hashtag/useR2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#useR2019&lt;/a&gt;) &lt;a href=&#34;https://t.co/Aisw11SKjc&#34;&gt;pic.twitter.com/Aisw11SKjc&lt;/a&gt;&lt;/p&gt;&amp;mdash; Alice Data (@alice_data) &lt;a href=&#34;https://twitter.com/alice_data/status/1149680375817494529?ref_src=twsrc%5Etfw&#34;&gt;July 12, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;blockquote class=&#34;twitter-tweet&#34;&gt;&lt;p lang=&#34;en&#34; dir=&#34;ltr&#34;&gt;vroom &lt;a href=&#34;https://twitter.com/hashtag/rstats?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#rstats&lt;/a&gt; 📦, because life is too short to read slow! 🏎️💨&lt;br&gt;&lt;br&gt;slides 📽️ from my &lt;a href=&#34;https://twitter.com/hashtag/useR2019?src=hash&amp;amp;ref_src=twsrc%5Etfw&#34;&gt;#useR2019&lt;/a&gt; talk available at &lt;a href=&#34;https://t.co/3h6b2m7lQO&#34;&gt;https://t.co/3h6b2m7lQO&lt;/a&gt;&lt;/p&gt;&amp;mdash; Jim Hester (@jimhester_) &lt;a href=&#34;https://twitter.com/jimhester_/status/1149651592884285441?ref_src=twsrc%5Etfw&#34;&gt;July 12, 2019&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async src=&#34;https://platform.twitter.com/widgets.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/p&gt;
&lt;p&gt;The increasing proportion of content now available online, nearing 100% notwithstanding socials, raises the prospect of making future conferences more environmentally sustainable by encouraging remote participation. This could model the 2019 &lt;a href=&#34;https://stay-grounded.org/conference/&#34;&gt;Stay Grounded conference in Barcelona&lt;/a&gt;, which was a “flight free conference”. I discussed the idea of having a single host location with Martin Maechler on the train journey home. This could involve the local organisers and people living nearby attending in person, and then allowing others to attend remotely via live streaming, perhaps in national ‘conference hubs’.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;relaxed-atmosphere&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;3. Relaxed atmosphere&lt;/h1&gt;
&lt;p&gt;Another great thing about UseR! 2019 was less objective but equally important: the social atmosphere. The most reason why it had such a good vibe, I guess, was the attendees: in my experience R users, and people involved in the open source community in general, tend to friendly, humble and team-orientated. Of course, this is how conferences should be. Many are, but I couldn’t help notice a contrast between the humility of the ‘big names’ in the R community and the sense of self importance that some high profile academics have in some disciplines.&lt;/p&gt;
&lt;p&gt;UseRs seem to have a great sense of humour and don’t take themselves too seriously, which contributed to a friendly, inviting and non-hierarchical atmosphere. This friendliness is self organising, but is also built into the constitution of UseR! in its &lt;a href=&#34;http://user2019.r-project.org/coc/&#34;&gt;Code of Conduct&lt;/a&gt;. Take note future conference organisers: it’s easy to add a CoC and +s of doing so could be great.&lt;/p&gt;
&lt;p&gt;The final reason for the relaxed atmosphere I noticed was more objective: all the equipment worked well, session chairs were well briefed on what they needed to and when, there were floating mics to allow clear questions from the audience, and the rooms were large enough such that at no point did I feel crammed into a session. Furthermore, the arrangement and audio system of the rooms made it feel easy to change session, in case there were two talks in parallel sessions you really wanted to see. Again, hats off to the organisers: it was VERY well organised.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-host-city-of-toulouse&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;4. The host city of Toulouse&lt;/h1&gt;
&lt;p&gt;I liked the host city but, due to recent University of Leeds regulations blocking AirBnB, I had to change accommodation plans at late notice. This involved a ~3km trek out to the West of the city. Instead of spending 2 hours each day walking there and back, I decided to hire a bike. To my surprise, the system just worked: I typed in some details in the nearest bike hire station I could find and had my own wheels for the week (which looked like those in the photo below). All for the bargain price of €5 for the week!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://images.ladepeche.fr/api/v1/images/view/5c34e8ca8fe56f09063e1f8f/large/image.jpg&#34; /&gt;&lt;!-- --&gt;&lt;/p&gt;
&lt;!-- &lt;blockquote class=&#34;instagram-media&#34; data-instgrm-captioned data-instgrm-permalink=&#34;https://www.instagram.com/p/BtvyxGfIf9L/&#34; data-instgrm-version=&#34;12&#34; style=&#34; background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:540px; min-width:326px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);&#34;&gt;&lt;div style=&#34;padding:16px;&#34;&gt; &lt;a href=&#34;https://www.instagram.com/p/BtvyxGfIf9L/&#34; style=&#34; background:#FFFFFF; line-height:0; padding:0 0; text-align:center; text-decoration:none; width:100%;&#34; target=&#34;_blank&#34;&gt; &lt;div style=&#34; display: flex; flex-direction: row; align-items: center;&#34;&gt; &lt;div style=&#34;background-color: #F4F4F4; border-radius: 50%; flex-grow: 0; height: 40px; margin-right: 14px; width: 40px;&#34;&gt;&lt;/div&gt; &lt;div style=&#34;display: flex; flex-direction: column; flex-grow: 1; justify-content: center;&#34;&gt; &lt;div style=&#34; background-color: #F4F4F4; border-radius: 4px; flex-grow: 0; height: 14px; margin-bottom: 6px; width: 100px;&#34;&gt;&lt;/div&gt; &lt;div style=&#34; background-color: #F4F4F4; border-radius: 4px; flex-grow: 0; height: 14px; width: 60px;&#34;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&#34;padding: 19% 0;&#34;&gt;&lt;/div&gt; &lt;div style=&#34;display:block; height:50px; margin:0 auto 12px; width:50px;&#34;&gt;&lt;svg width=&#34;50px&#34; height=&#34;50px&#34; viewBox=&#34;0 0 60 60&#34; version=&#34;1.1&#34; xmlns=&#34;https://www.w3.org/2000/svg&#34; xmlns:xlink=&#34;https://www.w3.org/1999/xlink&#34;&gt;&lt;g stroke=&#34;none&#34; stroke-width=&#34;1&#34; fill=&#34;none&#34; fill-rule=&#34;evenodd&#34;&gt;&lt;g transform=&#34;translate(-511.000000, -20.000000)&#34; fill=&#34;#000000&#34;&gt;&lt;g&gt;&lt;path d=&#34;M556.869,30.41 C554.814,30.41 553.148,32.076 553.148,34.131 C553.148,36.186 554.814,37.852 556.869,37.852 C558.924,37.852 560.59,36.186 560.59,34.131 C560.59,32.076 558.924,30.41 556.869,30.41 M541,60.657 C535.114,60.657 530.342,55.887 530.342,50 C530.342,44.114 535.114,39.342 541,39.342 C546.887,39.342 551.658,44.114 551.658,50 C551.658,55.887 546.887,60.657 541,60.657 M541,33.886 C532.1,33.886 524.886,41.1 524.886,50 C524.886,58.899 532.1,66.113 541,66.113 C549.9,66.113 557.115,58.899 557.115,50 C557.115,41.1 549.9,33.886 541,33.886 M565.378,62.101 C565.244,65.022 564.756,66.606 564.346,67.663 C563.803,69.06 563.154,70.057 562.106,71.106 C561.058,72.155 560.06,72.803 558.662,73.347 C557.607,73.757 556.021,74.244 553.102,74.378 C549.944,74.521 548.997,74.552 541,74.552 C533.003,74.552 532.056,74.521 528.898,74.378 C525.979,74.244 524.393,73.757 523.338,73.347 C521.94,72.803 520.942,72.155 519.894,71.106 C518.846,70.057 518.197,69.06 517.654,67.663 C517.244,66.606 516.755,65.022 516.623,62.101 C516.479,58.943 516.448,57.996 516.448,50 C516.448,42.003 516.479,41.056 516.623,37.899 C516.755,34.978 517.244,33.391 517.654,32.338 C518.197,30.938 518.846,29.942 519.894,28.894 C520.942,27.846 521.94,27.196 523.338,26.654 C524.393,26.244 525.979,25.756 528.898,25.623 C532.057,25.479 533.004,25.448 541,25.448 C548.997,25.448 549.943,25.479 553.102,25.623 C556.021,25.756 557.607,26.244 558.662,26.654 C560.06,27.196 561.058,27.846 562.106,28.894 C563.154,29.942 563.803,30.938 564.346,32.338 C564.756,33.391 565.244,34.978 565.378,37.899 C565.522,41.056 565.552,42.003 565.552,50 C565.552,57.996 565.522,58.943 565.378,62.101 M570.82,37.631 C570.674,34.438 570.167,32.258 569.425,30.349 C568.659,28.377 567.633,26.702 565.965,25.035 C564.297,23.368 562.623,22.342 560.652,21.575 C558.743,20.834 556.562,20.326 553.369,20.18 C550.169,20.033 549.148,20 541,20 C532.853,20 531.831,20.033 528.631,20.18 C525.438,20.326 523.257,20.834 521.349,21.575 C519.376,22.342 517.703,23.368 516.035,25.035 C514.368,26.702 513.342,28.377 512.574,30.349 C511.834,32.258 511.326,34.438 511.181,37.631 C511.035,40.831 511,41.851 511,50 C511,58.147 511.035,59.17 511.181,62.369 C511.326,65.562 511.834,67.743 512.574,69.651 C513.342,71.625 514.368,73.296 516.035,74.965 C517.703,76.634 519.376,77.658 521.349,78.425 C523.257,79.167 525.438,79.673 528.631,79.82 C531.831,79.965 532.853,80.001 541,80.001 C549.148,80.001 550.169,79.965 553.369,79.82 C556.562,79.673 558.743,79.167 560.652,78.425 C562.623,77.658 564.297,76.634 565.965,74.965 C567.633,73.296 568.659,71.625 569.425,69.651 C570.167,67.743 570.674,65.562 570.82,62.369 C570.966,59.17 571,58.147 571,50 C571,41.851 570.966,40.831 570.82,37.631&#34;&gt;&lt;/path&gt;&lt;/g&gt;&lt;/g&gt;&lt;/g&gt;&lt;/svg&gt;&lt;/div&gt;&lt;div style=&#34;padding-top: 8px;&#34;&gt; &lt;div style=&#34; color:#3897f0; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:550; line-height:18px;&#34;&gt; View this post on Instagram&lt;/div&gt;&lt;/div&gt;&lt;div style=&#34;padding: 12.5% 0;&#34;&gt;&lt;/div&gt; &lt;div style=&#34;display: flex; flex-direction: row; margin-bottom: 14px; align-items: center;&#34;&gt;&lt;div&gt; &lt;div style=&#34;background-color: #F4F4F4; border-radius: 50%; height: 12.5px; width: 12.5px; transform: translateX(0px) translateY(7px);&#34;&gt;&lt;/div&gt; &lt;div style=&#34;background-color: #F4F4F4; height: 12.5px; transform: rotate(-45deg) translateX(3px) translateY(1px); width: 12.5px; flex-grow: 0; margin-right: 14px; margin-left: 2px;&#34;&gt;&lt;/div&gt; &lt;div style=&#34;background-color: #F4F4F4; border-radius: 50%; height: 12.5px; width: 12.5px; transform: translateX(9px) translateY(-18px);&#34;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&#34;margin-left: 8px;&#34;&gt; &lt;div style=&#34; background-color: #F4F4F4; border-radius: 50%; flex-grow: 0; height: 20px; width: 20px;&#34;&gt;&lt;/div&gt; &lt;div style=&#34; width: 0; height: 0; border-top: 2px solid transparent; border-left: 6px solid #f4f4f4; border-bottom: 2px solid transparent; transform: translateX(16px) translateY(-4px) rotate(30deg)&#34;&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&#34;margin-left: auto;&#34;&gt; &lt;div style=&#34; width: 0px; border-top: 8px solid #F4F4F4; border-right: 8px solid transparent; transform: translateY(16px);&#34;&gt;&lt;/div&gt; &lt;div style=&#34; background-color: #F4F4F4; flex-grow: 0; height: 12px; width: 16px; transform: translateY(-4px);&#34;&gt;&lt;/div&gt; &lt;div style=&#34; width: 0; height: 0; border-top: 8px solid #F4F4F4; border-left: 8px solid transparent; transform: translateY(-4px) translateX(8px);&#34;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/a&gt; &lt;p style=&#34; margin:8px 0 0 0; padding:0 4px;&#34;&gt; &lt;a href=&#34;https://www.instagram.com/p/BtvyxGfIf9L/&#34; style=&#34; color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;&#34; target=&#34;_blank&#34;&gt;Commencez la semaine avec VélÔToulouse pour faciliter vos trajets ! 😎 🚲 #velotoulouse #toulousemaville #bikelife #toulouse Belle semaine à tous ☀️ Thank you @viktoriia_naumi for your picture 🙂&lt;/a&gt;&lt;/p&gt; &lt;p style=&#34; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;&#34;&gt;A post shared by &lt;a href=&#34;https://www.instagram.com/velotoulouse31000/&#34; style=&#34; color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px;&#34; target=&#34;_blank&#34;&gt; VélÔToulouse Officiel&lt;/a&gt; (@velotoulouse31000) on &lt;time style=&#34; font-family:Arial,sans-serif; font-size:14px; line-height:17px;&#34; datetime=&#34;2019-02-11T15:36:54+00:00&#34;&gt;Feb 11, 2019 at 7:36am PST&lt;/time&gt;&lt;/p&gt;&lt;/div&gt;&lt;/blockquote&gt; &lt;script async src=&#34;//www.instagram.com/embed.js&#34;&gt;&lt;/script&gt; --&gt;
&lt;p&gt;I managed to find time to go running on two of the mornings, making me realise how car-dominated Toulouse, like many other cities, is. The car dominated nature of the city is shown in the images below, which show my running route that dodged giant roads, and a photo of one of the main roads, which was not particularly friendly to people walking and cycling to say the least!&lt;/p&gt;
&lt;a data-flickr-embed=&#34;true&#34;  href=&#34;https://www.flickr.com/photos/97888609@N02/48247285282/in/photostream/&#34; title=&#34;Screenshot_2019-07-10-06-53-00-088_net.osmand.plus&#34;&gt;&lt;img src=&#34;https://live.staticflickr.com/65535/48247285282_21b35c313b_c.jpg&#34; width=&#34;400&#34; height=&#34;800&#34; alt=&#34;Screenshot_2019-07-10-06-53-00-088_net.osmand.plus&#34;&gt;&lt;/a&gt;
&lt;script async src=&#34;//embedr.flickr.com/assets/client-code.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;a data-flickr-embed=&#34;true&#34;  href=&#34;https://www.flickr.com/photos/97888609@N02/48247197386/in/photostream/&#34; title=&#34;IMG_20190710_063516&#34;&gt;&lt;img src=&#34;https://live.staticflickr.com/65535/48247197386_391eb748b5_c.jpg&#34; width=&#34;800&#34; height=&#34;600&#34; alt=&#34;IMG_20190710_063516&#34;&gt;&lt;/a&gt;
&lt;script async src=&#34;//embedr.flickr.com/assets/client-code.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;p&gt;Despite the car traffic, the cycleways in Toulouse were great. I recommend anyone visiting a city for a few days to get a bike, a great way to see the city close up, and get from A to B efficiently, avoiding traffic congestion and with the freedom to get off the beaten (road) track. For fun, I recorded some of my routes in Toulouse and uploaded them to OSM, the free and open access community made global mapping database (which I fully endorse over Google Maps ;), allowing reproducible code to show my everyday trip to the conference and back:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;download.file(&amp;quot;https://www.openstreetmap.org/trace/3046619/data&amp;quot;, &amp;quot;track1.gpx&amp;quot;)
sf::st_layers(&amp;quot;track1.gpx&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Driver: GPX 
## Available layers:
##     layer_name     geometry_type features fields
## 1    waypoints             Point        0     23
## 2       routes       Line String        0     12
## 3       tracks Multi Line String        1     12
## 4 route_points             Point        0     25
## 5 track_points             Point      152     27&lt;/code&gt;&lt;/pre&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;track = sf::read_sf(&amp;quot;track1.gpx&amp;quot;, layer = &amp;quot;tracks&amp;quot;)
mapview::mapview(track)&lt;/code&gt;&lt;/pre&gt;
&lt;div id=&#34;htmlwidget-1&#34; style=&#34;width:672px;height:480px;&#34; class=&#34;leaflet html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-1&#34;&gt;{&#34;x&#34;:{&#34;options&#34;:{&#34;minZoom&#34;:1,&#34;maxZoom&#34;:100,&#34;crs&#34;:{&#34;crsClass&#34;:&#34;L.CRS.EPSG3857&#34;,&#34;code&#34;:null,&#34;proj4def&#34;:null,&#34;projectedBounds&#34;:null,&#34;options&#34;:{}},&#34;preferCanvas&#34;:false,&#34;bounceAtZoomLimits&#34;:false,&#34;maxBounds&#34;:[[[-90,-370]],[[90,370]]]},&#34;calls&#34;:[{&#34;method&#34;:&#34;addProviderTiles&#34;,&#34;args&#34;:[&#34;CartoDB.Positron&#34;,1,&#34;CartoDB.Positron&#34;,{&#34;errorTileUrl&#34;:&#34;&#34;,&#34;noWrap&#34;:false,&#34;detectRetina&#34;:false}]},{&#34;method&#34;:&#34;addProviderTiles&#34;,&#34;args&#34;:[&#34;CartoDB.DarkMatter&#34;,2,&#34;CartoDB.DarkMatter&#34;,{&#34;errorTileUrl&#34;:&#34;&#34;,&#34;noWrap&#34;:false,&#34;detectRetina&#34;:false}]},{&#34;method&#34;:&#34;addProviderTiles&#34;,&#34;args&#34;:[&#34;OpenStreetMap&#34;,3,&#34;OpenStreetMap&#34;,{&#34;errorTileUrl&#34;:&#34;&#34;,&#34;noWrap&#34;:false,&#34;detectRetina&#34;:false}]},{&#34;method&#34;:&#34;addProviderTiles&#34;,&#34;args&#34;:[&#34;Esri.WorldImagery&#34;,4,&#34;Esri.WorldImagery&#34;,{&#34;errorTileUrl&#34;:&#34;&#34;,&#34;noWrap&#34;:false,&#34;detectRetina&#34;:false}]},{&#34;method&#34;:&#34;addProviderTiles&#34;,&#34;args&#34;:[&#34;OpenTopoMap&#34;,5,&#34;OpenTopoMap&#34;,{&#34;errorTileUrl&#34;:&#34;&#34;,&#34;noWrap&#34;:false,&#34;detectRetina&#34;:false}]},{&#34;method&#34;:&#34;createMapPane&#34;,&#34;args&#34;:[&#34;line&#34;,430]},{&#34;method&#34;:&#34;addPolylines&#34;,&#34;args&#34;:[[[[{&#34;lng&#34;:[1.400506,1.4006889,1.4007832,1.400683,1.4006602,1.4005251,1.400484,1.4005088,1.4007603,1.4010393,1.401267,1.4014611,1.4018177,1.4021275,1.4025796,1.4029969,1.4036092,1.4039726,1.4043514,1.4046799,1.4049264,1.4051744,1.4054378,1.4056694,1.4059087,1.4061291,1.4063419,1.4065754,1.4068117,1.4070478,1.4071941,1.4072091,1.4072379,1.4073143,1.4073843,1.4074604,1.4075272,1.4076321,1.4078188,1.4080745,1.4083397,1.4086052,1.4088915,1.4091065,1.409369,1.4097115,1.4101483,1.4106225,1.4110997,1.4111954,1.4109534,1.4109835,1.411223,1.4115138,1.4118245,1.4121433,1.4124222,1.4127341,1.4130401,1.4128176,1.4126221,1.4124203,1.4121979,1.4125378,1.4127518,1.41298,1.4135993,1.413874,1.4140961,1.4143976,1.4148247,1.4151264,1.4153615,1.4156107,1.4158784,1.4161339,1.4165603,1.4168287,1.4171691,1.4174351,1.4177088,1.417982,1.4182537,1.4185344,1.419263,1.4195111,1.4197766,1.4200856,1.4204674,1.4208365,1.4211473,1.4215132,1.4217384,1.4220957,1.4225408,1.4228799,1.4230849,1.4234496,1.4237093,1.4238463,1.4239208,1.4238005,1.4236883,1.4239385,1.4242242,1.4245101,1.4247684,1.4250772,1.4253445,1.4255234,1.4257759,1.4259649,1.4261808,1.426402,1.4266341,1.4268318,1.4270289,1.4272602,1.427444,1.4277168,1.4279732,1.4282314,1.428482,1.4287865,1.4290637,1.4293718,1.4296592,1.4300627,1.4304569,1.430709,1.4311231,1.4314097,1.4317594,1.4319881,1.432236,1.4324832,1.4327659,1.433001,1.4331084,1.433165,1.4331345,1.4331961,1.4333423,1.4334665,1.4335608,1.4337393,1.4340082,1.434249,1.4344912,1.4347306,1.4349818,1.4349452],&#34;lat&#34;:[43.6057735,43.6054551,43.6052884,43.6054591,43.6056613,43.6059605,43.6061691,43.6063873,43.6063477,43.6061643,43.606021,43.6058989,43.6057571,43.6056363,43.6054479,43.6052723,43.6050985,43.6048724,43.6046683,43.6044945,43.6045481,43.6044707,43.6043981,43.6042952,43.6042107,43.6041141,43.6040063,43.6038925,43.6038023,43.6039354,43.6042589,43.6045611,43.604811,43.6051093,43.6053569,43.6056185,43.6058346,43.6060314,43.6062175,43.6063931,43.6065538,43.6067143,43.6069352,43.607101,43.6072562,43.6074517,43.6076036,43.6077986,43.6079583,43.6081255,43.6082053,43.6083839,43.6084973,43.6086482,43.6087966,43.6089424,43.6090696,43.6092024,43.6093297,43.6094365,43.6095728,43.6097072,43.6098247,43.6097834,43.6096694,43.6095187,43.609333,43.6094028,43.6095258,43.6096657,43.6097886,43.6097975,43.6098744,43.6099695,43.6100222,43.6100764,43.6101649,43.6101938,43.6102833,43.6102942,43.6103424,43.6103936,43.6103947,43.6103537,43.6101626,43.610038,43.6099459,43.6098048,43.609652,43.609526,43.6094204,43.6093219,43.6092126,43.6091031,43.6089466,43.6088313,43.6086773,43.6085818,43.6085224,43.6086867,43.6088689,43.6090299,43.6091929,43.6093412,43.6094855,43.6096801,43.6098381,43.610032,43.610028,43.6098624,43.6096618,43.6094755,43.6092891,43.6090951,43.6088907,43.6087302,43.608556,43.6083525,43.6081587,43.6081203,43.6082041,43.6082101,43.6082597,43.6083702,43.6084624,43.6085817,43.6087528,43.6088219,43.6089356,43.6089602,43.6091512,43.6092884,43.6094538,43.6095247,43.6096219,43.6096969,43.6097306,43.6098208,43.6099845,43.6101808,43.6104616,43.6106517,43.6108931,43.6110814,43.6112491,43.6113794,43.6114408,43.6115166,43.6115946,43.6116463,43.6116963,43.6115106]}]]],null,&#34;track&#34;,{&#34;crs&#34;:{&#34;crsClass&#34;:&#34;L.CRS.EPSG3857&#34;,&#34;code&#34;:null,&#34;proj4def&#34;:null,&#34;projectedBounds&#34;:null,&#34;options&#34;:{}},&#34;pane&#34;:&#34;line&#34;,&#34;stroke&#34;:true,&#34;color&#34;:&#34;#6666FF&#34;,&#34;weight&#34;:2,&#34;opacity&#34;:0.9,&#34;fill&#34;:false,&#34;fillColor&#34;:&#34;#6666FF&#34;,&#34;fillOpacity&#34;:1,&#34;smoothFactor&#34;:1,&#34;noClip&#34;:false},&#34;&lt;html&gt;&lt;head&gt;&lt;link rel=\&#34;stylesheet\&#34; type=\&#34;text/css\&#34; href=\&#34;lib/popup/popup.css\&#34;&gt;&lt;\/head&gt;&lt;body&gt;&lt;div class=\&#34;scrollableContainer\&#34;&gt;&lt;table class=\&#34;popup scrollable\&#34; id=\&#34;popup\&#34;&gt;&lt;tr class=&#39;coord&#39;&gt;&lt;td&gt;&lt;\/td&gt;&lt;td&gt;&lt;b&gt;Feature ID&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;1&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr class=&#39;alt&#39;&gt;&lt;td&gt;1&lt;\/td&gt;&lt;td&gt;&lt;b&gt;name&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;NA&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr&gt;&lt;td&gt;2&lt;\/td&gt;&lt;td&gt;&lt;b&gt;cmt&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;NA&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr class=&#39;alt&#39;&gt;&lt;td&gt;3&lt;\/td&gt;&lt;td&gt;&lt;b&gt;desc&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;NA&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr&gt;&lt;td&gt;4&lt;\/td&gt;&lt;td&gt;&lt;b&gt;src&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;NA&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr class=&#39;alt&#39;&gt;&lt;td&gt;5&lt;\/td&gt;&lt;td&gt;&lt;b&gt;link1_href&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;NA&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr&gt;&lt;td&gt;6&lt;\/td&gt;&lt;td&gt;&lt;b&gt;link1_text&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;NA&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr class=&#39;alt&#39;&gt;&lt;td&gt;7&lt;\/td&gt;&lt;td&gt;&lt;b&gt;link1_type&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;NA&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr&gt;&lt;td&gt;8&lt;\/td&gt;&lt;td&gt;&lt;b&gt;link2_href&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;NA&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr class=&#39;alt&#39;&gt;&lt;td&gt;9&lt;\/td&gt;&lt;td&gt;&lt;b&gt;link2_text&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;NA&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr&gt;&lt;td&gt;10&lt;\/td&gt;&lt;td&gt;&lt;b&gt;link2_type&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;NA&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr class=&#39;alt&#39;&gt;&lt;td&gt;11&lt;\/td&gt;&lt;td&gt;&lt;b&gt;number&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;NA&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr&gt;&lt;td&gt;12&lt;\/td&gt;&lt;td&gt;&lt;b&gt;type&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;NA&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;tr class=&#39;alt&#39;&gt;&lt;td&gt;13&lt;\/td&gt;&lt;td&gt;&lt;b&gt;geometry&amp;emsp;&lt;\/b&gt;&lt;\/td&gt;&lt;td align=&#39;right&#39;&gt;sfc_MULTILINESTRING&amp;emsp;&lt;\/td&gt;&lt;\/tr&gt;&lt;\/table&gt;&lt;\/div&gt;&lt;\/body&gt;&lt;\/html&gt;&#34;,{&#34;maxWidth&#34;:800,&#34;minWidth&#34;:50,&#34;autoPan&#34;:true,&#34;keepInView&#34;:false,&#34;closeButton&#34;:true,&#34;closeOnClick&#34;:true,&#34;className&#34;:&#34;&#34;},&#34;1&#34;,{&#34;interactive&#34;:false,&#34;permanent&#34;:false,&#34;direction&#34;:&#34;auto&#34;,&#34;opacity&#34;:1,&#34;offset&#34;:[0,0],&#34;textsize&#34;:&#34;10px&#34;,&#34;textOnly&#34;:false,&#34;className&#34;:&#34;&#34;,&#34;sticky&#34;:true},{&#34;stroke&#34;:true,&#34;weight&#34;:3,&#34;opacity&#34;:1,&#34;fill&#34;:false,&#34;fillOpacity&#34;:0,&#34;bringToFront&#34;:false,&#34;sendToBack&#34;:false}]},{&#34;method&#34;:&#34;addScaleBar&#34;,&#34;args&#34;:[{&#34;maxWidth&#34;:100,&#34;metric&#34;:true,&#34;imperial&#34;:true,&#34;updateWhenIdle&#34;:true,&#34;position&#34;:&#34;bottomleft&#34;}]},{&#34;method&#34;:&#34;addHomeButton&#34;,&#34;args&#34;:[1.400484,43.6038023,1.4349818,43.6116963,&#34;Zoom to track&#34;,&#34;&lt;strong&gt; track &lt;\/strong&gt;&#34;,&#34;bottomright&#34;]},{&#34;method&#34;:&#34;addLayersControl&#34;,&#34;args&#34;:[[&#34;CartoDB.Positron&#34;,&#34;CartoDB.DarkMatter&#34;,&#34;OpenStreetMap&#34;,&#34;Esri.WorldImagery&#34;,&#34;OpenTopoMap&#34;],&#34;track&#34;,{&#34;collapsed&#34;:true,&#34;autoZIndex&#34;:true,&#34;position&#34;:&#34;topleft&#34;}]},{&#34;method&#34;:&#34;addLegend&#34;,&#34;args&#34;:[{&#34;colors&#34;:[&#34;#6666FF&#34;],&#34;labels&#34;:[&#34;track&#34;],&#34;na_color&#34;:null,&#34;na_label&#34;:&#34;NA&#34;,&#34;opacity&#34;:1,&#34;position&#34;:&#34;topright&#34;,&#34;type&#34;:&#34;factor&#34;,&#34;title&#34;:&#34;track&#34;,&#34;extra&#34;:null,&#34;layerId&#34;:null,&#34;className&#34;:&#34;info legend&#34;,&#34;group&#34;:&#34;track&#34;}]}],&#34;limits&#34;:{&#34;lat&#34;:[43.6038023,43.6116963],&#34;lng&#34;:[1.400484,1.4349818]}},&#34;evals&#34;:[],&#34;jsHooks&#34;:{&#34;render&#34;:[{&#34;code&#34;:&#34;function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find(&#39;#&#39; + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement(&#39;div&#39;));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass(&#39;lnlt&#39;);\n      newDiv.css({\n      &#39;position&#39;: &#39;relative&#39;,\n      &#39;bottomleft&#39;:  &#39;0px&#39;,\n      &#39;background-color&#39;: &#39;rgba(255, 255, 255, 0.7)&#39;,\n      &#39;box-shadow&#39;: &#39;0 0 2px #bbb&#39;,\n      &#39;background-clip&#39;: &#39;padding-box&#39;,\n      &#39;margin&#39;: &#39;0&#39;,\n      &#39;padding-left&#39;: &#39;5px&#39;,\n      &#39;color&#39;: &#39;#333&#39;,\n      &#39;font&#39;: &#39;9px/1.5 \&#34;Helvetica Neue\&#34;, Arial, Helvetica, sans-serif&#39;,\n      &#39;z-index&#39;: &#39;700&#39;,\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find(&#39;.lnlt&#39;);\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on(&#39;mousemove&#39;, function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector(&#39;.lnlt&#39;) === null) lnlt = addElement();\n      lnlt.text(\n                           &#39; lon: &#39; + (e.latlng.lng).toFixed(5) +\n                           &#39; | lat: &#39; + (e.latlng.lat).toFixed(5) +\n                           &#39; | zoom: &#39; + map.getZoom() +\n                           &#39; | x: &#39; + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           &#39; | y: &#39; + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           &#39; | epsg: 3857 &#39; +\n                           &#39; | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs &#39;);\n      } else {\n      if (document.querySelector(&#39;.lnlt&#39;) === null) lnlt = addElement();\n      lnlt.text(\n                      &#39; lon: &#39; + (e.latlng.lng).toFixed(5) +\n                      &#39; | lat: &#39; + (e.latlng.lat).toFixed(5) +\n                      &#39; | zoom: &#39; + map.getZoom() + &#39; &#39;);\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on(&#39;mouseout&#39;, function (e) {\n      var strip = document.querySelector(&#39;.lnlt&#39;);\n      strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on(&#39;preclick&#39;, function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector(&#39;.lnlt&#39;) === null) lnlt = addElement();\n      lnlt.text(\n                      &#39; lon: &#39; + (e.latlng.lng).toFixed(5) +\n                      &#39; | lat: &#39; + (e.latlng.lat).toFixed(5) +\n                      &#39; | zoom: &#39; + map.getZoom() + &#39; &#39;);\n      var txt = document.querySelector(&#39;.lnlt&#39;).textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText(&#39;\&#34;&#39; + txt + &#39;\&#34;&#39;);\n      }\n      });\n\n      //map.on(&#39;click&#39;, function (e) {\n      //  var txt = document.querySelector(&#39;.lnlt&#39;).textContent;\n      //  console.log(txt);\n      //  //txt.innerText.focus();\n      //  //txt.select();\n      //  setClipboardText(txt);\n      //});\n\n      function setClipboardText(text){\n      var id = &#39;mycustom-clipboard-textarea-hidden-id&#39;;\n      var existsTextarea = document.getElementById(id);\n\n      if(!existsTextarea){\n      console.log(&#39;Creating textarea&#39;);\n      var textarea = document.createElement(&#39;textarea&#39;);\n      textarea.id = id;\n      // Place in top-left corner of screen regardless of scroll position.\n      textarea.style.position = &#39;fixed&#39;;\n      textarea.style.top = 0;\n      textarea.style.left = 0;\n\n      // Ensure it has a small width and height. Setting to 1px / 1em\n      // doesn&#39;t work as this gives a negative w/h on some browsers.\n      textarea.style.width = &#39;1px&#39;;\n      textarea.style.height = &#39;1px&#39;;\n\n      // We don&#39;t need padding, reducing the size if it does flash render.\n      textarea.style.padding = 0;\n\n      // Clean up any borders.\n      textarea.style.border = &#39;none&#39;;\n      textarea.style.outline = &#39;none&#39;;\n      textarea.style.boxShadow = &#39;none&#39;;\n\n      // Avoid flash of white box if rendered for any reason.\n      textarea.style.background = &#39;transparent&#39;;\n      document.querySelector(&#39;body&#39;).appendChild(textarea);\n      console.log(&#39;The textarea now exists :)&#39;);\n      existsTextarea = document.getElementById(id);\n      }else{\n      console.log(&#39;The textarea already exists :3&#39;)\n      }\n\n      existsTextarea.value = text;\n      existsTextarea.select();\n\n      try {\n      var status = document.execCommand(&#39;copy&#39;);\n      if(!status){\n      console.error(&#39;Cannot copy text&#39;);\n      }else{\n      console.log(&#39;The text is now on the clipboard&#39;);\n      }\n      } catch (err) {\n      console.log(&#39;Unable to copy.&#39;);\n      }\n      }\n\n\n      }\n      ).call(this.getMap(), el, x, data);\n}&#34;,&#34;data&#34;:null}]}}&lt;/script&gt;
&lt;p&gt;Doing this route each day was a great way to clear my head and prepare for my talk on Wednesday morning.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;user-2019-socials&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;5. UseR! 2019 socials&lt;/h1&gt;
&lt;p&gt;I’ve often heard that the most valuable parts of conferences take place outside the formal sessions and there were ample opportunities for this to happen at UseR! 2019, with plentiful coffee breaks (and plentiful coffee!) and a range of fringe events and social events on a spectrum from the official Gala Dinner to spontaneous social trips to explore the night life in Toulouse. The Gala Dinner was frankly amazing: it’s not everyday that you get to explore and inter nation space station and listen to Flamenco music in the same evening (the photos and video below prove it is possible)!&lt;/p&gt;
&lt;a data-flickr-embed=&#34;true&#34;  href=&#34;https://www.flickr.com/photos/97888609@N02/48256753957/in/photostream/&#34; title=&#34;PANO_20190710_203925.jpg&#34;&gt;&lt;img src=&#34;https://live.staticflickr.com/65535/48256753957_e76846ea55_c.jpg&#34; width=&#34;800&#34; height=&#34;356&#34; alt=&#34;PANO_20190710_203925.jpg&#34;&gt;&lt;/a&gt;
&lt;script async src=&#34;//embedr.flickr.com/assets/client-code.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;a data-flickr-embed=&#34;true&#34;  href=&#34;https://www.flickr.com/photos/97888609@N02/48256682626/in/album-72157709543796761/&#34; title=&#34;IMG_20190710_201757&#34;&gt;&lt;img src=&#34;https://live.staticflickr.com/65535/48256682626_35e1995fdb_c.jpg&#34; width=&#34;800&#34; height=&#34;600&#34; alt=&#34;IMG_20190710_201757&#34;&gt;&lt;/a&gt;
&lt;script async src=&#34;//embedr.flickr.com/assets/client-code.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;a data-flickr-embed=&#34;true&#34;  href=&#34;https://www.flickr.com/photos/97888609@N02/48256686546/in/photostream/&#34; title=&#34;VID_20190710_202540&#34;&gt;&lt;img src=&#34;https://live.staticflickr.com/31337/48256686546_9048fc1278_h.jpg&#34; width=&#34;1600&#34; height=&#34;900&#34; alt=&#34;VID_20190710_202540&#34;&gt;&lt;/a&gt;
&lt;script async src=&#34;//embedr.flickr.com/assets/client-code.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;meeting-collaborators-and-online-acquaintances&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;6. Meeting collaborators and online acquaintances&lt;/h1&gt;
&lt;p&gt;The event was a great opportunity to catch up with R collaborators. Jakub Nowosad and I did some important thinking on our &lt;a href=&#34;https://geocompr.robinlovelace.net/&#34;&gt;&lt;em&gt;Geocomputation with R&lt;/em&gt;&lt;/a&gt; open source book (&lt;a href=&#34;https://geocompr.github.io/user_19/presentation/#1&#34;&gt;see the slides from Jakub’s talk here&lt;/a&gt;), and a photo taken just before the talk below.&lt;/p&gt;
&lt;a data-flickr-embed=&#34;true&#34;  href=&#34;https://www.flickr.com/photos/97888609@N02/48272563561/&#34; title=&#34;IMG_20190712_110533&#34;&gt;&lt;img src=&#34;https://live.staticflickr.com/65535/48272563561_d2e9a5654b_c.jpg&#34; width=&#34;800&#34; height=&#34;600&#34; alt=&#34;IMG_20190712_110533&#34;&gt;&lt;/a&gt;
&lt;script async src=&#34;//embedr.flickr.com/assets/client-code.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;p&gt;I finally managed to persuade Colin Gillespie that we need to update our open source book &lt;a href=&#34;https://csgillespie.github.io/efficientR/&#34;&gt;&lt;em&gt;Efficient R Programming&lt;/em&gt;&lt;/a&gt;. Watch this space…&lt;/p&gt;
&lt;p&gt;I met many people whose work I’ve seen online but never had the pleasure of meeting in person, including Timothée Giraud (author of &lt;a href=&#34;https://github.com/rCarto/osrm&#34;&gt;osrm&lt;/a&gt; and many other excellent geo* packages), Enrico Spinielli (who is pushing the boundaries of 3d trajectory analysis in R with packages such as &lt;a href=&#34;https://github.com/euctrl-pru/trrrj&#34;&gt;trjjj&lt;/a&gt;) and Angela Li (who is pushing &lt;a href=&#34;https://twitter.com/hashtag/rspatial&#34;&gt;#rspatial&lt;/a&gt; to new levels on the other side of the Atlantic).&lt;/p&gt;
&lt;p&gt;And of course there was much serendipity. I had the honour of meeting many of my R heroes, who were all fun and friendly, demonstrating that it is possible to be high flying while humble. On the train back I sat next R Core Team member Martin Meachler, and learned about the messages emitted every time packages such as &lt;code&gt;stplanr&lt;/code&gt;, which depend on packages that use &lt;code&gt;R.oo&lt;/code&gt;, are loaded:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(stplanr)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Registered S3 method overwritten by &amp;#39;R.oo&amp;#39;:
##   method        from       
##   throw.default R.methodsS3&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We got on so well we decided to walk through part of Paris where we both had to change trains as shown below:&lt;/p&gt;
&lt;a data-flickr-embed=&#34;true&#34;  href=&#34;https://www.flickr.com/photos/97888609@N02/48272643002/in/photostream/&#34; title=&#34;IMG_20190712_171219&#34;&gt;&lt;img src=&#34;https://live.staticflickr.com/65535/48272643002_bda5773a2a_c.jpg&#34; width=&#34;800&#34; height=&#34;600&#34; alt=&#34;IMG_20190712_171219&#34;&gt;&lt;/a&gt;
&lt;script async src=&#34;//embedr.flickr.com/assets/client-code.js&#34; charset=&#34;utf-8&#34;&gt;&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;my-talk&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;My talk&lt;/h1&gt;
&lt;p&gt;My talk was part of a session entitled ‘Movement &amp;amp; transport’, that contained the following talks:&lt;/p&gt;
&lt;div id=&#34;htmlwidget-2&#34; style=&#34;width:100%;height:auto;&#34; class=&#34;datatables html-widget&#34;&gt;&lt;/div&gt;
&lt;script type=&#34;application/json&#34; data-for=&#34;htmlwidget-2&#34;&gt;{&#34;x&#34;:{&#34;filter&#34;:&#34;none&#34;,&#34;data&#34;:[[&#34;85&#34;,&#34;87&#34;,&#34;89&#34;,&#34;91&#34;],[&#34;Movement &amp;amp; transport&#34;,&#34;Movement &amp;amp; transport&#34;,&#34;Movement &amp;amp; transport&#34;,&#34;Movement &amp;amp; transport&#34;],[&#34;Rocio Joo&#34;,&#34;Mohammad Mehdi Moradi&#34;,&#34;Christine Thomas-Agnan&#34;,&#34;Robin Lovelace&#34;],[&#34;Navigating through the R packages for movement&#34;,&#34;Classes, methods and data analysis for trajectories&#34;,&#34;Modelling spatial flows with R&#34;,&#34;R for Transport Planning&#34;],[&#34;http://www.user2019.fr/static/pres/t258615.pdf&#34;,&#34;http://www.user2019.fr/static/pres/t251784.pdf&#34;,&#34;http://www.user2019.fr/static/pres/t256726.pdf&#34;,&#34;https://www.robinlovelace.net/presentations/user2019-r-for-transport-planning.html&#34;]],&#34;container&#34;:&#34;&lt;table class=\&#34;display\&#34;&gt;\n  &lt;thead&gt;\n    &lt;tr&gt;\n      &lt;th&gt; &lt;\/th&gt;\n      &lt;th&gt;Session&lt;\/th&gt;\n      &lt;th&gt;Speaker&lt;\/th&gt;\n      &lt;th&gt;Title&lt;\/th&gt;\n      &lt;th&gt;link&lt;\/th&gt;\n    &lt;\/tr&gt;\n  &lt;\/thead&gt;\n&lt;\/table&gt;&#34;,&#34;options&#34;:{&#34;order&#34;:[],&#34;autoWidth&#34;:false,&#34;orderClasses&#34;:false,&#34;columnDefs&#34;:[{&#34;orderable&#34;:false,&#34;targets&#34;:0}]}},&#34;evals&#34;:[],&#34;jsHooks&#34;:[]}&lt;/script&gt;
&lt;p&gt;I won’t go into the details of my talk because you can see the &lt;a href=&#34;https://www.robinlovelace.net/presentations/user2019-r-for-transport-planning.html#1&#34;&gt;slides for yourself at the URL&lt;/a&gt;. However, it raised many questions and makes me wonder if it’s worth creating an ‘r-transport’ type organisation. Another question, that I didn’t get to answer, is where should reproducible transport questions go, now that my attempts to create a ‘Transport Planning’ StackExchange site seemed to have failed, as shown in the slide below : ( Any ideas on that, welcome : )&lt;/p&gt;
&lt;iframe src=&#34;https://www.robinlovelace.net/presentations/user2019-r-for-transport-planning.html#28&#34; width=&#34;672&#34; height=&#34;400px&#34;&gt;
&lt;/iframe&gt;
&lt;/div&gt;
&lt;div id=&#34;conclusion&#34; class=&#34;section level1&#34;&gt;
&lt;h1&gt;Conclusion&lt;/h1&gt;
&lt;!-- The only negative part of the conference for me was that it felt too short. --&gt;
&lt;!-- That&#39;s partly my own fault for  attend fewer conference but give them 100%, rather than attending many and feeling pressed for time. --&gt;
&lt;!-- &#34;Quality over quantity&#34; should be guiding principle of conference attendance I&#39;ve decided. --&gt;
&lt;p&gt;Overall, UseR! 2019 was a fun, enlightening and inspiring event, and I hope to attend future UseRs, in person or remotely. I wish more conferences were like this. This small write up is designed as a reminder to my future self, and anyone else reading, to remember how good conferences &lt;em&gt;can be&lt;/em&gt;. The example set by this outstanding conference provides some pointers in that direction.&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>stplanr paper published</title>
      <link>/2019/02/25/sustainable-transport-planning-with-r-stplanr-paper-published/</link>
      <pubDate>Mon, 25 Feb 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/02/25/sustainable-transport-planning-with-r-stplanr-paper-published/</guid>
      <description>


&lt;p&gt;I am very happy to announce that the paper &lt;em&gt;stplanr: A package for transport planning&lt;/em&gt; has been published in The R Journal &lt;span class=&#34;citation&#34;&gt;(Lovelace and Ellison 2018)&lt;/span&gt; 🎉.&lt;/p&gt;
&lt;p&gt;This is the result of around 3 years of work: it took us (co-author &lt;a href=&#34;https://business.sydney.edu.au/staff/richard.ellison&#34;&gt;Richard Ellison&lt;/a&gt; and me) over a year to get round to writing the paper after the &lt;strong&gt;stplanr&lt;/strong&gt; package was first released on &lt;a href=&#34;https://cran.r-project.org/package=stplanr&#34;&gt;CRAN&lt;/a&gt; in November 2015 (see its &lt;a href=&#34;https://cran.r-project.org/src/contrib/Archive/stplanr/&#34;&gt;archive on CRAN&lt;/a&gt; for details); it wasn’t until March 2017 that the paper was formally submitted.&lt;/p&gt;
&lt;p&gt;After that, it was in the review process for almost 2 years, before finally being published last week.&lt;a href=&#34;#fn1&#34; class=&#34;footnoteRef&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; Confusingly, the paper has an official publication date of 2018, despite the second volume of The R Journal in 2018 actually being finished in 2019! See the &lt;a href=&#34;https://journal.r-project.org/archive/2018-1/&#34;&gt;current issue&lt;/a&gt; of The R Journal for all papers in this second 2018 volume. There are some interesting papers in there, not least an explanation of methods for visualising point density by &lt;span class=&#34;citation&#34;&gt;Evangelista and Beskow (2018)&lt;/span&gt;, and an explanation of &lt;em&gt;another&lt;/em&gt; pipe &lt;span class=&#34;citation&#34;&gt;(Mount and Zumel 2018)&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Instead of going into the details of what the paper says (see the nicely formatted &lt;a href=&#34;https://journal.r-project.org/archive/2018/RJ-2018-053/RJ-2018-053.pdf&#34;&gt;pdf&lt;/a&gt; for that), I’d like to finish this post by saying a big THANK YOU to the editorial team behind The R Journal for such a high standard (better than many expensive journals I might add, The R Journal is volunteer-run to the best of my knowledge), especially Roger Bivand and John Verzani.&lt;/p&gt;
&lt;p&gt;Plans are afoot to build on the moment behind &lt;strong&gt;stplanr&lt;/strong&gt;, which originated as a place to store code that I was using to develop the Propensity to Cycle Tool (PCT, hosted at &lt;a href=&#34;http://www.pct.bike/&#34;&gt;www.pct.bike&lt;/a&gt;) &lt;span class=&#34;citation&#34;&gt;(Lovelace et al. 2017)&lt;/span&gt; and make additional, overdue improvements to the package. For more on that, please head-over to the issue tracker (input welcome) or take a read of the &lt;a href=&#34;https://journal.r-project.org/archive/2018/RJ-2018-053/RJ-2018-053.pdf#page=14&#34;&gt;final section&lt;/a&gt; of the just-publised paper.&lt;/p&gt;
&lt;div id=&#34;references&#34; class=&#34;section level2 unnumbered&#34;&gt;
&lt;h2&gt;References&lt;/h2&gt;
&lt;div id=&#34;refs&#34; class=&#34;references&#34;&gt;
&lt;div id=&#34;ref-evangelista_geospatial_2018&#34;&gt;
&lt;p&gt;Evangelista, Paul F., and David Beskow. 2018. “Geospatial Point Density.” &lt;em&gt;The R Journal&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;ref-lovelace_stplanr_2018&#34;&gt;
&lt;p&gt;Lovelace, Robin, and Richard Ellison. 2018. “Stplanr: A Package for Transport Planning.” &lt;em&gt;The R Journal&lt;/em&gt; 10 (2): 7–23. doi:&lt;a href=&#34;https://doi.org/10.32614/RJ-2018-053&#34;&gt;10.32614/RJ-2018-053&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;ref-lovelace_propensity_2017&#34;&gt;
&lt;p&gt;Lovelace, Robin, Anna Goodman, Rachel Aldred, Nikolai Berkoff, Ali Abbas, and James Woodcock. 2017. “The Propensity to Cycle Tool: An Open Source Online System for Sustainable Transport Planning.” &lt;em&gt;Journal of Transport and Land Use&lt;/em&gt; 10 (1). doi:&lt;a href=&#34;https://doi.org/10.5198/jtlu.2016.862&#34;&gt;10.5198/jtlu.2016.862&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;ref-mount_dot-pipe_2018&#34;&gt;
&lt;p&gt;Mount, John, and Nina Zumel. 2018. “Dot-Pipe: An S3 Extensible Pipe for R.” &lt;em&gt;The R Journal&lt;/em&gt; 10 (2): 309–16.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;I should say, that it was not the fault of The R Journal’s editorial team that it took so long to publish the paper: I asked for it to be put on hold while I completed the mammoth task of re-writing dozens of functions to support sf (see the pull request in which the &lt;a href=&#34;https://github.com/ropensci/stplanr/pull/198&#34;&gt;&lt;code&gt;sfr&lt;/code&gt;&lt;/a&gt; branch was merged into &lt;code&gt;master&lt;/code&gt; for the grizzly details).&lt;a href=&#34;#fnref1&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Aggregating lines, part II</title>
      <link>/2019/02/14/aggregating-lines-part-ii/</link>
      <pubDate>Thu, 14 Feb 2019 00:00:00 +0000</pubDate>
      
      <guid>/2019/02/14/aggregating-lines-part-ii/</guid>
      <description>


&lt;p&gt;The &lt;a href=&#34;https://www.robinlovelace.net/2018/10/27/aggregating-lines/&#34;&gt;previous post&lt;/a&gt; demonstrated a new method to aggregate overlapping lines. It showed how to combine 2 lines that have an area of overlap. More excitingly, it led to the creation of a new function in &lt;strong&gt;stplanr&lt;/strong&gt;, &lt;code&gt;overline_sf()&lt;/code&gt;, that lives in the development version of the package. The purpose of this post is to provide an update on the status of the work to refactor the &lt;code&gt;overline()&lt;/code&gt; function, in a human friendly alternative to discussion in the relevant GitHub issue: &lt;a href=&#34;https://github.com/ropensci/stplanr/issues/273&#34; class=&#34;uri&#34;&gt;https://github.com/ropensci/stplanr/issues/273&lt;/a&gt;&lt;/p&gt;
&lt;div id=&#34;set-up&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Set-up&lt;/h2&gt;
&lt;p&gt;To re-cap, these are the package versions we’ll be using in this post (run this line to get the development version of stplanr if you want to reproduce the results):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;remotes::install_github(&amp;quot;ropensci/stplanr&amp;quot;, ref = &amp;quot;refactor-overline&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The library is loaded and the input data from the previous post was loaded as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(stplanr)
routes_fast_sf$value = 1
sl = routes_fast_sf[2:3, ]
sl$value = c(2, 5)
overline_sf2 = function(sl, attrib) {
  attrib = &amp;quot;value&amp;quot;
  attrib1 = paste0(attrib, &amp;quot;.1&amp;quot;)
  sl_intersection = sf::st_intersection(sl[1, attrib], sl[2, attrib])
  sl_intersection[[attrib]] = sl_intersection[[attrib]] + sl_intersection[[attrib1]]
  sl_intersection[[attrib1]] = NULL
  sl_seg = sf::st_difference(sl[attrib], sf::st_geometry(sl_intersection))
  rnet = rbind(sl_intersection, sl_seg)
  return(rnet)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This was used as the basis of a demonstration of how overline works, demonstrated in the following code chunk and resulting plot:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rnet = overline_sf(sl, &amp;quot;value&amp;quot;)
plot(rnet[&amp;quot;value&amp;quot;], lwd = rnet$value)
plot(sl[&amp;quot;value&amp;quot;], lwd = sl$value, col = sf::sf.colors(2, alpha = 0.5))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;dealing-with-many-lines&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Dealing with many lines&lt;/h2&gt;
&lt;p&gt;The above method worked with 2 lines but how can it be used to process many lines? Clearly the same function could be implemented on another line, but it would need to work from the 3 lines of the newly created &lt;code&gt;rnet&lt;/code&gt; object rather than the original 2 routes. Let’s introduce a 3&lt;sup&gt;rd&lt;/sup&gt; route into the equation, that does not intersect with this newly created &lt;strong&gt;rnet&lt;/strong&gt; object:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sl3 = routes_fast_sf[4, ]
rnet = overline_sf2(rnet, sl)
plot(rnet$geometry, lwd = rnet$value)
plot(sl3, col = &amp;quot;red&amp;quot;, add = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In this case the method of adding to rnet is simple: just add the entirety of the line to the &lt;code&gt;rnet&lt;/code&gt; object:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;attrib = &amp;quot;value&amp;quot;
rnet3 = rbind(rnet, sl3[attrib])
plot(rnet3$geometry, lwd = rnet3$value)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This works fine. In fact it works better than the original &lt;code&gt;overline&lt;/code&gt; function because it does not add the value of the existing thickest line in the previous figure onto the new line, a problem associated with &lt;code&gt;overline.sp()&lt;/code&gt; that is illustrated in the following code chunk and resulting figure:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sl1_3 = as(routes_fast_sf[2:4, ], &amp;quot;Spatial&amp;quot;)
rnet3_sp = overline(sl1_3, attrib = &amp;quot;value&amp;quot;)
plot(rnet3_sp, lwd = rnet3_sp$value)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A question that arises from the previous example is this: what if the next line intersects with the route network? It is no longer possible to simply add together two values. This can be illustrated by introducing 2 more lines:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sl4_5 = routes_fast_sf[5:6, ]
plot(rnet3$geometry, lwd = rnet3$value)
plot(sl4_5$geometry, col = &amp;quot;red&amp;quot;, add = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Both the new lines intersect with the newest part of the route network. This means that we cannot simply &lt;code&gt;rbind()&lt;/code&gt; them to it as we did for &lt;code&gt;sl3&lt;/code&gt;. They need to be dealt with separately.&lt;/p&gt;
&lt;p&gt;Before we deal with them, it’s worth taking some time to consider what we mean by ‘intersect’. Intersection is actuall a specific type of geometric relation between 2 sets of features. We can see the type of relation by using the function &lt;code&gt;st_relate()&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;relations = sf::st_relate(sl4_5, rnet3)
relations
unique(as.vector(relations))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This shows us something important: although 2 elements (1 and 4) of &lt;code&gt;rnet&lt;/code&gt; relate &lt;em&gt;in some way&lt;/em&gt; to the new lines, only the 4&lt;sup&gt;th&lt;/sup&gt; feature has a linear, overlapping relation with it. That relation is &lt;code&gt;1F1F00102&lt;/code&gt; which, as far as I can tell, is not a &lt;a href=&#34;https://en.wikipedia.org/wiki/DE-9IM#Spatial_predicates&#34;&gt;named spatial predicate&lt;/a&gt; (&lt;code&gt;FF1F00102&lt;/code&gt; means ‘intersects and touches’ but does not have a linear overlap). This relation is what we need to decide whether or not to simply bind a new feature to the growing &lt;code&gt;rnet&lt;/code&gt;, whether we need to break it up (or at least part of it) into smaller lines before doing so (it also raises the wider question of which order should we do things).&lt;/p&gt;
&lt;p&gt;In the simple case of &lt;em&gt;whether&lt;/em&gt; to simply bind the next line (4) onto &lt;code&gt;rnet3&lt;/code&gt; the answer is simple now we know the string code associated with linear overlaps. First we’ll test it on the previous example of &lt;code&gt;sl3&lt;/code&gt; and the original &lt;code&gt;rnet&lt;/code&gt; composed of 3 features:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;relate_rnet_3 = sf::st_relate(rnet, sl3, pattern = &amp;quot;1F1F00102&amp;quot;)
relate_rnet_3
any(lengths(relate_rnet_3))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;code&gt;FALSE&lt;/code&gt; meant there was no linear overlaps. So we simply used &lt;code&gt;rbind()&lt;/code&gt;. When we ask the same question of &lt;code&gt;rnet3&lt;/code&gt; and &lt;code&gt;sl4&lt;/code&gt;, however, the answer is &lt;code&gt;TRUE&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sl4 = sl4_5[1, ]
relate_rnet_4 = sf::st_relate(rnet3, sl4, pattern = &amp;quot;1F1F00102&amp;quot;)
relate_rnet_4
any(lengths(relate_rnet_4))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;How to proceed? We need to avoid &lt;code&gt;rnet&lt;/code&gt; objects containing any overlapping lines. Because &lt;code&gt;sl4&lt;/code&gt; overlaps with part of &lt;code&gt;rnet3&lt;/code&gt; we will need to remove the overlapping line, run the &lt;code&gt;overline_sf2()&lt;/code&gt; function, and then re-combine the result with the pre-existing route network object. We can split-up the &lt;code&gt;rnet3&lt;/code&gt; object into overlapping and non-overlapping features as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sel_overlaps = lengths(relate_rnet_4) &amp;gt; 0
rnet_overlaps = rnet3[sel_overlaps, ]
rnet3_tmp = rnet3[!sel_overlaps, ]&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We can check that there is only one overlapping feature as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;nrow(rnet_overlaps)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And we can proceed to join the two features together using our new function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rnet_overlaps4 = overline_sf2(rbind(rnet_overlaps, sl4[attrib]))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Adding this back to the &lt;code&gt;rnet3&lt;/code&gt; object results in an larger &lt;code&gt;rnet&lt;/code&gt; object incorporating all the &lt;code&gt;value&lt;/code&gt; and &lt;code&gt;geometry&lt;/code&gt; column data we have so far:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rnet = rbind(rnet3_tmp, rnet_overlaps4)
plot(rnet$geometry, lwd = rnet$value)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The information provided so far informed the creation of the following function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;stplanr::overline_sf&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;This function made use of the slightly simpler individual route-joining function, and associated helper functions:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;stplanr::overline_sf2

stplanr::overlaps
stplanr::to_linestring&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Aside from being clunky, this approach has the additional flaw of not working. It works fine for lines 2 to 6 in &lt;code&gt;routes_fast_sf&lt;/code&gt;, as illustrated below.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;r6 = routes_fast_sf[2:6, ]
rnet6 = overline_sf(r6, attrib = &amp;quot;value&amp;quot;)
plot(rnet6)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;A problem arises when we try to run the same command on the same data, but with one more line added. That will be the topic of the next post on aggregating lines to form route networks, which will also introduce a new function &lt;code&gt;overline2()&lt;/code&gt;, developed by my colleague &lt;a href=&#34;https://environment.leeds.ac.uk/transport/staff/964/dr-malcolm-morgan&#34;&gt;Malcolm Morgan&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;another-benchmark&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Another benchmark&lt;/h2&gt;
&lt;p&gt;To provide a taster of the new function, let’s see it in action in a benchmark on this latest route network consisting of the five lines illustrated in the previous plot. Again, we use &lt;code&gt;bench::mark()&lt;/code&gt; to benchmark each approach:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;bench::mark(check = FALSE,
  overline = stplanr::overline(r6, &amp;quot;value&amp;quot;),
  overline_sf = stplanr::overline_sf(r6, &amp;quot;value&amp;quot;),
  overline2 = stplanr::overline2(r6, &amp;quot;value&amp;quot;)
)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Again the results are not Earth-shattering and should be taken with a large pinch of salt: performance should not be evaluated against these relatively tiny datasets, but against the scale of datasets that the functions were designed to handle: city scale route networks involving thousands of overlapping lines. The same principle is used in the benchmarking section of the &lt;a href=&#34;https://h2oai.github.io/db-benchmark/&#34;&gt;h2oai website&lt;/a&gt;: focus on benchmarks that apply to the datasets you will actually be using. In this case, my hypothesis is that the geometric functions &lt;code&gt;overline()&lt;/code&gt; and &lt;code&gt;overline_sf()&lt;/code&gt; will perform disproportionately badly as the size of the input dataset grows (to be tested). Still, it is interesting to note that the new &lt;code&gt;overline2()&lt;/code&gt; function uses way more memory than the other functions. More next time!&lt;/p&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Aggregating lines, Part I</title>
      <link>/2018/10/27/aggregating-lines/</link>
      <pubDate>Sat, 27 Oct 2018 00:00:00 +0000</pubDate>
      
      <guid>/2018/10/27/aggregating-lines/</guid>
      <description>


&lt;div id=&#34;introduction&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;It’s been a busy 12 months but with the &lt;a href=&#34;https://geocompr.robinlovelace.net/&#34;&gt;Geocomputation with R&lt;/a&gt; book nearing completion&lt;a href=&#34;#fn1&#34; class=&#34;footnoteRef&#34; id=&#34;fnref1&#34;&gt;&lt;sup&gt;1&lt;/sup&gt;&lt;/a&gt; I’ve finally found some time to update my blog and do a bit of thinking, about the tangled topic of line aggregation.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;why-aggregate-lines&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Why aggregate lines?&lt;/h2&gt;
&lt;p&gt;The transport ‘flow’ on any particular segment of the transport networks is the aggregate (sum) of trips that pass through it &lt;span class=&#34;citation&#34;&gt;(Hollander 2016)&lt;/span&gt;. Finding the flow across a transport network based on input data composed of individual routes, is therefore an aggregation problem. It requires a more complex solution than that provided by the &lt;code&gt;aggregate()&lt;/code&gt; function in the base R &lt;span class=&#34;citation&#34;&gt;(R Core Team 2018)&lt;/span&gt; package &lt;strong&gt;stats&lt;/strong&gt;, however, because the geometry of the output &lt;code&gt;LINESTRING&lt;/code&gt;s will be fundamentally different than the input &lt;code&gt;LINESTRINGS&lt;/code&gt; of the routes: a route network is composed of many small way segments, but a route is a single long &lt;code&gt;LINESTRING&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;aggregating-lines-with-overline-mki&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Aggregating lines with overline() MKI&lt;/h2&gt;
&lt;p&gt;Creating such a route network, with aggregated values per segment, is the problem that the &lt;a href=&#34;https://ropensci.github.io/stplanr/reference/overline.html&#34;&gt;&lt;code&gt;overline()&lt;/code&gt;&lt;/a&gt; function in the R package &lt;a href=&#34;https://github.com/ropensci/stplanr&#34;&gt;&lt;strong&gt;stplanr&lt;/strong&gt;&lt;/a&gt; was designed to solve (see a 3.5 yr-old question on &lt;a href=&#34;https://gis.stackexchange.com/questions/139681/overlaying-lines-and-aggregating-their-values-for-overlapping-segments&#34;&gt;gis.stackexchange.com&lt;/a&gt; for more context).&lt;/p&gt;
&lt;p&gt;The function works well and is the basis of the Route Network layer (MSOA) in the Propensity to Cycle Tool (&lt;a href=&#34;http://www.pct.bike/&#34;&gt;PCT&lt;/a&gt;). In fact it was developed precisely for this purpose, as illustrated in the image below, which shows a common visualization/analysis problem encountered by transport researchers when working with multiple routes: overlapping routes are not easy to identify from non-overlapping routes: notice the red lines in the centre of Leeds in the image look the same as the red lines on the outskirts, despite representing much more movement.&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-2&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/npct/pct-team/master/figures/early.png&#34; alt=&#34;Demonstration of the need for line aggregation from a very early version of the Propensity to Cycle Tool, developed at the &#39;Hack my Route&#39; data dive at [ODI Leeds](https://twitter.com/search?q=%23hackmyroute&amp;amp;src=typd).&#34;  /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 1: Demonstration of the need for line aggregation from a very early version of the Propensity to Cycle Tool, developed at the ‘Hack my Route’ data dive at &lt;a href=&#34;https://twitter.com/search?q=%23hackmyroute&amp;amp;src=typd&#34;&gt;ODI Leeds&lt;/a&gt;.
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;To overcome the problem &lt;code&gt;overline()&lt;/code&gt; was born (credit to Barry Rowlingson who wrote the foundations of the function), and it works (on a tiny dataset of 2 lines) as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(stplanr)
sl_sp = routes_fast[2:3, ]
sl_sp@data = data.frame(value = c(2, 5))
plot(sl_sp, lwd = 9, col = &amp;quot;yellow&amp;quot;)
rnet_sp = overline(sl_sp, attr = &amp;quot;value&amp;quot;)
plot(rnet_sp, add = TRUE, lwd = rnet_sp$value)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-3&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;../../post/2018-10-27-aggregating-lines_files/figure-html/unnamed-chunk-3-1.png&#34; alt=&#34;Illustration of the overline() function for line aggregation in action on a tiny example dataset. Note the left-most line is wider than the two lines that feed into it, demonstrating how line aggregation can be used to estimate flow on a road network.&#34; width=&#34;672&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 2: Illustration of the overline() function for line aggregation in action on a tiny example dataset. Note the left-most line is wider than the two lines that feed into it, demonstrating how line aggregation can be used to estimate flow on a road network.
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;The utility of such a function is illustrated in the figure below, which shows the original route network layer of the PCT in action over a similar area of Leeds:&lt;/p&gt;
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-4&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;https://raw.githubusercontent.com/npct/pct-team/master/figures/fastest-net-headingly.png&#34; alt=&#34;Early version of the route network layer in the Propensity to Cycle Tool.&#34;  /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 3: Early version of the route network layer in the Propensity to Cycle Tool.
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;This works great and the resulting network is used for strategic network planning: you can download route network data in the ‘Region data’ tab of the PCT &lt;span class=&#34;citation&#34;&gt;(Lovelace et al. 2017)&lt;/span&gt;. The route network data for Leeds can, for example, be downloaded as a &lt;code&gt;.geojson&lt;/code&gt; file from &lt;a href=&#34;https://github.com/npct/pct-outputs-regional-notR/raw/master/commute/msoa/west-yorkshire/rnet.geojson&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;But there are some issues: the function works on the older &lt;code&gt;SpatialLinesDataFrame&lt;/code&gt; class defined in the &lt;strong&gt;sp&lt;/strong&gt; package &lt;span class=&#34;citation&#34;&gt;(&lt;span class=&#34;citeproc-not-found&#34; data-reference-id=&#34;pebesma_simple_2018&#34;&gt;&lt;strong&gt;???&lt;/strong&gt;&lt;/span&gt;)&lt;/span&gt;. This data class has been superseded by the simpler &lt;code&gt;sf&lt;/code&gt; class in the &lt;a href=&#34;https://github.com/r-spatial/sf&#34;&gt;&lt;strong&gt;sf&lt;/strong&gt;&lt;/a&gt; package, which is faster than &lt;strong&gt;sp&lt;/strong&gt; for &lt;a href=&#34;https://github.com/ATFutures/geobench&#34;&gt;some&lt;/a&gt; (if not many) operations. Another issue with &lt;code&gt;overline()&lt;/code&gt; is that in some cases when 2 lines meet, the resulting aggregated line can be longer than it should be. So there are performance and functionality issues to address. Rather than solve them all here, this post sets-out the issue using reproducible code and suggests next steps for a new &lt;code&gt;overline()&lt;/code&gt; function (or perhaps just an updated &lt;code&gt;overline.sf()&lt;/code&gt; function which currently just wraps &lt;code&gt;overline.sp()&lt;/code&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;aggregating-lines-with-sf&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Aggregating lines with sf&lt;/h2&gt;
&lt;p&gt;Rather that starting from scratch and writing a geographic algorithm from the ground-up, we will start by exploring solutions provided by existing packages, notably &lt;strong&gt;sf&lt;/strong&gt;, which provides an interface to the &lt;code&gt;GEOS&lt;/code&gt; library.&lt;/p&gt;
&lt;p&gt;Let’s start simple, with just 2 lines, which have an associated amount of flow (with illustrative values of 2 and 5 in this case):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(stplanr)
sl = routes_fast_sf[2:3, ]
sl$value = c(2, 5)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;These lines clearly have a decent amount of overlap, which can be extracted using the function &lt;code&gt;st_intersection()&lt;/code&gt;:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sl_intersection = sf::st_intersection(sl[1, ], sl[2, ])
plot(sl$geometry, lwd = 9, col = sf::sf.colors(2, alpha = 0.5))
plot(sl_intersection, add = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-6&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;../../post/2018-10-27-aggregating-lines_files/figure-html/unnamed-chunk-6-1.png&#34; alt=&#34;Illustration of the results of st_intersection&#34; width=&#34;672&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 4: Illustration of the results of st_intersection
&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Furthermore, we can find the aggregated value associated with this new segment as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sl_intersection$value = sum(sl_intersection$value, sl_intersection$value.1)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We still do not have a full route network composed of 3 non-overlapping lines, however: the original lines need to be ‘clipped’ so that they do not overlap with &lt;code&gt;sl_intersection&lt;/code&gt;. This can be done as follows:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sl_seg1 = sf::st_difference(sl[1, ], sl_intersection)
sl_seg2 = sf::st_difference(sl[2, ], sl_intersection)
plot(sl$geometry, lwd = 9, col = sf::sf.colors(2, alpha = 0.5))
plot(sl_seg1, add = TRUE)
plot(sl_seg2, add = TRUE)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;../../post/2018-10-27-aggregating-lines_files/figure-html/Demonstration%20of%20%60st_difference()%60.-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;We now have all the geographic components needed for a route network. The only remaining task is to combine them, using &lt;code&gt;rbind&lt;/code&gt;, right? Not quite: the following command fails:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;rnet = rbind(sl_seg1, sl_seg2, sl_intersection)&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## Error in rbind.data.frame(...): numbers of columns of arguments do not match&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Lesson: we need to be more careful in isolating the value to aggregate. We will therefore run the previous stages again, but with &lt;code&gt;attrib&lt;/code&gt; set to the attribute we would like to aggregate over (&lt;code&gt;value&lt;/code&gt; in this case):&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;attrib = &amp;quot;value&amp;quot;
attrib1 = paste0(attrib, &amp;quot;.1&amp;quot;)
sl_intersection = sf::st_intersection(sl[1, attrib], sl[2, attrib])
sl_intersection[[attrib]] = sl_intersection[[attrib]] + sl_intersection[[attrib1]]
sl_intersection[[attrib1]] = NULL&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;That leaves us with a ‘clean’ object that only has a value (7) for the attribute column name we want (&lt;code&gt;value&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;On this basis we can proceed to create the other segments, keeping only the column we’re interested in. To save time and typing, we’ll create both segments in a single command:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;sl_seg = sf::st_difference(sl[attrib], sf::st_geometry(sl_intersection))
rnet = rbind(sl_intersection, sl_seg)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;It worked! Now we’re in a position to plot the resulting route network, with ‘width’ proportional to the flow along each segment:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot(rnet, lwd = rnet$value)&lt;/code&gt;&lt;/pre&gt;
&lt;div class=&#34;figure&#34;&gt;&lt;span id=&#34;fig:unnamed-chunk-11&#34;&gt;&lt;/span&gt;
&lt;img src=&#34;../../post/2018-10-27-aggregating-lines_files/figure-html/unnamed-chunk-11-1.png&#34; alt=&#34;Illustration of a route network generated with sf functions.&#34; width=&#34;672&#34; /&gt;
&lt;p class=&#34;caption&#34;&gt;
Figure 5: Illustration of a route network generated with sf functions.
&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div id=&#34;a-benchmark&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;A benchmark&lt;/h2&gt;
&lt;p&gt;To test that the method is fast, or is at least not slower than the original &lt;code&gt;overline()&lt;/code&gt; function, at least for this task, we’ll package-up the method in a new function:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;overline_sf2 = function(sl, attrib) {
  attrib = &amp;quot;value&amp;quot;
  attrib1 = paste0(attrib, &amp;quot;.1&amp;quot;)
  sl_intersection = sf::st_intersection(sl[1, attrib], sl[2, attrib])
  sl_intersection[[attrib]] = sl_intersection[[attrib]] + sl_intersection[[attrib1]]
  sl_intersection[[attrib1]] = NULL
  sl_seg = sf::st_difference(sl[attrib], sf::st_geometry(sl_intersection))
  rnet = rbind(sl_intersection, sl_seg)
  return(rnet)
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;If you are new to scripts/algorithms/functions, it may be worth taking a look at the new &lt;a href=&#34;https://geocompr.robinlovelace.net/algorithms.html&#34;&gt;Algorithms&lt;/a&gt; chapter in our near-complete book that teaches a range of geographic methods that use R &lt;span class=&#34;citation&#34;&gt;(Lovelace, Nowosad, and Muenchow 2019)&lt;/span&gt;. Now the method has been put in a function, we can compare its performance with the per-existing &lt;code&gt;overline()&lt;/code&gt; function for comparison:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;bench::mark(check = F,
            overline.sp = overline(sl_sp, attrib = &amp;quot;value&amp;quot;),
            overline.sf = overline(sl, attrib = &amp;quot;value&amp;quot;),
            overline_sf2 = overline_sf2(sl, attrib = &amp;quot;value&amp;quot;)
            )&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## # A tibble: 3 x 6
##   expression        min   median `itr/sec` mem_alloc `gc/sec`
##   &amp;lt;bch:expr&amp;gt;   &amp;lt;bch:tm&amp;gt; &amp;lt;bch:tm&amp;gt;     &amp;lt;dbl&amp;gt; &amp;lt;bch:byt&amp;gt;    &amp;lt;dbl&amp;gt;
## 1 overline.sp    11.7ms  12.03ms      82.4   71.36KB     4.23
## 2 overline.sf    15.4ms  15.91ms      62.7    2.48MB     6.72
## 3 overline_sf2    7.4ms   7.66ms     129.   133.36KB     4.17&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The results are not Earth-shattering: the new function seems to be around the same speed as the original, if a little faster. This is great news, but remember: the new function only works on 2 lines so is much simpler. More work needed!&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;next-steps&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Next steps&lt;/h2&gt;
&lt;p&gt;The next step is to generalist this method so it works for many (potentially thousands) of lines in a way that scales, something that should help on the visualization side, a topic that attracts much interest (see for example this &lt;a href=&#34;https://gis.stackexchange.com/questions/778/representation-of-network-flows&#34;&gt;gis.stackexchange post&lt;/a&gt; on the subject and, more broadly, a recent &lt;a href=&#34;https://nowosad.github.io/post/maps-distortion/&#34;&gt;article&lt;/a&gt; showing how to make animated maps by Jakub Nowosad). There is also work to do on performance but, as Donald Knuth said &lt;span class=&#34;citation&#34;&gt;(Knuth 1974)&lt;/span&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;premature optimization is the root of all evil (or at least most of it) in programming&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So a more complete &lt;code&gt;overline.sf()&lt;/code&gt; function is needed. That will (hopefully) be the topic of the next blog post.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;references&#34; class=&#34;section level2 unnumbered&#34;&gt;
&lt;h2&gt;References&lt;/h2&gt;
&lt;div id=&#34;refs&#34; class=&#34;references&#34;&gt;
&lt;div id=&#34;ref-hollander_transport_2016&#34;&gt;
&lt;p&gt;Hollander, Yaron. 2016. &lt;em&gt;Transport Modelling for a Complete Beginner&lt;/em&gt;. CTthink!&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;ref-knuth_computer_1974&#34;&gt;
&lt;p&gt;Knuth, Donald E. 1974. “Computer Programming as an Art.” &lt;em&gt;Commun. ACM&lt;/em&gt; 17 (12): 667–73. doi:&lt;a href=&#34;https://doi.org/10.1145/361604.361612&#34;&gt;10.1145/361604.361612&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;ref-lovelace_propensity_2017&#34;&gt;
&lt;p&gt;Lovelace, Robin, Anna Goodman, Rachel Aldred, Nikolai Berkoff, Ali Abbas, and James Woodcock. 2017. “The Propensity to Cycle Tool: An Open Source Online System for Sustainable Transport Planning.” &lt;em&gt;Journal of Transport and Land Use&lt;/em&gt; 10 (1). doi:&lt;a href=&#34;https://doi.org/10.5198/jtlu.2016.862&#34;&gt;10.5198/jtlu.2016.862&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;ref-lovelace_geocomputation_2019&#34;&gt;
&lt;p&gt;Lovelace, Robin, Jakub Nowosad, and Jannes Muenchow. 2019. &lt;em&gt;Geocomputation with R&lt;/em&gt;. CRC Press.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;ref-rcoreteam_language_2018&#34;&gt;
&lt;p&gt;R Core Team. 2018. &lt;em&gt;R: A Language and Environment for Statistical Computing&lt;/em&gt;. Vienna, Austria: R Foundation for Statistical Computing.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;footnotes&#34;&gt;
&lt;hr /&gt;
&lt;ol&gt;
&lt;li id=&#34;fn1&#34;&gt;&lt;p&gt;Any input on that still welcome - see the &lt;a href=&#34;https://geocompr.robinlovelace.net/index.html#how-to-contribute&#34;&gt;contributing&lt;/a&gt; section for more.&lt;a href=&#34;#fnref1&#34;&gt;↩&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</description>
    </item>
    
    <item>
      <title>Switching to blogdown</title>
      <link>/2017/04/30/switching-to-blogdown/</link>
      <pubDate>Sun, 30 Apr 2017 00:00:00 +0000</pubDate>
      
      <guid>/2017/04/30/switching-to-blogdown/</guid>
      <description>


&lt;p&gt;I’ve finally got a new blog post, to test that my new set-up is working, using the wonderful new &lt;a href=&#34;https://bookdown.org/yihui/blogdown/&#34;&gt;blogdown&lt;/a&gt; package.&lt;/p&gt;
&lt;p&gt;Here’s a test plot, to show how it allows R code to be embedded:&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;plot(1:9)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;../../post/2017-04-30-switching-to-blogdown_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Now that I have a quick-fire and fun way of getting new content onto the web I expect to be blogging lots more.&lt;/p&gt;
&lt;p&gt;Watch this space!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Geostat2016 Albacete: a write-up</title>
      <link>/2016/09/28/geostat2016-albacete-a-write-up/</link>
      <pubDate>Wed, 28 Sep 2016 00:00:00 +0000</pubDate>
      
      <guid>/2016/09/28/geostat2016-albacete-a-write-up/</guid>
      <description>

&lt;p&gt;Last week I went to &lt;a href=&#34;http://geostat-course.org/2016&#34;&gt;GEOSTAT 2016&lt;/a&gt;. Given the amount of fun had at &lt;a href=&#34;http://robinlovelace.net/r/2015/08/31/geostat-writeup.html&#34;&gt;GEOSTAT 2015&lt;/a&gt;, expectations were high. The local organisers did not disappoint, with a week of lectures, workshops, spatial data competitions and of course lots of Geostatistics. It would be unwise to try to systematically document such a diverse range of activities, and the &lt;a href=&#34;http://geostat-course.org/node&#34;&gt;GEOSTAT website&lt;/a&gt; provides much further info. Instead this &amp;lsquo;miniwriteup&amp;rsquo; is designed to summarise some of my memories from the event, and encourage you to get involved for GEOSTAT 2017.&lt;/p&gt;

&lt;p&gt;To put things in context, the first session was a brief overview of the history of GEOSTAT. This is the 12&lt;sup&gt;th&lt;/sup&gt; GEOSTAT summer school. In some ways GEOSTAT can be seen as a physical manifestation of the lively &lt;a href=&#34;https://stat.ethz.ch/mailman/listinfo/r-sig-geo&#34;&gt;R-SIG-GEO email list&lt;/a&gt;. That may not sound very exciting. But there is a strong community spirit at the event and, unlike other academic conferences, the focus is on practical learning rather than transmitting research findings or theories. And the event was so much more than that.&lt;/p&gt;

&lt;p&gt;There were 5 action packed days covering many topics within the broad field of Geostatistics. What follows is an overview of each that I went to (there were 2 streams), with links to the source material. It is hoped that this will be of use to people who were not present in person.&lt;/p&gt;

&lt;h2 id=&#34;day-1&#34;&gt;Day 1&lt;/h2&gt;

&lt;p&gt;After an introduction to the course and spatial data by Tom Hengl, Roger Bivand delivered a technical and applied webinar on &lt;a href=&#34;http://geostat-course.org/system/files/geostat_talk16.pdf&#34;&gt;bridges between R and other GIS software&lt;/a&gt;. With a focus on GRASS, we learned how R could be used as a &amp;lsquo;front end&amp;rsquo; to other programs. An example using the famous &amp;lsquo;Cholera pump&amp;rsquo; data mapped by &lt;a href=&#34;https://en.wikipedia.org/wiki/John_Snow&#34;&gt;John Snow&lt;/a&gt; was used to demonstrate the potential benefits of &amp;lsquo;bridging&amp;rsquo; to other software. The data can be downloaded and partially plotted in R as follows:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;u = &amp;quot;http://geostat-course.org/system/files/data_0.zip&amp;quot;
download.file(u, &amp;quot;data_0.zip&amp;quot;)
unzip(&amp;quot;data_0.zip&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;old = setwd(&amp;quot;~/repos/geostat2016-rl/&amp;quot;)
library(raster)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## Loading required package: sp
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;bbo = shapefile(&amp;quot;data/bbo.shp&amp;quot;)
buildings = shapefile(&amp;quot;data/buildings.shp&amp;quot;)
deaths = shapefile(&amp;quot;data/deaths.shp&amp;quot;)
b_pump = shapefile(&amp;quot;data/b_pump.shp&amp;quot;)
nb_pump = shapefile(&amp;quot;data/nb_pump.shp&amp;quot;)
plot(buildings)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://github.com/npct/pct/raw/master/figures/unnamed-chunk-3-1.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;setwd(old)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;In the afternoon Robert Hijmans gave a high level overview of software for spatial data analysis, with a discussion of the &lt;a href=&#34;http://www.diva-gis.org/&#34;&gt;Diva GIS&lt;/a&gt; software he developed and why he now uses R for most of his geospatial analysis.&lt;/p&gt;

&lt;p&gt;The talk touched on the &lt;a href=&#34;https://cran.r-project.org/web/packages/gdistance/&#34;&gt;&lt;strong&gt;gdistance&lt;/strong&gt;&lt;/a&gt; package, and many others. Robert showcased the power of R for understanding major civilisational problems such as the impacts of climate change on agriculture. His animated global maps of agricultural productivity and precipitation showed how R can scale to tackle large datasets, up to the global level involving spatial and temporal data simultaneously.&lt;/p&gt;

&lt;p&gt;There were a few political asides. Robert mentioned how agrotech giant Monsanto paid almost &lt;a href=&#34;https://www.fastcoexist.com/3019387/why-monsanto-just-spent-1-billion-to-buy-a-climate-data-company&#34;&gt;$1 billion&lt;/a&gt; for a weather prediction company. He detoured deftly through a discussion of &amp;lsquo;big data&amp;rsquo;, making the observation that often ensembles of models can provide better predictions than any single model working on its own, with political analogies about the importance of democracy.&lt;/p&gt;

&lt;p&gt;More examples included health and estimates of dietary deficiencies at high levels of geographic resolution. A paper showing fish and fruit consumption across Rwanda illustrated how map making in R, used intelligently, can save lives.&lt;/p&gt;

&lt;p&gt;It was revealing to learn how Robert got into R. While he was working at the &lt;a href=&#34;http://irri.org/&#34;&gt;International Rice Research Institute&lt;/a&gt;. &amp;ldquo;It forces you to write scripts.&amp;rdquo; This is good for ensuring reproducibility, a critical component of scientific research. It encourages you to focus on and understand the data primarily, rather than visualising it. On the other hand, R is not always the fastest way to do things, although &amp;ldquo;people often worry too much about this&amp;rdquo;. Your time is more important than your computers, so setting an analysis running is fine. Plus there are ways to make things run faster, as mentioned in a book that I&amp;rsquo;m working on, &lt;a href=&#34;https://csgillespie.github.io/efficientR/&#34;&gt;Efficient R Programming&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;R is great if you use it every data, but if you only use it less than once a week it becomes difficult.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;If you just want a one-off spatial analysis data program, Robert recommended QGIS. After a brief overview of spatial data in R, Robert moved on to talk about the &lt;a href=&#34;https://cran.r-project.org/web/packages/raster/index.html&#34;&gt;&lt;strong&gt;raster&lt;/strong&gt;&lt;/a&gt; package, which he developed. This package was developed to overcome some of the limitations with &lt;strong&gt;sp&lt;/strong&gt;, the foundational package for spatial data in R.&lt;/p&gt;

&lt;!-- This led on to discussion of C++ code, which Robert is increasingly developing in to extend **raster**. Here is a brief benchmark to show how much faster C++ code can be: --&gt;

&lt;!-- ```{r} --&gt;

&lt;!-- sumR = function(x){ --&gt;

&lt;!--   b = NULL --&gt;

&lt;!--   for(i in 1:length(x)){ --&gt;

&lt;!--     b = b + a[i] --&gt;

&lt;!--   } --&gt;

&lt;!-- } --&gt;

&lt;!-- ``` --&gt;

&lt;!-- ```{r, engine=&#39;cpp&#39;, eval=FALSE} --&gt;

&lt;!-- library(Rcpp) --&gt;

&lt;!-- cppFunction(code =  --&gt;

&lt;!--               &#34;// [[Rcpp::export]] --&gt;

&lt;!-- double cumulater(std::vector&lt;doubl&gt;d) { --&gt;

&lt;!--   int n = x.size(); --&gt;

&lt;!--   double result = 0; --&gt;

&lt;!--   for (int i=0;i &lt; n; i++) { --&gt;

&lt;!--     result = result + d[i]; --&gt;

&lt;!--   } --&gt;

&lt;!--   double r = cumulater(v) --&gt;

&lt;!-- }return r;&#34;) --&gt;

&lt;!-- ``` --&gt;

&lt;!-- According to Robert, once you can write R functions, &#34;writing C++ functions is relatively easy&#34;. While I&#39;m not quite convinced, based on the number of characters needed to write a simple sum code, he certainly convinced me of the merits of developing new spatial functions in this low level language, because of its speed and the fact that it&#39;s the main development language of GDAL.  --&gt;

&lt;p&gt;A final resource that Robert promoted was &lt;a href=&#34;http://www.rspatial.org/&#34;&gt;RSpatial.org&lt;/a&gt;, a free online resource for teaching R as a command line GIS.&lt;/p&gt;

&lt;p&gt;Edzer Pebesmer delivered the final session of the first day, on &lt;strong&gt;Free and Open Source Software (FOSS) for Geoinformatics and Geosciences&lt;/strong&gt;. After the highly technical final C++ examples from the previous talk, I was expecting a high level overview of the landscape. Instead Edzer went straight in to talk about source code, the raw material that defines all software. The fundamental feature of open source software is that its source code is free, and will remain free.&lt;/p&gt;

&lt;!-- An example of this is Apple, the most profitable computer company on Earth, used parts of the BSD kernel in its proprietary operating system. --&gt;

&lt;!-- Another feature of open source software is that it must have a license. It has a legal meaning, the details of which vary from licence to license. By deciding a license, you can choose whether you use a more *restrictive* license (which prevents people from using the software in software that is solved) or a more *permisive* license. R&#39;s &#39;backend&#39; is licensed --&gt;

&lt;!-- GPL is used for R&#39;s. ESRI is now using R as a back-end in commercial software. Its lawers have explored the legal implications of this and concluded that it is not breaking the law by doing so. --&gt;

&lt;!-- GitHub is an online system for developing open source software. It is free to use, but some of the best things in GitHub are not open source. Edzer says that the advantages of using their service, in terms of community engagement and ease of use and accessibility, currently outweigh any potential future disbenefits of GitHub not being completely open source.  --&gt;

&lt;!-- Another example is open source software for geosciences. Researchers may want to make their software open for anyone to use, while remaining protected from exploitation from large companies like oil com --&gt;

&lt;h2 id=&#34;day-2&#34;&gt;Day 2&lt;/h2&gt;

&lt;p&gt;The second day of the course was divided in two: stream A focussed on environmental modelling and stream B compositional data. I attended the environmental modelling course taught by Robert Hijmans. The course was based on his teaching material at &lt;a href=&#34;http://rspatial.org/spatial/index.html&#34;&gt;rspatial.org&lt;/a&gt; and can be found &lt;a href=&#34;http://gfc.ucdavis.edu/events/albacete/day2.html&#34;&gt;online&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We started off by looking at the fundamental data structures underlying spatial data in R. Why? It&amp;rsquo;s useful to be able to create simple example datasets from scratch, to understand them.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(sp)
x &amp;lt;- c(4,7,3,8)
y &amp;lt;- c(9,6,12,11)
xy &amp;lt;- data.frame(x, y)
SpatialPoints(xy)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## class       : SpatialPoints 
## features    : 4 
## extent      : 3, 8, 6, 12  (xmin, xmax, ymin, ymax)
## coord. ref. : NA
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;d = data.frame(v1 = 1:4, v2 = LETTERS[1:4])
spd = SpatialPointsDataFrame(coords = xy, data = d)
plot(spd)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://github.com/npct/pct/raw/master/figures/unnamed-chunk-6-1.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;The basic functions of the &lt;strong&gt;raster&lt;/strong&gt; package are similar.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(raster)
r = raster(nc = 10, nr = 10)
values(r) = 1:ncell(r)
plot(r)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://github.com/npct/pct/raw/master/figures/unnamed-chunk-7-1.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;as.matrix(r)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
##  [1,]    1    2    3    4    5    6    7    8    9    10
##  [2,]   11   12   13   14   15   16   17   18   19    20
##  [3,]   21   22   23   24   25   26   27   28   29    30
##  [4,]   31   32   33   34   35   36   37   38   39    40
##  [5,]   41   42   43   44   45   46   47   48   49    50
##  [6,]   51   52   53   54   55   56   57   58   59    60
##  [7,]   61   62   63   64   65   66   67   68   69    70
##  [8,]   71   72   73   74   75   76   77   78   79    80
##  [9,]   81   82   83   84   85   86   87   88   89    90
## [10,]   91   92   93   94   95   96   97   98   99   100
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;q = sqrt(r)
plot(q)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://github.com/npct/pct/raw/master/figures/unnamed-chunk-7-2.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;x = q + r
s = stack(r, q, x)
ss = s * r # r is recycled so each layer is multiplied by r
1:3 * 2 # here 2 is recycled
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## [1] 2 4 6
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Raster also provides simple yet powerful functions for manipulating and analysing raster data, including &lt;code&gt;crop()&lt;/code&gt;, &lt;code&gt;merge()&lt;/code&gt; for manipulation and &lt;code&gt;predict()&lt;/code&gt;, &lt;code&gt;focal()&lt;/code&gt; and &lt;code&gt;distance()&lt;/code&gt;. &lt;code&gt;predict()&lt;/code&gt; is particularly interesting as it allows raster values to be estimated using any of R&amp;rsquo;s powerful statistical methods.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(dismo)
g = gmap(&amp;quot;Albacete, Spain&amp;quot;, scale = T, lonlat = T)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;## Loading required namespace: XML
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;plot(g, interpolate = T)
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;img src=&#34;https://github.com/npct/pct/raw/master/figures/unnamed-chunk-9-1.png&#34; alt=&#34;&#34; /&gt;&lt;img src=&#34;https://github.com/npct/pct/raw/master/figures/unnamed-chunk-9-2.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;dismo::geocode(&amp;quot;Universidad Castilla la Mancha&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;##                    originalPlace
## 1 Universidad Castilla la Mancha
##                                          interpretedPlace longitude
## 1 Paseo Universidad, 13005 Ciudad Real, Cdad. Real, Spain -3.921711
##   latitude      xmin      xmax     ymin     ymax uncertainty
## 1 38.99035 -3.922007 -3.919309 38.98919 38.99189         131
&lt;/code&gt;&lt;/pre&gt;

&lt;!-- Supervised learning is the process of allowing a computer to estimate predictor variables based on explanatory variables. --&gt;

&lt;!-- There are 2 main things to consider when model fitting: the functional form to use and the explanatory variables X. --&gt;

&lt;!-- We worked through a practical on spatial interpolation from [rspatial.org](http://rspatial.org/analysis/rst/4-interpolation.html): --&gt;

&lt;!-- ```{r} --&gt;

&lt;!-- dir.create(&#34;data&#34;) --&gt;

&lt;!-- download.file(&#34;http://rspatial.org/analysis/data/precipitation.csv&#34;, &#34;data/precipitation.csv&#34;) --&gt;

&lt;!-- d = read.csv(&#34;data/precipitation.csv&#34;) --&gt;

&lt;!-- d$prec &lt;- rowSums(d[, c(6:17)]) --&gt;

&lt;!-- plot(sort(d$prec), ylab=&#39;Annual precipitation (mm)&#39;, las=1, xlab=&#39;Stations&#39;) --&gt;

&lt;!-- library(sp) --&gt;

&lt;!-- dsp &lt;- SpatialPoints(d[,4:3], proj4string=CRS(&#34;+proj=longlat +datum=NAD83&#34;)) --&gt;

&lt;!-- dsp &lt;- SpatialPointsDataFrame(dsp, d) --&gt;

&lt;!-- download.file(&#34;http://rspatial.org/analysis/data/counties.rds&#34;, &#34;data/counties.rds&#34;) --&gt;

&lt;!-- CA &lt;- readRDS(&#34;data/counties.rds&#34;) --&gt;

&lt;!-- # define groups for mapping --&gt;

&lt;!-- cuts &lt;- c(0,200,300,500,1000,3000) --&gt;

&lt;!-- # set up a palette of interpolated colors --&gt;

&lt;!-- blues &lt;- colorRampPalette(c(&#39;yellow&#39;, &#39;orange&#39;, &#39;blue&#39;, &#39;dark blue&#39;)) --&gt;

&lt;!-- pols &lt;- list(&#34;sp.polygons&#34;, CA, fill = &#34;lightgray&#34;) --&gt;

&lt;!-- spplot(dsp, &#39;prec&#39;, cuts=cuts, col.regions=blues(5), sp.layout=pols, pch=20, cex=2) --&gt;

&lt;!-- TA &lt;- CRS(&#34;+proj=aea +lat_1=34 +lat_2=40.5 +lat_0=0 +lon_0=-120 +x_0=0 +y_0=-4000000 +datum=NAD83 +units=m +ellps=GRS80 +towgs84=0,0,0&#34;) --&gt;

&lt;!-- library(rgdal) --&gt;

&lt;!-- dta &lt;- spTransform(dsp, TA) --&gt;

&lt;!-- cata &lt;- spTransform(CA, TA) --&gt;

&lt;!-- ``` --&gt;

&lt;!-- Now the modelling work can begin.  --&gt;

&lt;!-- ```{r} --&gt;

&lt;!-- # First create a function to calculate the error: --&gt;

&lt;!-- RMSE &lt;- function(observed, predicted) { --&gt;

&lt;!--   sqrt(mean((predicted - observed)^2, na.rm=TRUE)) --&gt;

&lt;!-- } --&gt;

&lt;!-- null &lt;- RMSE(mean(dsp$prec), dsp$prec) --&gt;

&lt;!-- null --&gt;

&lt;!-- library(dismo) --&gt;

&lt;!-- v &lt;- voronoi(dta) --&gt;

&lt;!-- ## Loading required namespace: deldir --&gt;

&lt;!-- plot(dsp) --&gt;

&lt;!-- plot(v) --&gt;

&lt;!-- points(dta, col = &#34;red&#34;) --&gt;

&lt;!-- ca = aggregate(cata) --&gt;

&lt;!-- plot(ca) --&gt;

&lt;!-- vca = intersect(v, ca) --&gt;

&lt;!-- plot(vca) --&gt;

&lt;!-- vca2 = rgeos::gIntersection(v, ca, byid = T) --&gt;

&lt;!-- names(vca2) --&gt;

&lt;!-- plot(vca2) # not the same! --&gt;

&lt;!-- plot(vca) --&gt;

&lt;!-- names(vca) --&gt;

&lt;!-- ``` --&gt;

&lt;!-- Testing a first model --&gt;

&lt;!-- ```{r} --&gt;

&lt;!-- kf = kfold(dta@data) --&gt;

&lt;!-- rmse = NULL --&gt;

&lt;!-- for(k in 1:length(unique(kf))){ --&gt;

&lt;!--   test = dta[kf == k,] --&gt;

&lt;!--   train = dta[kf != k,] --&gt;

&lt;!--   v = voronoi(train) --&gt;

&lt;!--   p = extract(v, test) --&gt;

&lt;!--   rmse[k] = RMSE(observed = test$prec, predicted = p$prec) --&gt;

&lt;!-- } --&gt;

&lt;!-- rmse --&gt;

&lt;!-- ``` --&gt;

&lt;h2 id=&#34;day-3&#34;&gt;Day 3&lt;/h2&gt;

&lt;p&gt;The third day started with a live R demo by Edzer Pebesmer on &lt;a href=&#34;https://edzer.github.io/UseR2016/&#34;&gt;space-time data&lt;/a&gt;. Refreshingly for a conference primarily on spatial data, it started with an in-depth discussion of time. While base R natively supports temporal units (knowing the difference between days and seconds, for example) it does not know the difference between metres and miles.&lt;/p&gt;

&lt;p&gt;This led to the creation of the &lt;strong&gt;units&lt;/strong&gt; library, an taster of which is shown below:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;install.packages(&amp;quot;units&amp;quot;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code class=&#34;language-r&#34;&gt;library(units)
m = with(ud_units,  m)
s = with(ud_units,  s)
km = with(ud_units, km)
h = with(ud_units,  h)
x = 1:3 * m/s
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The rest of the day was spent analysing a range of spatio-temporal datasets using &lt;strong&gt;spacetime&lt;/strong&gt;, &lt;strong&gt;trajectories&lt;/strong&gt; and &lt;strong&gt;rgl&lt;/strong&gt; for interactive 3d spacetime plots.&lt;/p&gt;

&lt;p&gt;In the parallel session there were sessions on &lt;a href=&#34;http://geostat-course.org/node/1328&#34;&gt;CARTO&lt;/a&gt; and the &lt;a href=&#34;http://geostat-course.org/node/1329&#34;&gt;R gvSIG bridge&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&#34;day-4&#34;&gt;Day 4&lt;/h2&gt;

&lt;p&gt;Day 4 was a highlight for me as I&amp;rsquo;ve wanted to learn how to use the &lt;strong&gt;INLA&lt;/strong&gt; package for ages. It was explained lucidly by Marta Blangiardo and Michela Cameletti, who have written an excellent book on the subject, which has a &lt;a href=&#34;https://sites.google.com/a/r-inla.org/stbook/&#34;&gt;website that I recommend checking out&lt;/a&gt;. Their materials can be found here: &lt;a href=&#34;http://geostat-course.org/node/1330&#34;&gt;http://geostat-course.org/node/1330&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;In parallel to this there was a session on &lt;a href=&#34;http://geostat-course.org/node/1326&#34;&gt;Spatial and Spatiotemporal point process analysis in R&lt;/a&gt; data in R by Virgilio Gomez Rubio and one on automated &lt;a href=&#34;http://geostat-course.org/node/1323&#34;&gt;spatial prediction and visualisation&lt;/a&gt; by Tom Hengl.&lt;/p&gt;

&lt;h2 id=&#34;day-5&#34;&gt;Day 5&lt;/h2&gt;

&lt;p&gt;After all that intense geospatial analysis and programming activity, and a night out in Albacete for some participants, we were relieved to learn that this final day of learning was more relaxed. Furthermore, by tradition, it was largely participant-led. I gave a talk on &lt;a href=&#34;https://csgillespie.github.io/efficientR/&#34;&gt;Efficient R Programming&lt;/a&gt;, a book I&amp;rsquo;ve written in collaboration with Colin Gillespie; Teresa Rojos gave a fascinating talk about her research into the spatial distribution of cancer rates in Peru; and S.J. Norder gave us the low-down on the Biogeography of islands with R.&lt;/p&gt;

&lt;p&gt;One of the most exciting sessions was the revelation of the results of the spatial prediction game. Interestingly, a team using a relatively simple approach with &lt;a href=&#34;https://cran.r-project.org/web/packages/randomForestSRC/index.html&#34;&gt;&lt;strong&gt;randomForestSRC&lt;/strong&gt;&lt;/a&gt; (and &lt;a href=&#34;https://github.com/ehrlinger/ggRandomForests&#34;&gt;&lt;strong&gt;ggRandomForests&lt;/strong&gt;&lt;/a&gt; for visualisation) one against others who had spent hours training complex multi-level models.&lt;/p&gt;

&lt;h2 id=&#34;summary&#34;&gt;Summary&lt;/h2&gt;

&lt;p&gt;Overall it was an amazing event and inspiring to spend time with so many researchers using open geospatial software for tackling &lt;a href=&#34;https://t.co/UqMyCnXOsG&#34;&gt;pressing real world issues&lt;/a&gt;. Furthermore, it was great fun. I strongly recommend people dipping their toes in the &lt;a href=&#34;https://cran.r-project.org/web/views/Spatial.html&#34;&gt;sea of spatial capabilities&lt;/a&gt; provided by R check out the &lt;a href=&#34;http://geostat-course.org/node&#34;&gt;GEOSTAT website&lt;/a&gt;, not least for the excellent &lt;a href=&#34;http://archive.org/search.php?query=GEOSTAT&#34;&gt;video resources to be found there&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I look forward to hearing plans for future GEOSTATs and recommend the event, and associated materials, to researchers interested in using free geospatial software for the greater good.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>R vs QGIS for sustainable transport planning</title>
      <link>/2015/01/20/r-vs-qgis-for-sustainable-transport-planning/</link>
      <pubDate>Tue, 20 Jan 2015 00:00:00 +0000</pubDate>
      
      <guid>/2015/01/20/r-vs-qgis-for-sustainable-transport-planning/</guid>
      <description>

&lt;p&gt;The 23rd iteration of the GIS Research UK conference
(&lt;a href=&#34;https://github.com/Robinlovelace/stplanr&#34;&gt;#GISRUK&lt;/a&gt;)
conference was the largest ever. 250 researchers,
industry representatives and academics attended from the
vibrant geospatial research communities in the
UK, Europe and beyond. GISRUK has become a centrepoint for discussion
of new methods, software and applications in the field. I
was on the &lt;a href=&#34;http://leeds.gisruk.org/contact.html&#34;&gt;organising committee&lt;/a&gt;,
reviewed some excellent papers for the event
(a full list of these is
&lt;a href=&#34;http://leeds.gisruk.org/programme.html&#34;&gt;available for download here&lt;/a&gt;) and
attended some truly ground-breaking talks.
This experience has shown that the geospatial community
in the UK is strong,
especially with regards to growth in open access
data and open source software in the field.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.flickr.com/photos/97888609@N02/17025120518&#34; title=&#34;img_2814 by Robin Lovelace, on Flickr&#34;&gt;&lt;img src=&#34;https://farm6.staticflickr.com/5450/17025120518_ebfba47bff_s.jpg&#34; width=&#34;75&#34; height=&#34;75&#34; alt=&#34;img_2814&#34;&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This article is about one part of GISRUK and insights gleaned from it
about R, QGIS and other tools for sustainable transport planning.
&lt;a href=&#34;https://github.com/Robinlovelace/GIS4TA&#34;&gt;GIS for Transport Applications&lt;/a&gt;
(&lt;a href=&#34;https://twitter.com/hashtag/gis4ta?src=hash&#34;&gt;#GIS4TA for short&lt;/a&gt;) was a practical day-long workshop
that preceded the main event.
I organised the workshop and (with help from
&lt;a href=&#34;http://www.geog.leeds.ac.uk/people/e.odiari&#34;&gt;Eusebio Odiari&lt;/a&gt;,
&lt;a href=&#34;https://tgrg.wordpress.com/&#34;&gt;The Transport Geography Research Group&lt;/a&gt;
and the
&lt;a href=&#34;http://www.rgs.org/HomePage.htm&#34;&gt;Royal Geographical Society&lt;/a&gt;)
it seems to have been a great success. More than 30
people attended, including a decent portion
from transport consultancies such as
&lt;a href=&#34;http://www.itpworld.net/index.html&#34;&gt;Integrated Transport Planning Ltd&lt;/a&gt;
&lt;a href=&#34;http://www.trpconsult.com/&#34;&gt;TRP Consulting&lt;/a&gt; and the
&lt;a href=&#34;http://www.era.europa.eu/Pages/Home.aspx&#34;&gt;European Railway Association (ERA)&lt;/a&gt;.
Specifically, it is about the use of R
and QGIS tools for transport planning and the potential for their
adoption in academic, public and private-sector transport planning.
The focus of the workshop was deliberately on open source software
and sustainable transport because these are growth
areas in the field that are essential for
democratic
and healthy
transport systems compatible with the
science of climate change (&lt;a href=&#34;http://www.opentraffic.net/en/&#34;&gt;&lt;span class=&#34;citation&#34;&gt;Tamminga, 2012&lt;/span&gt;&lt;/a&gt;).
A recent report, for example, suggests we need to almost completely
transition away from fossil fuels by 2050
(&lt;a href=&#34;http://dx.doi.org/10.1038/nature14016&#34;&gt;McGlade et al., 2015&lt;/a&gt;).
New datasets and methods for analysing and modelling them can
help get us there in the recalcitrant transport sector
(&lt;a href=&#34;http://dx.doi.org/10.1016/j.jtrangeo.2014.07.010&#34;&gt;Gossling, 2014&lt;/a&gt;).&lt;/p&gt;

&lt;h1 id=&#34;r-for-transport-applications&#34;&gt;R for transport applications&lt;/h1&gt;

&lt;p&gt;The workshop kicked-off with a short
talk on &amp;lsquo;R and QGIS for transport applications&amp;rsquo;,
which laid out some of the motivations for running the
workshop outlined above. Other than a few
&amp;lsquo;early adopters&amp;rsquo;, the transport modelling community
is generally conservative, based largely on mature
proprietary products such as
&lt;a href=&#34;http://www.saturnsoftware.co.uk/7.html&#34;&gt;SATURN&lt;/a&gt;
and
&lt;a href=&#34;http://vision-traffic.ptvgroup.com/en-us/products/ptv-vissim/&#34;&gt;Vissim&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The slides from this talk are available here:&lt;/p&gt;

&lt;script async class=&#34;speakerdeck-embed&#34; data-id=&#34;91fce9cf5c36405b8969c6b6954c4fe6&#34; data-ratio=&#34;1.41436464088398&#34; src=&#34;//speakerdeck.com/assets/embed.js&#34;&gt;&lt;/script&gt;

&lt;p&gt;&lt;strong&gt;Tutorial: &lt;a href=&#34;https://github.com/Robinlovelace/GIS4TA/releases/download/0.1/intro-r-qgis-4ta.pdf&#34;&gt;Introduction to R and QGIS for transport applications&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h1 id=&#34;routing-with-r&#34;&gt;Routing with R&lt;/h1&gt;

&lt;p&gt;The second talk was by Nick Bearman, who provided an overview of
routing in R, as well as an excellent
&lt;a href=&#34;https://github.com/nickbearman/transport-workshop/blob/master/transport-workshop.pdf&#34;&gt;practical tutorial&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The practical demonstrated 2 ways of routing in R:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Using &lt;strong&gt;ggmap&lt;/strong&gt;. The following code was used to navigate to the event!&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;from &amp;lt;- &#39;Leeds station, New Station Street, Leeds LS1 5DL, United Kingdom&#39;
to &amp;lt;- &#39;LS2 9JT&#39;
route_df &amp;lt;- route(from, to, structure = &#39;route&#39;, mode = &#39;walking&#39;)
&lt;/code&gt;&lt;/pre&gt;

&lt;pre&gt;&lt;code&gt;qmap(&#39;Merrion Centre&#39;, zoom = 15) +
geom_path(
aes(x = lon, y = lat),  colour = &#39;red&#39;, size = 1.5,
data = route_df, lineend = &#39;round&#39;)
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&#34;https://github.com/Robinlovelace/robinlovelace.github.io/raw/master/_posts/writeup_files/figure-html/unnamed-chunk-2-1.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;The &lt;a href=&#34;https://github.com/Robinlovelace/stplanr&#34;&gt;package I created, &lt;strong&gt;stplanr&lt;/strong&gt;&lt;/a&gt;,
to get routes optimised for cyclists (see &lt;a href=&#34;https://github.com/nickbearman/transport-workshop/blob/master/transport-workshop.Rmd&#34;&gt;transport-workshop.Rmd&lt;/a&gt; for a working version):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rquiet &amp;lt;- gLines2CyclePath(l = rlines, plan = &amp;quot;quietest&amp;quot;)
plot(rquiet[1,]) # route from Leeds station to Leeds University (North - South)
plot(rquiet[2,]) # route from Leeds to Manchester!
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;img src=&#34;https://github.com/Robinlovelace/robinlovelace.github.io/raw/master/_posts/writeup_files/figure-html/unnamed-chunk-4-1.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Tutorial: &lt;a href=&#34;https://github.com/nickbearman/transport-workshop/blob/master/transport-workshop.pdf&#34;&gt;Route analysis using R&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h1 id=&#34;large-gps-datasets-with-postgis&#34;&gt;Large gps datasets with PostGIS&lt;/h1&gt;

&lt;p&gt;The most technical session involved using R to query huge datasets storing
GPS data containing 100,000+ rows. Amazingly, Richard and Adrian Ellison
set up a remotely accessible database instance &lt;strong&gt;from their laptop&lt;/strong&gt; which
participants queried via
&lt;a href=&#34;http://cran.r-project.org/web/packages/RPostgreSQL/index.html&#34;&gt;&lt;strong&gt;RPostgreSQL&lt;/strong&gt;&lt;/a&gt;.
Their session information can be seen here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/richardellison/GIS4TA_GPS&#34;&gt;&lt;strong&gt;github.com/richardellison/GIS4TA_GPS&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;a-hackathon&#34;&gt;A hackathon&lt;/h1&gt;

&lt;p&gt;Finally there was a miniature hackathon organised by Godwin Yeboah.
Participants made progress in better understanding the travel
patterns of cyclists using real data. The hackathon notes can be found here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://github.com/spatialscientist/GIS4TA2015&#34;&gt;github.com/spatialscientist/GIS4TA2015&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&#34;summary&#34;&gt;Summary&lt;/h1&gt;

&lt;p&gt;GIS is a field of knowledge that has a huge amount to offer transport
planners and researchers, especially regarding new and open source
software tools that can effectively generate, process and analyse
transport-related data. R is well-suited to fill this research gap and
has a wide range of tools to help. Packages such as &lt;strong&gt;ggmap&lt;/strong&gt;
(Kahle and Wickham 2013),
&lt;strong&gt;RPostgreSQL&lt;/strong&gt;
and the new &lt;a href=&#34;https://github.com/Robinlovelace/stplanr&#34;&gt;&lt;strong&gt;stplanr&lt;/strong&gt;&lt;/a&gt;
have great potential to help plan the transport systems of the future.
QGIS is also increasingly attractive for transport applications, with
it inbuilt support for
&lt;a href=&#34;http://planet.qgis.org/planet/tag/pgrouting/&#34;&gt;PGRouting&lt;/a&gt;,
&lt;a href=&#34;http://plugins.qgis.org/plugins/FlowMapper/&#34;&gt;flow analysis&lt;/a&gt;
and a friendly user interface that many will be used to.&lt;/p&gt;

&lt;p&gt;Photos taken during the hackathon are testament to its role as a forum
for not only learning but also debate about the future of GIS in transport.
These can be seen here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;https://www.flickr.com/photos/97888609@N02/sets/72157652012715766&#34;&gt;flickr.com/photos/97888609@N02/sets/72157652012715766&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Hearing feedback from users new to R using it to solve transport problems
provided an insight into how it compares to traditional tools. The removal
of &amp;lsquo;glass ceilings&amp;rsquo; imposed by restrictive licenses or the need to buy
&amp;lsquo;add-on&amp;rsquo; features was one comment, but that applies equally to QGIS and
other &lt;a href=&#34;http://foss4g.org/&#34;&gt;FOSS4G&lt;/a&gt;
offerings. The steep learning curve of R seems to still
be an issue compared with QGIS, although this is becoming less of an issue
with the evolution of RStudio as an GUI for R. In conclusion, both R and
QGIS are coming of age as tools in the transport planner&amp;rsquo;s &amp;lsquo;war cabinet&amp;rsquo;.
The latest evidence unequivocally shows the impact of transport decisions
on obesity, environmental degradation and quality of life. So it is time,
surely, to harness this new open source software to &amp;lsquo;save the world&amp;rsquo;!&lt;/p&gt;

&lt;h1 id=&#34;acknowledgements&#34;&gt;Acknowledgements&lt;/h1&gt;

&lt;p&gt;Thanks to the Consumer Data Research Centre and the Royal Geographical
society for subsidising the event. Thanks to all the participants and
especially the demonstrators Godwin, Nick, Adrian and Richard for making it
happen.&lt;/p&gt;

&lt;h1 id=&#34;references&#34;&gt;References&lt;/h1&gt;

&lt;p&gt;Gössling, Stefan, and Scott Cohen. 2014. “Why sustainable transport policies will fail: EU climate policy in the light of transport taboos.” Journal of Transport Geography 39 (July). Elsevier Ltd: 197–207. doi:10.1016/j.jtrangeo.2014.07.010.&lt;/p&gt;

&lt;p&gt;Kahle, D, and Hadley Wickham. 2013. “ggmap: Spatial Visualization with ggplot2.” The R Journal 5: 144–61. &lt;a href=&#34;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.375.8693&amp;amp;rep=rep1&amp;amp;type=pdf&#34;&gt;citeseerx.ist.psu.edu&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;McGlade, Christophe, and Paul Ekins. 2015. “The geographical distribution of fossil fuels unused when limiting global warming to 2 °C.” Nature 517 (7533). Nature Publishing Group: 187–90. doi:10.1038/nature14016.&lt;/p&gt;

&lt;p&gt;Tamminga, Guus, Marc Miska, Edgar Santos, Hans van Lint, Arturo Nakasone, Helmut Prendinger, and Serge Hoogendoorn. 2012. “Design of Open Source Framework for Traffic and Travel Simulation.” Transportation Research Record: Journal of the Transportation Research Board 2291 (-1): 44–52. doi:10.&lt;sup&gt;3141&lt;/sup&gt;&amp;frasl;&lt;sub&gt;2291&lt;/sub&gt;-06.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>