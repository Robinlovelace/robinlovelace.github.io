<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Robin Lovelace</title>
    <description>environmental geographer, transport modeller, energy researcher
</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml" />
    <pubDate>Tue, 06 Dec 2016 02:01:19 +0000</pubDate>
    <lastBuildDate>Tue, 06 Dec 2016 02:01:19 +0000</lastBuildDate>
    <generator>Jekyll v3.3.1</generator>
    
      <item>
        <title>Estimating cycling potential with CycleStreet.net</title>
        <description>&lt;p&gt;Today was released the &lt;a href=&quot;https://www.jtlu.org/index.php/jtlu/article/view/862/824&quot;&gt;paper&lt;/a&gt; that describes the Propensity to Cycle Tool (PCT) and some of the thinking behind it.&lt;/p&gt;

&lt;p&gt;There are many things to say about the PCT, from the methods that underly it to evidence-based policy. This post focusses on just one aspect of the PCT, however: its use of CycleStreets.net to convert straight travel desire lines into wiggly paths on the road network that someone cycling could plausibly take.&lt;/p&gt;

&lt;p&gt;Before saying something about the routes themselves it’s worth taking a step back to look at the underlying data behind the PCT. The PCT relies on orgin-destination (OD) data. That is simply data in the following form:&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;origin&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;destination&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;V1&lt;/th&gt;
      &lt;th style=&quot;text-align: right&quot;&gt;V2&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;100&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;50&lt;/td&gt;
      &lt;td style=&quot;text-align: right&quot;&gt;5&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;What this example OD table means is that 100 units of ‘V1’ and 3 units of V2 travel between zone 1 and zone 2. There is also movement represented between Zone 2 and 3.&lt;/p&gt;

&lt;p&gt;Now, imagine that V1 represents the total number of people travelling between the origin and destination and that V2 represents the number who regularly cycle. That is the basic input dataset that we are using as an input into the PCT. We use 2011 OD data on travel to work, because that is the most comprehensive dataset on travel patterns available.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stplanr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Loading required package: sp&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Loading required package: methods&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</description>
        <pubDate>Tue, 06 Dec 2016 02:00:58 +0000</pubDate>
        <link>http://localhost:4000/2016/12/06/estimating-cycling-potential-with-cyclestreet-net.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/12/06/estimating-cycling-potential-with-cyclestreet-net.html</guid>
        
        <category>example1</category>
        
        <category>example2</category>
        
        
      </item>
    
      <item>
        <title>Estimating cycling potential with CycleStreets.net</title>
        <description>&lt;p&gt;Your markdown here!&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/figure/source/estimating-cycling-potential-with-cyclestreets-net/2016-12-06-estimating-cycling-potential-with-cyclestreets-net/unnamed-chunk-1-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-1&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 06 Dec 2016 01:58:42 +0000</pubDate>
        <link>http://localhost:4000/2016/12/06/estimating-cycling-potential-with-cyclestreets-net.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/12/06/estimating-cycling-potential-with-cyclestreets-net.html</guid>
        
        <category>example1</category>
        
        <category>example2</category>
        
        
      </item>
    
      <item>
        <title>Geostat2016 Albacete: a write-up</title>
        <description>&lt;p&gt;Last week I went to &lt;a href=&quot;http://geostat-course.org/2016&quot;&gt;GEOSTAT 2016&lt;/a&gt;. Given the amount of fun had at &lt;a href=&quot;http://robinlovelace.net/r/2015/08/31/geostat-writeup.html&quot;&gt;GEOSTAT 2015&lt;/a&gt;, expectations were high. The local organisers did not disappoint, with a week of lectures, workshops, spatial data competitions and of course lots of Geostatistics. It would be unwise to try to systematically document such a diverse range of activities, and the &lt;a href=&quot;http://geostat-course.org/node&quot;&gt;GEOSTAT website&lt;/a&gt; provides much further info. Instead this ‘miniwriteup’ is designed to summarise some of my memories from the event, and encourage you to get involved for GEOSTAT 2017.&lt;/p&gt;

&lt;!--more--&gt;
&lt;p&gt;To put things in context, the first session was a brief overview of the history of GEOSTAT. This is the 12&lt;sup&gt;th&lt;/sup&gt; GEOSTAT summer school. In some ways GEOSTAT can be seen as a physical manifestation of the lively &lt;a href=&quot;https://stat.ethz.ch/mailman/listinfo/r-sig-geo&quot;&gt;R-SIG-GEO email list&lt;/a&gt;. That may not sound very exciting. But there is a strong community spirit at the event and, unlike other academic conferences, the focus is on practical learning rather than transmitting research findings or theories. And the event was so much more than that.&lt;/p&gt;

&lt;p&gt;There were 5 action packed days covering many topics within the broad field of Geostatistics. What follows is an overview of each that I went to (there were 2 streams), with links to the source material. It is hoped that this will be of use to people who were not present in person.&lt;/p&gt;

&lt;h2 id=&quot;day-1&quot;&gt;Day 1&lt;/h2&gt;

&lt;p&gt;After an introduction to the course and spatial data by Tom Hengl, Roger Bivand delivered a technical and applied webinar on &lt;a href=&quot;http://geostat-course.org/system/files/geostat_talk16.pdf&quot;&gt;bridges between R and other GIS software&lt;/a&gt;. With a focus on GRASS, we learned how R could be used as a ‘front end’ to other programs. An example using the famous ‘Cholera pump’ data mapped by &lt;a href=&quot;https://en.wikipedia.org/wiki/John_Snow&quot;&gt;John Snow&lt;/a&gt; was used to demonstrate the potential benefits of ‘bridging’ to other software. The data can be downloaded and partially plotted in R as follows:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://geostat-course.org/system/files/data_0.zip&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;download.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data_0.zip&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unzip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data_0.zip&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;old&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;~/repos/geostat2016-rl/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;raster&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Loading required package: sp
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;bbo&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shapefile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data/bbo.shp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buildings&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shapefile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data/buildings.shp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;deaths&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shapefile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data/deaths.shp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b_pump&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shapefile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data/b_pump.shp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nb_pump&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shapefile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data/nb_pump.shp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buildings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/npct/pct/raw/master/figures/unnamed-chunk-3-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;setwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;old&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;In the afternoon Robert Hijmans gave a high level overview of software for spatial data analysis, with a discussion of the &lt;a href=&quot;http://www.diva-gis.org/&quot;&gt;Diva GIS&lt;/a&gt; software he developed and why he now uses R for most of his geospatial analysis.&lt;/p&gt;

&lt;p&gt;The talk touched on the &lt;a href=&quot;https://cran.r-project.org/web/packages/gdistance/&quot;&gt;&lt;strong&gt;gdistance&lt;/strong&gt;&lt;/a&gt; package, and many others. Robert showcased the power of R for understanding major civilisational problems such as the impacts of climate change on agriculture. His animated global maps of agricultural productivity and precipitation showed how R can scale to tackle large datasets, up to the global level involving spatial and temporal data simultaneously.&lt;/p&gt;

&lt;p&gt;There were a few political asides. Robert mentioned how agrotech giant Monsanto paid almost &lt;a href=&quot;https://www.fastcoexist.com/3019387/why-monsanto-just-spent-1-billion-to-buy-a-climate-data-company&quot;&gt;$1 billion&lt;/a&gt; for a weather prediction company. He detoured deftly through a discussion of ‘big data’, making the observation that often ensembles of models can provide better predictions than any single model working on its own, with political analogies about the importance of democracy.&lt;/p&gt;

&lt;p&gt;More examples included health and estimates of dietary deficiencies at high levels of geographic resolution. A paper showing fish and fruit consumption across Rwanda illustrated how map making in R, used intelligently, can save lives.&lt;/p&gt;

&lt;p&gt;It was revealing to learn how Robert got into R. While he was working at the &lt;a href=&quot;http://irri.org/&quot;&gt;International Rice Research Institute&lt;/a&gt;. “It forces you to write scripts.” This is good for ensuring reproducibility, a critical component of scientific research. It encourages you to focus on and understand the data primarily, rather than visualising it. On the other hand, R is not always the fastest way to do things, although “people often worry too much about this”. Your time is more important than your computers, so setting an analysis running is fine. Plus there are ways to make things run faster, as mentioned in a book that I’m working on, &lt;a href=&quot;https://csgillespie.github.io/efficientR/&quot;&gt;Efficient R Programming&lt;/a&gt;.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;R is great if you use it every data, but if you only use it less than once a week it becomes difficult.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;If you just want a one-off spatial analysis data program, Robert recommended QGIS. After a brief overview of spatial data in R, Robert moved on to talk about the &lt;a href=&quot;https://cran.r-project.org/web/packages/raster/index.html&quot;&gt;&lt;strong&gt;raster&lt;/strong&gt;&lt;/a&gt; package, which he developed. This package was developed to overcome some of the limitations with &lt;strong&gt;sp&lt;/strong&gt;, the foundational package for spatial data in R.&lt;/p&gt;

&lt;!-- This led on to discussion of C++ code, which Robert is increasingly developing in to extend **raster**. Here is a brief benchmark to show how much faster C++ code can be: --&gt;
&lt;!-- ```{r} --&gt;
&lt;!-- sumR = function(x){ --&gt;
&lt;!--   b = NULL --&gt;
&lt;!--   for(i in 1:length(x)){ --&gt;
&lt;!--     b = b + a[i] --&gt;
&lt;!--   } --&gt;
&lt;!-- } --&gt;
&lt;!-- ``` --&gt;
&lt;!-- ```{r, engine='cpp', eval=FALSE} --&gt;
&lt;!-- library(Rcpp) --&gt;
&lt;!-- cppFunction(code =  --&gt;
&lt;!--               &quot;// [[Rcpp::export]] --&gt;
&lt;!-- double cumulater(std::vector&lt;doubl&gt;d) { --&gt;
&lt;!--   int n = x.size(); --&gt;
&lt;!--   double result = 0; --&gt;
&lt;!--   for (int i=0;i &lt; n; i++) { --&gt;
&lt;!--     result = result + d[i]; --&gt;
&lt;!--   } --&gt;
&lt;!--   double r = cumulater(v) --&gt;
&lt;!-- }return r;&quot;) --&gt;
&lt;!-- ``` --&gt;
&lt;!-- According to Robert, once you can write R functions, &quot;writing C++ functions is relatively easy&quot;. While I'm not quite convinced, based on the number of characters needed to write a simple sum code, he certainly convinced me of the merits of developing new spatial functions in this low level language, because of its speed and the fact that it's the main development language of GDAL.  --&gt;
&lt;p&gt;A final resource that Robert promoted was &lt;a href=&quot;http://www.rspatial.org/&quot;&gt;RSpatial.org&lt;/a&gt;, a free online resource for teaching R as a command line GIS.&lt;/p&gt;

&lt;p&gt;Edzer Pebesmer delivered the final session of the first day, on &lt;strong&gt;Free and Open Source Software (FOSS) for Geoinformatics and Geosciences&lt;/strong&gt;. After the highly technical final C++ examples from the previous talk, I was expecting a high level overview of the landscape. Instead Edzer went straight in to talk about source code, the raw material that defines all software. The fundamental feature of open source software is that its source code is free, and will remain free.&lt;/p&gt;

&lt;!-- An example of this is Apple, the most profitable computer company on Earth, used parts of the BSD kernel in its proprietary operating system. --&gt;
&lt;!-- Another feature of open source software is that it must have a license. It has a legal meaning, the details of which vary from licence to license. By deciding a license, you can choose whether you use a more *restrictive* license (which prevents people from using the software in software that is solved) or a more *permisive* license. R's 'backend' is licensed --&gt;
&lt;!-- GPL is used for R's. ESRI is now using R as a back-end in commercial software. Its lawers have explored the legal implications of this and concluded that it is not breaking the law by doing so. --&gt;
&lt;!-- GitHub is an online system for developing open source software. It is free to use, but some of the best things in GitHub are not open source. Edzer says that the advantages of using their service, in terms of community engagement and ease of use and accessibility, currently outweigh any potential future disbenefits of GitHub not being completely open source.  --&gt;
&lt;!-- Another example is open source software for geosciences. Researchers may want to make their software open for anyone to use, while remaining protected from exploitation from large companies like oil com --&gt;
&lt;p&gt;Day 2
—–&lt;/p&gt;

&lt;p&gt;The second day of the course was divided in two: stream A focussed on environmental modelling and stream B compositional data. I attended the environmental modelling course taught by Robert Hijmans. The course was based on his teaching material at &lt;a href=&quot;http://rspatial.org/spatial/index.html&quot;&gt;rspatial.org&lt;/a&gt; and can be found &lt;a href=&quot;http://gfc.ucdavis.edu/events/albacete/day2.html&quot;&gt;online&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We started off by looking at the fundamental data structures underlying spatial data in R. Why? It’s useful to be able to create simple example datasets from scratch, to understand them.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xy&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SpatialPoints&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## class       : SpatialPoints 
## features    : 4 
## extent      : 3, 8, 6, 12  (xmin, xmax, ymin, ymax)
## coord. ref. : NA
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;LETTERS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spd&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SpatialPointsDataFrame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coords&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/npct/pct/raw/master/figures/unnamed-chunk-6-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The basic functions of the &lt;strong&gt;raster&lt;/strong&gt; package are similar.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;raster&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;raster&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nc&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nr&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ncell&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/npct/pct/raw/master/figures/unnamed-chunk-7-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;as.matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##       [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
##  [1,]    1    2    3    4    5    6    7    8    9    10
##  [2,]   11   12   13   14   15   16   17   18   19    20
##  [3,]   21   22   23   24   25   26   27   28   29    30
##  [4,]   31   32   33   34   35   36   37   38   39    40
##  [5,]   41   42   43   44   45   46   47   48   49    50
##  [6,]   51   52   53   54   55   56   57   58   59    60
##  [7,]   61   62   63   64   65   66   67   68   69    70
##  [8,]   71   72   73   74   75   76   77   78   79    80
##  [9,]   81   82   83   84   85   86   87   88   89    90
## [10,]   91   92   93   94   95   96   97   98   99   100
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sqrt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/npct/pct/raw/master/figures/unnamed-chunk-7-2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ss&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# r is recycled so each layer is multiplied by r
&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# here 2 is recycled
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] 2 4 6
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Raster also provides simple yet powerful functions for manipulating and analysing raster data, including &lt;code class=&quot;highlighter-rouge&quot;&gt;crop()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;merge()&lt;/code&gt; for manipulation and &lt;code class=&quot;highlighter-rouge&quot;&gt;predict()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;focal()&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;distance()&lt;/code&gt;. &lt;code class=&quot;highlighter-rouge&quot;&gt;predict()&lt;/code&gt; is particularly interesting as it allows raster values to be estimated using any of R’s powerful statistical methods.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dismo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Albacete, Spain&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scale&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lonlat&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Loading required namespace: XML
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;interpolate&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/npct/pct/raw/master/figures/unnamed-chunk-9-1.png&quot; alt=&quot;&quot; /&gt;&lt;img src=&quot;https://github.com/npct/pct/raw/master/figures/unnamed-chunk-9-2.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dismo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geocode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Universidad Castilla la Mancha&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##                    originalPlace
## 1 Universidad Castilla la Mancha
##                                          interpretedPlace longitude
## 1 Paseo Universidad, 13005 Ciudad Real, Cdad. Real, Spain -3.921711
##   latitude      xmin      xmax     ymin     ymax uncertainty
## 1 38.99035 -3.922007 -3.919309 38.98919 38.99189         131
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;!-- Supervised learning is the process of allowing a computer to estimate predictor variables based on explanatory variables. --&gt;
&lt;!-- There are 2 main things to consider when model fitting: the functional form to use and the explanatory variables X. --&gt;
&lt;!-- We worked through a practical on spatial interpolation from [rspatial.org](http://rspatial.org/analysis/rst/4-interpolation.html): --&gt;
&lt;!-- ```{r} --&gt;
&lt;!-- dir.create(&quot;data&quot;) --&gt;
&lt;!-- download.file(&quot;http://rspatial.org/analysis/data/precipitation.csv&quot;, &quot;data/precipitation.csv&quot;) --&gt;
&lt;!-- d = read.csv(&quot;data/precipitation.csv&quot;) --&gt;
&lt;!-- d$prec &lt;- rowSums(d[, c(6:17)]) --&gt;
&lt;!-- plot(sort(d$prec), ylab='Annual precipitation (mm)', las=1, xlab='Stations') --&gt;
&lt;!-- library(sp) --&gt;
&lt;!-- dsp &lt;- SpatialPoints(d[,4:3], proj4string=CRS(&quot;+proj=longlat +datum=NAD83&quot;)) --&gt;
&lt;!-- dsp &lt;- SpatialPointsDataFrame(dsp, d) --&gt;
&lt;!-- download.file(&quot;http://rspatial.org/analysis/data/counties.rds&quot;, &quot;data/counties.rds&quot;) --&gt;
&lt;!-- CA &lt;- readRDS(&quot;data/counties.rds&quot;) --&gt;
&lt;!-- # define groups for mapping --&gt;
&lt;!-- cuts &lt;- c(0,200,300,500,1000,3000) --&gt;
&lt;!-- # set up a palette of interpolated colors --&gt;
&lt;!-- blues &lt;- colorRampPalette(c('yellow', 'orange', 'blue', 'dark blue')) --&gt;
&lt;!-- pols &lt;- list(&quot;sp.polygons&quot;, CA, fill = &quot;lightgray&quot;) --&gt;
&lt;!-- spplot(dsp, 'prec', cuts=cuts, col.regions=blues(5), sp.layout=pols, pch=20, cex=2) --&gt;
&lt;!-- TA &lt;- CRS(&quot;+proj=aea +lat_1=34 +lat_2=40.5 +lat_0=0 +lon_0=-120 +x_0=0 +y_0=-4000000 +datum=NAD83 +units=m +ellps=GRS80 +towgs84=0,0,0&quot;) --&gt;
&lt;!-- library(rgdal) --&gt;
&lt;!-- dta &lt;- spTransform(dsp, TA) --&gt;
&lt;!-- cata &lt;- spTransform(CA, TA) --&gt;
&lt;!-- ``` --&gt;
&lt;!-- Now the modelling work can begin.  --&gt;
&lt;!-- ```{r} --&gt;
&lt;!-- # First create a function to calculate the error: --&gt;
&lt;!-- RMSE &lt;- function(observed, predicted) { --&gt;
&lt;!--   sqrt(mean((predicted - observed)^2, na.rm=TRUE)) --&gt;
&lt;!-- } --&gt;
&lt;!-- null &lt;- RMSE(mean(dsp$prec), dsp$prec) --&gt;
&lt;!-- null --&gt;
&lt;!-- library(dismo) --&gt;
&lt;!-- v &lt;- voronoi(dta) --&gt;
&lt;!-- ## Loading required namespace: deldir --&gt;
&lt;!-- plot(dsp) --&gt;
&lt;!-- plot(v) --&gt;
&lt;!-- points(dta, col = &quot;red&quot;) --&gt;
&lt;!-- ca = aggregate(cata) --&gt;
&lt;!-- plot(ca) --&gt;
&lt;!-- vca = intersect(v, ca) --&gt;
&lt;!-- plot(vca) --&gt;
&lt;!-- vca2 = rgeos::gIntersection(v, ca, byid = T) --&gt;
&lt;!-- names(vca2) --&gt;
&lt;!-- plot(vca2) # not the same! --&gt;
&lt;!-- plot(vca) --&gt;
&lt;!-- names(vca) --&gt;
&lt;!-- ``` --&gt;
&lt;!-- Testing a first model --&gt;
&lt;!-- ```{r} --&gt;
&lt;!-- kf = kfold(dta@data) --&gt;
&lt;!-- rmse = NULL --&gt;
&lt;!-- for(k in 1:length(unique(kf))){ --&gt;
&lt;!--   test = dta[kf == k,] --&gt;
&lt;!--   train = dta[kf != k,] --&gt;
&lt;!--   v = voronoi(train) --&gt;
&lt;!--   p = extract(v, test) --&gt;
&lt;!--   rmse[k] = RMSE(observed = test$prec, predicted = p$prec) --&gt;
&lt;!-- } --&gt;
&lt;!-- rmse --&gt;
&lt;!-- ``` --&gt;
&lt;p&gt;Day 3
—–&lt;/p&gt;

&lt;p&gt;The third day started with a live R demo by Edzer Pebesmer on &lt;a href=&quot;https://edzer.github.io/UseR2016/&quot;&gt;space-time data&lt;/a&gt;. Refreshingly for a conference primarily on spatial data, it started with an in-depth discussion of time. While base R natively supports temporal units (knowing the difference between days and seconds, for example) it does not know the difference between metres and miles.&lt;/p&gt;

&lt;p&gt;This led to the creation of the &lt;strong&gt;units&lt;/strong&gt; library, an taster of which is shown below:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;units&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;units&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ud_units&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ud_units&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;km&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ud_units&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;km&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ud_units&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The rest of the day was spent analysing a range of spatio-temporal datasets using &lt;strong&gt;spacetime&lt;/strong&gt;, &lt;strong&gt;trajectories&lt;/strong&gt; and &lt;strong&gt;rgl&lt;/strong&gt; for interactive 3d spacetime plots.&lt;/p&gt;

&lt;p&gt;In the parallel session there were sessions on &lt;a href=&quot;http://geostat-course.org/node/1328&quot;&gt;CARTO&lt;/a&gt; and the &lt;a href=&quot;http://geostat-course.org/node/1329&quot;&gt;R gvSIG bridge&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;day-4&quot;&gt;Day 4&lt;/h2&gt;

&lt;p&gt;Day 4 was a highlight for me as I’ve wanted to learn how to use the &lt;strong&gt;INLA&lt;/strong&gt; package for ages. It was explained lucidly by Marta Blangiardo and Michela Cameletti, who have written an excellent book on the subject, which has a &lt;a href=&quot;https://sites.google.com/a/r-inla.org/stbook/&quot;&gt;website that I recommend checking out&lt;/a&gt;. Their materials can be found here: &lt;a href=&quot;http://geostat-course.org/node/1330&quot;&gt;http://geostat-course.org/node/1330&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;In parallel to this there was a session on &lt;a href=&quot;http://geostat-course.org/node/1326&quot;&gt;Spatial and Spatiotemporal point process analysis in R&lt;/a&gt; data in R by Virgilio Gomez Rubio and one on automated &lt;a href=&quot;http://geostat-course.org/node/1323&quot;&gt;spatial prediction and visualisation&lt;/a&gt; by Tom Hengl.&lt;/p&gt;

&lt;h2 id=&quot;day-5&quot;&gt;Day 5&lt;/h2&gt;

&lt;p&gt;After all that intense geospatial analysis and programming activity, and a night out in Albacete for some participants, we were relieved to learn that this final day of learning was more relaxed. Furthermore, by tradition, it was largely participant-led. I gave a talk on &lt;a href=&quot;https://csgillespie.github.io/efficientR/&quot;&gt;Efficient R Programming&lt;/a&gt;, a book I’ve written in collaboration with Colin Gillespie; Teresa Rojos gave a fascinating talk about her research into the spatial distribution of cancer rates in Peru; and S.J. Norder gave us the low-down on the Biogeography of islands with R.&lt;/p&gt;

&lt;p&gt;One of the most exciting sessions was the revelation of the results of the spatial prediction game. Interestingly, a team using a relatively simple approach with &lt;a href=&quot;https://cran.r-project.org/web/packages/randomForestSRC/index.html&quot;&gt;&lt;strong&gt;randomForestSRC&lt;/strong&gt;&lt;/a&gt; (and &lt;a href=&quot;https://github.com/ehrlinger/ggRandomForests&quot;&gt;&lt;strong&gt;ggRandomForests&lt;/strong&gt;&lt;/a&gt; for visualisation) one against others who had spent hours training complex multi-level models.&lt;/p&gt;

&lt;h2 id=&quot;summary&quot;&gt;Summary&lt;/h2&gt;

&lt;p&gt;Overall it was an amazing event and inspiring to spend time with so many researchers using open geospatial software for tackling &lt;a href=&quot;https://t.co/UqMyCnXOsG&quot;&gt;pressing real world issues&lt;/a&gt;. Furthermore, it was great fun. I strongly recommend people dipping their toes in the &lt;a href=&quot;https://cran.r-project.org/web/views/Spatial.html&quot;&gt;sea of spatial capabilities&lt;/a&gt; provided by R check out the &lt;a href=&quot;http://geostat-course.org/node&quot;&gt;GEOSTAT website&lt;/a&gt;, not least for the excellent &lt;a href=&quot;http://archive.org/search.php?query=GEOSTAT&quot;&gt;video resources to be found there&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I look forward to hearing plans for future GEOSTATs and recommend the event, and associated materials, to researchers interested in using free geospatial software for the greater good.&lt;/p&gt;
</description>
        <pubDate>Wed, 28 Sep 2016 00:00:00 +0100</pubDate>
        <link>http://localhost:4000/2016/09/28/geostat-2016.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/09/28/geostat-2016.html</guid>
        
        <category>GEOSTAT</category>
        
        <category>maps</category>
        
        
        <category>R</category>
        
      </item>
    
      <item>
        <title>Modelling cycling potential with R</title>
        <description>&lt;p&gt;Here is some content.&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;Here’s some more!&lt;/p&gt;
</description>
        <pubDate>Sat, 02 Jul 2016 00:00:00 +0100</pubDate>
        <link>http://localhost:4000/2016/07/02/pct-shiny.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/07/02/pct-shiny.html</guid>
        
        <category>cycling</category>
        
        <category>modelling</category>
        
        <category>GIS</category>
        
        <category>shiny</category>
        
        
        <category>R</category>
        
      </item>
    
      <item>
        <title>stplanr 0.1.1</title>
        <description>&lt;p&gt;Version 0.1.1 of the package
&lt;a href=&quot;https://cran.r-project.org/web/packages/stplanr/&quot;&gt;stplanr&lt;/a&gt; has been
released on CRAN. This is a major update with many new functions and a
new class definition, &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialLinesNetwork&lt;/code&gt;, for route planning and
network analysis using
&lt;a href=&quot;https://cran.r-project.org/web/packages/igraph/index.html&quot;&gt;igraph&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;This short post, by myself and package co-author &lt;a href=&quot;http://sydney.edu.au/business/itls/staff/richarde&quot;&gt;Richard
Ellison&lt;/a&gt;, describes
how stplanr can be used for transport research with a few simple
examples from the package documentation. We hope that stplanr is of use
to transport researchers and practitioners worldwide and encourage
contributions to the development version hosted on
&lt;a href=&quot;https://github.com/ropensci/stplanr&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;working-with-origin-destination-data&quot;&gt;Working with origin-destination data&lt;/h2&gt;

&lt;p&gt;Origin-destination (OD) data is one of the basic data sources for
understanding travel behaviour. Usually OD data in R is represented by a
table containing at least the following columns:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Origin ID: a text string identifying the zone in which journeys
originate&lt;/li&gt;
  &lt;li&gt;Destination ID: a test string identifying the destination zone&lt;/li&gt;
  &lt;li&gt;Number of trips: the rate of travel between the unique OD pair&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Additional columns can provide a break-down by trip type such as by mode
of travel (e.g. car) and time of day. A sample of this data (also
referred to as ‘Flow data’ by some statistical organsiations) is
provided in the example dataset &lt;code class=&quot;highlighter-rouge&quot;&gt;flows&lt;/code&gt;, as illustrated in the Table
below.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;library(stplanr)

## Loading required package: sp

library(tmap)
data(&quot;flow&quot;)
knitr::kable(flow[1:3,c(1, 2, 3, 13)])
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Area.of.residence&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Area.of.workplace&lt;/th&gt;
&lt;th align=&quot;right&quot;&gt;All&lt;/th&gt;
&lt;th align=&quot;right&quot;&gt;On.foot&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;920573&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;E02002361&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;E02002361&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;109&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;59&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;920575&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;E02002361&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;E02002363&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;38&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;920578&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;E02002361&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;E02002367&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;10&lt;/td&gt;
&lt;td align=&quot;right&quot;&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;To link this data to geographical space we use a dataset stored as a
&lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialPointsDataFrame&lt;/code&gt; from the sp package in &lt;code class=&quot;highlighter-rouge&quot;&gt;cents&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;data(cents)
plot(cents)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://robinlovelace.net/figure/2016-01-18-stplanr-0.1.1_files/figure-markdown_strict/unnamed-chunk-2-1.png&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;
 To link the flow data we can use the command &lt;code class=&quot;highlighter-rouge&quot;&gt;od2line()&lt;/code&gt; to create
&lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialLinesDataFrame&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;odlines &amp;lt;- od2line(flow = flow, zones = cents)
plot(cents)
plot(odlines, add = TRUE)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://robinlovelace.net/figure/2016-01-18-stplanr-0.1.1_files/figure-markdown_strict/unnamed-chunk-3-1.png&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;
 Note that the function also accepts a &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialPolygonsDataFrame&lt;/code&gt; as an
input by setting the line start and end point to the zone’s geographic
centroid:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;odlines &amp;lt;- od2line(flow = flow, zones = zones)
plot(zones)
plot(odlines, add = TRUE)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://robinlovelace.net/figure/2016-01-18-stplanr-0.1.1_files/figure-markdown_strict/unnamed-chunk-4-1.png&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;
 To gain a basic understanding of the rate of travel in this simple
travel system, we can plot the &lt;code class=&quot;highlighter-rouge&quot;&gt;odlines&lt;/code&gt; with width proportional to the
number of people travelling:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;plot(odlines, lwd = odlines$All / mean(odlines$All) * 3, col = &quot;red&quot;)
plot(odlines, lwd = odlines$On.foot / mean(odlines$All) * 3, col = &quot;green&quot;, add = T)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://robinlovelace.net/figure/2016-01-18-stplanr-0.1.1_files/figure-markdown_strict/unnamed-chunk-5-1.png&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;
 In the resulting plot the total rate of travel is represented by the
width of red lines. The proportion of people who walk is illustrated by
the relationship between the width of the green and red lines. We can
use this data to explore the relationship between walking and distance:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;odlines &amp;lt;- spTransform(odlines, CRS(&quot;+init=epsg:27700&quot;))
odlines$dist &amp;lt;- rgeos::gLength(odlines, byid = T)
plot(odlines$dist, odlines$On.foot / odlines$All)

# fit a model to the curve
m &amp;lt;- lm(On.foot / All ~ dist, odlines@data)
lines(odlines$dist, m$fitted.values)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://robinlovelace.net/figure/2016-01-18-stplanr-0.1.1_files/figure-markdown_strict/unnamed-chunk-6-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;summary(m)

## 
## Call:
## lm(formula = On.foot/All ~ dist, data = odlines@data)
## 
## Residuals:
##      Min       1Q   Median       3Q      Max 
## -0.26915 -0.06987 -0.00694  0.06190  0.63195 
## 
## Coefficients:
##               Estimate Std. Error t value Pr(&amp;gt;|t|)    
## (Intercept)  5.365e-01  4.503e-02  11.915 8.36e-16 ***
## dist        -1.409e-04  2.501e-05  -5.633 9.64e-07 ***
## ---
## Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1
## 
## Residual standard error: 0.1585 on 47 degrees of freedom
## Multiple R-squared:  0.403,  Adjusted R-squared:  0.3903 
## F-statistic: 31.73 on 1 and 47 DF,  p-value: 9.638e-07
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This is useful information: we can see a clear negative relationship
between the distance of the trip (in metres) and the proportion who are
willing to make the journey on foot.&lt;/p&gt;

&lt;h2 id=&quot;working-with-route-allocated-flow-data&quot;&gt;Working with route-allocated ‘flow’ data&lt;/h2&gt;

&lt;p&gt;stplanr includes functions for allocating OD pairs to the transport
network, including &lt;code class=&quot;highlighter-rouge&quot;&gt;route_cyclestreet()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;route_graphhopper()&lt;/code&gt; and,
most rececently &lt;code class=&quot;highlighter-rouge&quot;&gt;viaroute()&lt;/code&gt; which provides an R interface to the
superfast &lt;a href=&quot;https://github.com/Project-OSRM/osrm-backend/wiki/Server-api&quot;&gt;OSRM routing
API&lt;/a&gt;. This
is useful because roads rarely take you directly from origin to
destination, as illustrated below for the trip from Leeds to London one could
take to to
attend the upcoming &lt;a href=&quot;http://www.gre.ac.uk/ach/services/events/gisruk2016/home&quot;&gt;GISRUK
conference&lt;/a&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;route &amp;lt;- route_cyclestreet(&quot;Leeds&quot;, &quot;Greenwich&quot;)
library(tmap)
tiles &amp;lt;- read_osm(bb(route, ext = 2))
tm_shape(tiles) +
  tm_raster() +
  tm_shape(route) +
  tm_lines()
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://robinlovelace.net/figure/2016-01-18-stplanr-0.1.1_files/figure-markdown_strict/unnamed-chunk-8-1.png&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;
 We can allocate all of the OD pairs in &lt;code class=&quot;highlighter-rouge&quot;&gt;odlines&lt;/code&gt; to the transport
network using these functions. The &lt;code class=&quot;highlighter-rouge&quot;&gt;routes_fast&lt;/code&gt; dataset, for example,
was created using &lt;code class=&quot;highlighter-rouge&quot;&gt;line2route()&lt;/code&gt; and represents the rastest route that a
cyclist may take, according to the &lt;a href=&quot;http://www.cyclestreets.net/api/&quot;&gt;CycleStreets.net
API&lt;/a&gt;. A sample of this dataset is
illustrated below:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;routes_fast$weight &amp;lt;- c(5, 10)
plot(routes_fast[1:2,], lwd = routes_fast$weight)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://robinlovelace.net/figure/2016-01-18-stplanr-0.1.1_files/figure-markdown_strict/unnamed-chunk-9-1.png&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;
 Note that there is some overlap between the two lines above. It is
sometimes useful to take aggregate statistics for the attributes of
overlapping lines, for example to estimate the number of people using
any particular part of the transport network. This can be acheived using
&lt;a href=&quot;http://gis.stackexchange.com/questions/139681/overlaying-lines-and-aggregating-their-values-for-overlapping-segments&quot;&gt;Barry
Rowlingson’s&lt;/a&gt;
function &lt;code class=&quot;highlighter-rouge&quot;&gt;overline()&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rnet &amp;lt;- overline(routes_fast[1:2,], attrib = &quot;weight&quot;, fun = sum)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Note that in the above plot the final segment to the east has a &lt;code class=&quot;highlighter-rouge&quot;&gt;weight&lt;/code&gt;
value that is the sum of the two overlapping lines in
&lt;code class=&quot;highlighter-rouge&quot;&gt;routes_fast[1:2,]&lt;/code&gt;: 5 + 10 = 15. We can verify this with Barry’s neat
function&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;plot(rnet, lwd = rnet$weight, col = &quot;red&quot;)
lineLabels(rnet, &quot;weight&quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://robinlovelace.net/figure/2016-01-18-stplanr-0.1.1_files/figure-markdown_strict/unnamed-chunk-11-1.png&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;
 ## Other functions&lt;/p&gt;

&lt;p&gt;There are many other functions designed to help transport researchers in
&lt;code class=&quot;highlighter-rouge&quot;&gt;stplanr&lt;/code&gt;. These include:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;read_stats19*&lt;/code&gt; functions which import and format UK ‘Stats19’ road
traffic casualty data&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;calc_catchment*&lt;/code&gt; functions for calculating transport ‘catchment
areas’ using buffers around transport facilities&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;gtfs2sldf()&lt;/code&gt; for reading-in Google’s
&lt;a href=&quot;https://developers.google.com/transit/gtfs/?hl=en&quot;&gt;GTFS&lt;/a&gt; format
into R&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;toptail*&lt;/code&gt; functions for removing the beginning and ends of
&lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialLines&lt;/code&gt; objects&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The use of the &lt;code class=&quot;highlighter-rouge&quot;&gt;calc_catchment*&lt;/code&gt; functions can be illustrated using some
simple data from Sydney showing the potential catchment of a possible
separated cycle paths. First we import the data that we want to use:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;library(rgdal)

## rgdal: version: 1.1-3, (SVN revision 594)
##  Geospatial Data Abstraction Library extensions to R successfully loaded
##  Loaded GDAL runtime: GDAL 1.11.2, released 2015/02/10
##  Path to GDAL shared files: /usr/share/gdal/1.11
##  Loaded PROJ.4 runtime: Rel. 4.8.0, 6 March 2012, [PJ_VERSION: 480]
##  Path to PROJ.4 shared files: (autodetected)
##  Linking to sp version: 1.2-2

data_dir &amp;lt;- system.file(&quot;extdata&quot;, package = &quot;stplanr&quot;)
unzip(file.path(data_dir, 'smallsa1.zip'))
unzip(file.path(data_dir, 'testcycleway.zip'))
sa1income &amp;lt;- readOGR(&quot;.&quot;,&quot;smallsa1&quot;) # Import some population data

## OGR data source with driver: ESRI Shapefile 
## Source: &quot;.&quot;, layer: &quot;smallsa1&quot;
## with 638 features
## It has 19 fields

testcycleway &amp;lt;- readOGR(&quot;.&quot;,&quot;testcycleway&quot;) # Import the path of the cycleways to test

## OGR data source with driver: ESRI Shapefile 
## Source: &quot;.&quot;, layer: &quot;testcycleway&quot;
## with 2 features
## It has 2 fields
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;We can then use our population data and the path of the cycleways to
estimate the population catchment for a given distance. If our
population layer contains fields with multiple subsets of data for which
we want to calculate the catchment area (e.g., men, women and children),
we can calculate the individual catchments. For this example, we will
simply use the ‘Total’ field containing the total population:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cycle_catchment &amp;lt;- calc_catchment(
  polygonlayer = sa1income, # The SpatialPolygonsDataFrame containing the population data
  targetlayer = testcycleway, # The Spatial* object containing the transport infrastructure of interest
  calccols = c('Total'), # The columns to summarise
  distance = 500, # The desired distance,
  projection = 'austalbers', # The projection to use for calculating the area
  dissolve = TRUE # Collapse all the population zones into a single polygon for the catchment
)
cycle_catchment$Total # Print the total catchment population

## [1] 23944.32
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;We can also plot the catchment area and the cycle paths. You will notice
that in this example, there are gaps in the buffers. These gaps are
because of the gaps in the population layer where Sydney harbour passes
through the area. To take into account the road network and not simply
straight-line distance, we can use the &lt;code class=&quot;highlighter-rouge&quot;&gt;calc_network_catchment&lt;/code&gt;
function.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;plot(cycle_catchment)
plot(testcycleway, col=&quot;red&quot;, add=TRUE, lwd=2)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://robinlovelace.net/figure/2016-01-18-stplanr-0.1.1_files/figure-markdown_strict/unnamed-chunk-14-1.png&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;
 The toptail functionality is useful for removing the beginning and ends
of SpatialLines, both for improving aestetchics of plots and for
ensuring that lines do not overlap. This functionality is illustrated
below using the &lt;code class=&quot;highlighter-rouge&quot;&gt;routes_fast&lt;/code&gt; data.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;proj4string(routes_fast) &amp;lt;- CRS(&quot;+init=epsg:4326&quot;)
rf_toptailed &amp;lt;- toptail(routes_fast, toptail_dist = 300)
plot(routes_fast, col = &quot;red&quot;, lwd = 5)
plot(rf_toptailed, add = T)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;http://robinlovelace.net/figure/2016-01-18-stplanr-0.1.1_files/figure-markdown_strict/unnamed-chunk-15-1.png&quot; alt=&quot;&quot; /&gt;&lt;br /&gt;
 The package
&lt;a href=&quot;https://cran.r-project.org/web/packages/stplanr/vignettes/introducing-stplanr.html&quot;&gt;vignette&lt;/a&gt;
contains some further illustrations of &lt;code class=&quot;highlighter-rouge&quot;&gt;stplanr&lt;/code&gt;’s functions which we
plan to improve on over time. While become almost ‘industry standard’ in
fields such as diverse as &lt;a href=&quot;http://www.nature.com/news/programming-tools-adventures-with-r-1.16609&quot;&gt;genetics, astronomy and
epidemiology&lt;/a&gt;,
R has received limited attention in transport planning. We believe that
there is great potential for R, via new packages such as stplanr, to
help solve real world transport problems such as &lt;a href=&quot;http://arxiv.org/abs/1509.04425&quot;&gt;estimating the
geographical distribution of cycling
potential&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The ‘sustainable’ in the package name relates to the emphasis on
low-carbon modes in the package such as cycling and public transport.
There is a huge amount of work to be done to plan for a transition away
from fossil fuels in the sector, for
&lt;a href=&quot;http://www.bma.org.uk/transport&quot;&gt;health&lt;/a&gt; and
&lt;a href=&quot;http://www.sciencedirect.com/science/article/pii/S0966692314001586&quot;&gt;environmental&lt;/a&gt;
reasons. In this context we hope that software such as &lt;code class=&quot;highlighter-rouge&quot;&gt;stplanr&lt;/code&gt;
contributes to the evidence base needed to design better transport
systems.&lt;/p&gt;
</description>
        <pubDate>Mon, 18 Jan 2016 00:00:00 +0000</pubDate>
        <link>http://localhost:4000/2016/01/18/stplanr-0.1.1.html</link>
        <guid isPermaLink="true">http://localhost:4000/2016/01/18/stplanr-0.1.1.html</guid>
        
        
        <category>R</category>
        
      </item>
    
      <item>
        <title>R and other open source tools for Civil Engineering</title>
        <description>&lt;p&gt;Open source software has caused a quiet revolution in computing since
the creation of the GPL license by Richard Stallman back in
&lt;a href=&quot;https://en.wikipedia.org/wiki/GNU_General_Public_License&quot;&gt;1989&lt;/a&gt;. Yet it has been slow
to gain ascendency in many areas, including Civil Engineering. This short post discusses this
issue in the context of the uptake of QGIS and R for spatial analysis work, with reference
to a lecture delivered to undergraduate Civil Engineering students at the University of Leeds
(see slides below and as a &lt;a href=&quot;http://robinlovelace.net/presentations/pct-pres.html&quot;&gt;stand-alone html page here&lt;/a&gt;):&lt;/p&gt;

&lt;!--more--&gt;

&lt;iframe src=&quot;http://robinlovelace.net/presentations/pct-pres.html&quot; width=&quot;900&quot; height=&quot;700&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;What began as a fringe movement within ‘hacker’ circles has taken over parts of computing the world.
Linux, which provides the backbone of the popular Android smartphone operating system,
is probably the most successful software project ever and owes at least part of its success to its
open source licence. In the world of statistics, there is a clear trend towards open source.
R is outpacing closed source alternatives such as Stata, SPSS and SAS 
&lt;a href=&quot;http://r4stats.com/2015/03/30/fastest-growing-analytics-2015/&quot;&gt;in academic work&lt;/a&gt; and this
trend looks set to continue in the world of commercial data analysis and ‘data science’.&lt;/p&gt;

&lt;p&gt;Illustrating this shift in attitude, Hadley Wickham
&lt;a href=&quot;https://www.reddit.com/r/dataisbeautiful/comments/3mp9r7/im_hadley_wickham_chief_scientist_at_rstudio_and/&quot;&gt;recently said&lt;/a&gt; in response to a question on
whether there was any reason to use SAS or SPSS in the modern world with:
“You have a whole bunch of money you want to get rid of? :)”&lt;/p&gt;

&lt;p&gt;Other branches of applied computing have been slower to adopt. Civil Engineering is
one of these areas, in which established products such as
&lt;a href=&quot;http://www.bentley.com/en-gb/Products/GEOPAK+Civil+Engineering+Suite/&quot;&gt;Bentley’s GEOPAK&lt;/a&gt;
&lt;a href=&quot;http://www.autodesk.co.uk/products/autocad-civil-3d/overview&quot;&gt;AutoCAD&lt;/a&gt; dominating the market.
It is interesting to note that in the Wikipedia page on
&lt;a href=&quot;https://en.wikipedia.org/wiki/Civil_engineering_software&quot;&gt;Civil engineering software&lt;/a&gt;
there is no mention of open source products, rasing the question: where are they?&lt;/p&gt;

&lt;p&gt;In the related field of GIS, the dominance of proprietary software has been challenged by
open source products such as &lt;a href=&quot;http://www.qgis.org/en/site/&quot;&gt;QGIS&lt;/a&gt;, raising the question:
why has this not happened in Civil Engineering. This was one of the questions
that came up in a lecture I delivered at the University of Leeds to 3rd year
Civil Engineering students. I found that although a majority of students had heard of
and used open source software for their everyday life, its update in an academic context was limited.&lt;/p&gt;

&lt;p&gt;From a Transport Engineering perspective, there are already options out there in the areas of
general spatial analysis and modelling transport flows. A recently created add-on to
QGIS, &lt;a href=&quot;http://www.aequilibrae.com/&quot;&gt;Aequilibrea&lt;/a&gt; provides much of the functionality
expected of professional transport planning projects. In addition, an R package I am developing
for transport planning work could be of use to some high-level Transport Engineering applications:
&lt;a href=&quot;https://github.com/Robinlovelace/stplanr&quot;&gt;stplanr&lt;/a&gt; facilitates the visualisation, analysis and
(via online APIs) network allocation of movement patterns represented by origin-destination
(OD) matrices.&lt;/p&gt;

&lt;p&gt;The lack of mainstream software for Civil Engineering creates a huge opportunity for
developers, practitioners and educators in the discipline to be an ‘early adopter’
and guide the way forward for making research more accessible and transparent for all.
The list of &lt;a href=&quot;http://sourceforge.net/directory/science-engineering/mechcivileng/os:linux/freshness:recently-updated/&quot;&gt;Mechanical and Civil Engineering Software&lt;/a&gt;
on the code hosting site SourceForge is an indication of the way things could go.&lt;/p&gt;

&lt;p&gt;Furthermore, there are indications that the dynamic and fast-growing users communities
in R and Python could help ‘fill the gap’ in free software for Engineering.
The &lt;a href=&quot;https://cran.fhcrc.org/web/packages/reservoir/index.html&quot;&gt;&lt;strong&gt;reservoir&lt;/strong&gt;&lt;/a&gt; R package
provides “tools for analysis, design, and operation of water supply storages” while
&lt;a href=&quot;https://pypi.python.org/pypi/strupy/&quot;&gt;strupy&lt;/a&gt; is a
“structural engineering design python package”.&lt;/p&gt;

&lt;p&gt;The advantages of these script-based software solutions is their flexibility: learning
a command-line interface such as R provides the potential for taking existing code and
modifying it to your own needs, a common requirement in enginneering applications
of all types. Batch-processing and reproducibility are additional advantages that
allow one’s solutions to scale.&lt;/p&gt;

&lt;p&gt;In summary, open source software such as R are little-used in Civil Engineering
but have huge potential for growth. Insights from the related realm of GIS
suggest that this may change and that the current crop of products could be
the beginning of a ‘phase shift’ in software for Civil Engineering.&lt;/p&gt;

</description>
        <pubDate>Thu, 22 Oct 2015 00:00:00 +0100</pubDate>
        <link>http://localhost:4000/2015/10/22/R-for-civil-engineering.html</link>
        <guid isPermaLink="true">http://localhost:4000/2015/10/22/R-for-civil-engineering.html</guid>
        
        <category>presentations</category>
        
        
        <category>R</category>
        
      </item>
    
      <item>
        <title>GEOSTAT 2015: a write-up</title>
        <description>&lt;p&gt;The week before last I attended the &lt;a href=&quot;http://geostat-course.org&quot;&gt;GEOSTAT&lt;/a&gt; summer school in Lancaster. GEOSTAT is an annual week-long meeting devoted to ‘geostatistics’ (or ‘spatial statistics’ - we’ll come on to the difference subsequently).&lt;/p&gt;

&lt;p&gt;Having seen the impressive range of materials from previous ‘GEOSTATs’, I was greatly looking forward to the event as a hub of learning, research and community-building, organised by people at the cutting edge of the field. I was not disappointed. The purpose of this post is to say ‘heads up’ to people who are interested, not only in the field of geostatistics but also in free and open source software for geospatial applications (‘&lt;a href=&quot;http://foss4g.org/&quot;&gt;FOSS4G&lt;/a&gt;’) and research-focussed communities using and developing R more widely. For educators, this post also serves to highlight a cache of frankly amazing teaching materials that lie, largely undiscovered, online free for all to use.&lt;/p&gt;

&lt;!--more--&gt;

&lt;h2 id=&quot;geostatistics-vs-spatial-statistics&quot;&gt;Geostatistics vs Spatial Statistics&lt;/h2&gt;

&lt;p&gt;The introductory talk was by Professor Pete Diggle from the host institution of the University of Lancaster. He delivered a sweeping overview of the field, tracing the development of spatial statistics from its historical antecedents such as &lt;a href=&quot;https://en.wikipedia.org/wiki/Buffon's_needle&quot;&gt;Buffon’s needle&lt;/a&gt; through agricultural field trials at the famous &lt;a href=&quot;https://en.wikipedia.org/wiki/Rothamsted_Research&quot;&gt;Rothamsted&lt;/a&gt; site to its eventual merging with geostatistical methods developed by the mining industry. The final stage of this fascinating story was the incorporation of spatial statistics into wider statistical theory. The entire roller-coaster ride can be heard in an audio recording that I made of the lecture and read in chapter 1 of &lt;em&gt;The Handbook of Spatial Statists&lt;/em&gt; which can be &lt;a href=&quot;https://books.google.co.uk/books?id=Xf4leslPDzsC&amp;amp;printsec=frontcover#v=onepage&amp;amp;q&amp;amp;f=false&quot;&gt;read online&lt;/a&gt; (although nothing beats the physical book) (Gelfand et al. 2010).&lt;/p&gt;

&lt;h2 id=&quot;the-evolving-landscape-of-rs-spatial-ecosystem&quot;&gt;The evolving landscape of R’s spatial ecosystem&lt;/h2&gt;

&lt;p&gt;The next wide-ranging and agenda-setting introductory lecture was by Roger Bivand, a veteran R developer and author of the seminal Applied Spatial Data Analysis with R (Bivand, Pebesma, and Gómez-Rubio 2013). His &lt;a href=&quot;http://geostat-course.org/system/files/geostat_talk_150817.pdf&quot;&gt;slides&lt;/a&gt; provide the best up-to-date overview of the state of R’s spatial capabilities available, to the best of my knowledge. Roger has a deep understanding not only of R’s spatial technology but also of its politics. This was illustrated by his commentary on the shifting attitude of ESRI towards R’s spatial capabilities, with reference to &lt;a href=&quot;https://github.com/R-ArcGIS/r-bridge&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;r-bridge&lt;/code&gt;&lt;/a&gt;, a mostly open source project allowing ArcMap users to call R scripts from within this popular proprietary GIS. Dangers for the future are fragmentation within R’s spatial community and the heavy reliance on a few veteran programmers while much of R’s core code-base is older than the latest generation R users!&lt;/p&gt;

&lt;h2 id=&quot;geostatistical-models-in-r&quot;&gt;Geostatistical models in R&lt;/h2&gt;

&lt;p&gt;Despite not attending this side of the parallel stream during day 2 I can recommend the &lt;a href=&quot;http://geostat-course.org/node/1284&quot;&gt;resources that were provided&lt;/a&gt;. Patrick Brown is an expert in spatial statistics and his tutorials and &lt;a href=&quot;http://pbrown.ca/teaching/geostat2015/&quot;&gt;worked examples&lt;/a&gt; could be gold dust for anyone who wants to use Bayesian inference to understand spatial processes.&lt;/p&gt;

&lt;p&gt;Brown (2015) provides a well-written academic companion to these excellent teaching materials, from the academic literature.&lt;/p&gt;

&lt;h2 id=&quot;the-spacetime-package&quot;&gt;The spacetime package&lt;/h2&gt;

&lt;p&gt;This session described methods for representing, processing and visualising spatio-temporal data, i.e. that has space and time dimensions. In addition to the ‘core’ &lt;strong&gt;spacetime package&lt;/strong&gt; developed by the lecturer Edzer Pebesma, the online tutorial described a number of packages that interact with spacetime to provide an impressive range of functionality. The following command, for example, subsets all the data in the spacetime object that from 2005 to 2011:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rural[sel,&quot;2005::2011&quot;]
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This and many other examples of spacetime’s functionality are provided for free on &lt;a href=&quot;https://github.com/edzer/geostat/blob/master/Lancaster.Rmd&quot;&gt;Edzer’s GitHub repository&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;area-data-with-r&quot;&gt;Area data with R&lt;/h2&gt;

&lt;p&gt;Theresa Smith provided a fantastic introduction to areal data, whereby each unit - typically administrative zones - represents a contiguous tract of land. The discussion moved swiftly from the theory into practical application using &lt;strong&gt;spdep&lt;/strong&gt; and &lt;strong&gt;INLA&lt;/strong&gt; packages. The materials associated with this session are &lt;a href=&quot;http://geostat-course.org/node/1287&quot;&gt;online&lt;/a&gt;, providing a valuable resource to people struggling to make sense of areal data.&lt;/p&gt;

&lt;h2 id=&quot;reproducible-geography&quot;&gt;Reproducible geography&lt;/h2&gt;

&lt;p&gt;Chris Brunsdon provided an off-the-cuff tutorial on &lt;strong&gt;knitr&lt;/strong&gt; for making geographical research more accessible and easy to replicate. This reproducible ethic can be seen in his &lt;a href=&quot;http://geostat-course.org/node/1288&quot;&gt;teaching materials on Geographically Weighted Regression (GWR)&lt;/a&gt; and a recently published &lt;a href=&quot;http://phg.sagepub.com/cgi/doi/10.1177/0309132515599625&quot;&gt;academic paper (Brunsdon 2015)&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;the-summer-school-vibe&quot;&gt;The summer school vibe&lt;/h2&gt;

&lt;p&gt;There were many other highlights to the conference, many of which were not related to R. The conference had an excellent vibe and everyone to my knowledge had a great time. There were several social events (including an orienteering challenge around Lancaster!) which were fantastic, not to mention the provision of sufficient food, drink and caffeine to keep us all working hard. Instead of trying to do justice to all these things I’ll focus on two: the GEOSTAT &lt;em&gt;challenges&lt;/em&gt; and the ride home.&lt;/p&gt;

&lt;h3 id=&quot;challenges&quot;&gt;Challenges&lt;/h3&gt;

&lt;p&gt;To test our newly acquired skills the lecturers set a couple of challenges for the students: the &lt;em&gt;spatial prediction&lt;/em&gt; and &lt;em&gt;visualisation&lt;/em&gt; challenges. The spatial prediction challenge was to estimate the rainfall at specific points at specific times, based on a training dataset. The visualisation challenge was to visualise the data in a way that showed patterns in the data in space, time and altitude.&lt;/p&gt;

&lt;p&gt;A highlight for me was winning the visualisation challenge this this entry (thanks to assistance from Chris Brunsdon):&lt;/p&gt;

&lt;iframe src=&quot;http://geo8.webarch.net/robin/vizcomp/&quot; height=&quot;800&quot; width=&quot;800&quot;&gt;
&lt;/iframe&gt;
&lt;p&gt;More information on this entry can be seen in &lt;a href=&quot;http://rpubs.com/RobinLovelace/102391&quot;&gt;this mini article&lt;/a&gt;, which describes the use of the excellent &lt;strong&gt;RcppRoll&lt;/strong&gt; package with reference to the following image.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://rpubs.com/RobinLovelace/102391&quot;&gt;&lt;img src=&quot;https://dl.dropboxusercontent.com/u/15008199/img/rollmean.png&quot; alt=&quot;&quot; /&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;the-ride-home&quot;&gt;The ride home&lt;/h2&gt;

&lt;p&gt;Another highlight was the bicycle ride home back to Leeds, which passed through the glorious &lt;a href=&quot;http://forestofbowland.com/&quot;&gt;Bowland Forest AONB&lt;/a&gt;. It even passed through &lt;a href=&quot;https://en.wikipedia.org/wiki/Dunsop_Bridge&quot;&gt;Dunsop Bridge&lt;/a&gt;, which (according to BT at least!) is the centroid of Great Britain. Here’s an R challenge: test BT’s assertion (&lt;a href=&quot;https://plus.google.com/+RobinLovelace/posts/U9zz8F14ACH&quot;&gt;illustrated here&lt;/a&gt;)that this really is the geographic centroid of Great Britain, using only R code.&lt;/p&gt;

&lt;p&gt;Following the R fervour, I even planned this route in R, using the following code and which uses the &lt;a href=&quot;https://github.com/Robinlovelace/stplanr&quot;&gt;&lt;strong&gt;stplanr&lt;/strong&gt;&lt;/a&gt; I’m developing, leading to the map illustrated below:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;devtools::install_github(&quot;robinlovelace/stplanr&quot;)
library(stplanr)
r &amp;lt;- route_graphhopper(from = &quot;Lancaster University&quot;, to = &quot;Leeds&quot;)
library(leaflet)
leaflet() %&amp;gt;% addTiles() %&amp;gt;% addPolylines(data = r)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;iframe src=&quot;http://rpubs.com/RobinLovelace/106222&quot; width=&quot;600&quot; height=&quot;400&quot;&gt;
&lt;/iframe&gt;
&lt;p&gt;Resources
———&lt;/p&gt;

&lt;p&gt;Other than the links provided above, there are a number of additional excellent resources for teaching R as a free and open source command-line Geographical Information System (GIS). In addition to the highly recommended &lt;a href=&quot;http://www.geostat-course.org/2015&quot;&gt;GEOSTAT website&lt;/a&gt;, &lt;a href=&quot;http://gis.stackexchange.com/&quot;&gt;gis.stackexchange&lt;/a&gt; and the &lt;a href=&quot;https://stat.ethz.ch/mailman/listinfo/r-sig-geo&quot;&gt;r-sig-geo&lt;/a&gt; mailing group, these are, in roughly increasing order of difficulty:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://github.com/Robinlovelace/Creating-maps-in-R&quot;&gt;&lt;em&gt;Introduction to visualising spatial data&lt;/em&gt;&lt;/a&gt; is an introductory tutorial by myself, James Cheshire and others (Lovelace and Cheshire 2014) which aims to help people who are just getting started with R and spatial data. It has numerous challenges for all abilities and covers a range of approaches for creating maps in R, including R’s base graphics, &lt;a href=&quot;https://github.com/dkahle/ggmap&quot;&gt;ggmap&lt;/a&gt;, &lt;a href=&quot;https://github.com/mtennekes/tmap&quot;&gt;tmap&lt;/a&gt; and &lt;a href=&quot;https://github.com/rstudio/leaflet&quot;&gt;leaflet&lt;/a&gt; for creating online interactive maps, such &lt;a href=&quot;http://geo8.webarch.net/robin/vizcomp/&quot;&gt;this&lt;/a&gt; (described subsequently).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;http://www.lulu.com/shop/tomislav-hengl/a-practical-guide-to-geostatistical-mapping/ebook/product-17389015.html&quot;&gt;A Practical Guide to Geostatistical Mapping&lt;/a&gt; by GEOSTAT lecturer Tom Hengl is free E-Book outlining powerful geostatistical methods and visualisation techniques (focussed Google Earth), primarily in R.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;ftp://ftp.bgc-jena.mpg.de/pub/outgoing/mforkel/Rcourse/&quot;&gt;Analysis of spatial data in R&lt;/a&gt; provides an up-to-date overview of spatial data analysis in R from a Biogeochemistry perspective. It contains worked examples, challenges and solutions.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;The &lt;a href=&quot;https://cran.r-project.org/web/packages/HSAUR2/&quot;&gt;Handbook of Spatial Analysis Using R, 2nd Edition&lt;/a&gt; is a comprehensive yet seemingly little-known textbook and R package dedicated to using R for a wide range of spatial applications. It contains a number of example datasets that may be of interest.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;a href=&quot;https://cran.r-project.org/web/views/Spatial.html&quot;&gt;CRAN’s Spatial Task View&lt;/a&gt;, maintained by Roger Bivand, provides a wealth of links and information about R’s incredible and growing range of spatial packages.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;acknowledgements&quot;&gt;Acknowledgements&lt;/h2&gt;

&lt;p&gt;I would like to thank everyone involved for making GEOSTAT 2015 happen and really look forward to GEOSTAT 2016. Barry Rowlingson was central to making it happen so I salute him and Tom Hengl for herding all us cats towards Geo R Spatial Enlightenment. Until next year!&lt;/p&gt;

&lt;h2 id=&quot;references&quot;&gt;References&lt;/h2&gt;

&lt;p&gt;Bivand, Roger S, Edzer J Pebesma, and Virgilio Gómez-Rubio. 2013. &lt;em&gt;Applied spatial data analysis with R&lt;/em&gt;. Vol. 747248717. Springer.&lt;/p&gt;

&lt;p&gt;Brown, Patrick E. 2015. “Model-Based Geostatistics the Easy Way.” &lt;em&gt;Journal of Statistical Software&lt;/em&gt; 63 (12): ??—–?? &lt;a href=&quot;http://www.jstatsoft.org/v63/i12&quot;&gt;http://www.jstatsoft.org/v63/i12&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Brunsdon, C. 2015. “Quantitative methods I: Reproducible research and quantitative geography.” &lt;em&gt;Progress in Human Geography&lt;/em&gt;. doi:&lt;a href=&quot;http://dx.doi.org/10.1177/0309132515599625&quot;&gt;10.1177/0309132515599625&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Gelfand, Alan E, Peter Diggle, Peter Guttorp, and Montserrat Fuentes. 2010. &lt;em&gt;Handbook of spatial statistics&lt;/em&gt;. CRC press.&lt;/p&gt;

&lt;p&gt;Lovelace, Robin, and James Cheshire. 2014. “Introduction to visualising spatial data in R.” &lt;em&gt;National Centre for Research Methods Working Papers&lt;/em&gt; 14 (03). London: National Centre for Research Methods; Comprehensive R Archive Network. &lt;a href=&quot;https://github.com/Robinlovelace/Creating-maps-in-R http://eprints.ncrm.ac.uk/3295/&quot;&gt;https://github.com/Robinlovelace/Creating-maps-in-R http://eprints.ncrm.ac.uk/3295/&lt;/a&gt;.&lt;/p&gt;
</description>
        <pubDate>Mon, 31 Aug 2015 00:00:00 +0100</pubDate>
        <link>http://localhost:4000/2015/08/31/geostat-writeup.html</link>
        <guid isPermaLink="true">http://localhost:4000/2015/08/31/geostat-writeup.html</guid>
        
        <category>open source</category>
        
        <category>GIS</category>
        
        <category>maps</category>
        
        
        <category>R</category>
        
      </item>
    
      <item>
        <title>R vs QGIS for sustainable transport planning</title>
        <description>&lt;p&gt;The 23rd iteration of the GIS Research UK conference
(&lt;a href=&quot;https://github.com/Robinlovelace/stplanr&quot;&gt;#GISRUK&lt;/a&gt;)
conference was the largest ever. 250 researchers,
industry representatives and academics attended from the
vibrant geospatial research communities in the
UK, Europe and beyond. GISRUK has become a centrepoint for discussion
of new methods, software and applications in the field. I
was on the &lt;a href=&quot;http://leeds.gisruk.org/contact.html&quot;&gt;organising committee&lt;/a&gt;,
reviewed some excellent papers for the event
(a full list of these is
&lt;a href=&quot;http://leeds.gisruk.org/programme.html&quot;&gt;available for download here&lt;/a&gt;) and 
attended some truly ground-breaking talks.
This experience has shown that the geospatial community
in the UK is strong,
especially with regards to growth in open access
data and open source software in the field.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.flickr.com/photos/97888609@N02/17025120518&quot; title=&quot;img_2814 by Robin Lovelace, on Flickr&quot;&gt;&lt;img src=&quot;https://farm6.staticflickr.com/5450/17025120518_ebfba47bff_s.jpg&quot; width=&quot;75&quot; height=&quot;75&quot; alt=&quot;img_2814&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;!--more--&gt;

&lt;p&gt;This article is about one part of GISRUK and insights gleaned from it
about R, QGIS and other tools for sustainable transport planning.
&lt;a href=&quot;https://github.com/Robinlovelace/GIS4TA&quot;&gt;GIS for Transport Applications&lt;/a&gt;
(&lt;a href=&quot;https://twitter.com/hashtag/gis4ta?src=hash&quot;&gt;#GIS4TA for short&lt;/a&gt;) was a practical day-long workshop
that preceded the main event.
I organised the workshop and (with help from
&lt;a href=&quot;http://www.geog.leeds.ac.uk/people/e.odiari&quot;&gt;Eusebio Odiari&lt;/a&gt;,
&lt;a href=&quot;https://tgrg.wordpress.com/&quot;&gt;The Transport Geography Research Group&lt;/a&gt;
and the
&lt;a href=&quot;http://www.rgs.org/HomePage.htm&quot;&gt;Royal Geographical Society&lt;/a&gt;)
it seems to have been a great success. More than 30
people attended, including a decent portion
from transport consultancies such as
&lt;a href=&quot;http://www.itpworld.net/index.html&quot;&gt;Integrated Transport Planning Ltd&lt;/a&gt;
&lt;a href=&quot;http://www.trpconsult.com/&quot;&gt;TRP Consulting&lt;/a&gt; and the
&lt;a href=&quot;http://www.era.europa.eu/Pages/Home.aspx&quot;&gt;European Railway Association (ERA)&lt;/a&gt;.
Specifically, it is about the use of R
and QGIS tools for transport planning and the potential for their
adoption in academic, public and private-sector transport planning.
The focus of the workshop was deliberately on open source software
and sustainable transport because these are growth
areas in the field that are essential for
democratic
and healthy
transport systems compatible with the
science of climate change (&lt;a href=&quot;http://www.opentraffic.net/en/&quot;&gt;&lt;span class=&quot;citation&quot;&gt;Tamminga, 2012&lt;/span&gt;&lt;/a&gt;).
A recent report, for example, suggests we need to almost completely
transition away from fossil fuels by 2050
(&lt;a href=&quot;http://dx.doi.org/10.1038/nature14016&quot;&gt;McGlade et al., 2015&lt;/a&gt;).
New datasets and methods for analysing and modelling them can
help get us there in the recalcitrant transport sector
(&lt;a href=&quot;http://dx.doi.org/10.1016/j.jtrangeo.2014.07.010&quot;&gt;Gossling, 2014&lt;/a&gt;).&lt;/p&gt;

&lt;h1 id=&quot;r-for-transport-applications&quot;&gt;R for transport applications&lt;/h1&gt;

&lt;p&gt;The workshop kicked-off with a short
talk on ‘R and QGIS for transport applications’,
which laid out some of the motivations for running the
workshop outlined above. Other than a few
‘early adopters’, the transport modelling community
is generally conservative, based largely on mature
proprietary products such as
&lt;a href=&quot;http://www.saturnsoftware.co.uk/7.html&quot;&gt;SATURN&lt;/a&gt;
and 
&lt;a href=&quot;http://vision-traffic.ptvgroup.com/en-us/products/ptv-vissim/&quot;&gt;Vissim&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The slides from this talk are available here:&lt;/p&gt;

&lt;script async=&quot;&quot; class=&quot;speakerdeck-embed&quot; data-id=&quot;91fce9cf5c36405b8969c6b6954c4fe6&quot; data-ratio=&quot;1.41436464088398&quot; src=&quot;//speakerdeck.com/assets/embed.js&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;strong&gt;Tutorial: &lt;a href=&quot;https://github.com/Robinlovelace/GIS4TA/releases/download/0.1/intro-r-qgis-4ta.pdf&quot;&gt;Introduction to R and QGIS for transport applications&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h1 id=&quot;routing-with-r&quot;&gt;Routing with R&lt;/h1&gt;

&lt;p&gt;The second talk was by Nick Bearman, who provided an overview of
routing in R, as well as an excellent
&lt;a href=&quot;https://github.com/nickbearman/transport-workshop/blob/master/transport-workshop.pdf&quot;&gt;practical tutorial&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The practical demonstrated 2 ways of routing in R:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Using &lt;strong&gt;ggmap&lt;/strong&gt;. The following code was used to navigate to the event!&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;from &amp;lt;- 'Leeds station, New Station Street, Leeds LS1 5DL, United Kingdom'
to &amp;lt;- 'LS2 9JT'
route_df &amp;lt;- route(from, to, structure = 'route', mode = 'walking')
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;qmap('Merrion Centre', zoom = 15) +
  geom_path(
    aes(x = lon, y = lat),  colour = 'red', size = 1.5,
    data = route_df, lineend = 'round')
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/Robinlovelace/robinlovelace.github.io/raw/master/_posts/writeup_files/figure-html/unnamed-chunk-2-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;The &lt;a href=&quot;https://github.com/Robinlovelace/stplanr&quot;&gt;package I created, &lt;strong&gt;stplanr&lt;/strong&gt;&lt;/a&gt;,
to get routes optimised for cyclists (see &lt;a href=&quot;https://github.com/nickbearman/transport-workshop/blob/master/transport-workshop.Rmd&quot;&gt;transport-workshop.Rmd&lt;/a&gt; for a working version):&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rquiet &amp;lt;- gLines2CyclePath(l = rlines, plan = &quot;quietest&quot;)
plot(rquiet[1,]) # route from Leeds station to Leeds University (North - South)
plot(rquiet[2,]) # route from Leeds to Manchester!
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;https://github.com/Robinlovelace/robinlovelace.github.io/raw/master/_posts/writeup_files/figure-html/unnamed-chunk-4-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Tutorial: &lt;a href=&quot;https://github.com/nickbearman/transport-workshop/blob/master/transport-workshop.pdf&quot;&gt;Route analysis using R&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;

&lt;h1 id=&quot;large-gps-datasets-with-postgis&quot;&gt;Large gps datasets with PostGIS&lt;/h1&gt;

&lt;p&gt;The most technical session involved using R to query huge datasets storing
GPS data containing 100,000+ rows. Amazingly, Richard and Adrian Ellison
set up a remotely accessible database instance &lt;strong&gt;from their laptop&lt;/strong&gt; which
participants queried via
&lt;a href=&quot;http://cran.r-project.org/web/packages/RPostgreSQL/index.html&quot;&gt;&lt;strong&gt;RPostgreSQL&lt;/strong&gt;&lt;/a&gt;.
Their session information can be seen here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/richardellison/GIS4TA_GPS&quot;&gt;&lt;strong&gt;github.com/richardellison/GIS4TA_GPS&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;a-hackathon&quot;&gt;A hackathon&lt;/h1&gt;

&lt;p&gt;Finally there was a miniature hackathon organised by Godwin Yeboah.
Participants made progress in better understanding the travel
patterns of cyclists using real data. The hackathon notes can be found here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/spatialscientist/GIS4TA2015&quot;&gt;github.com/spatialscientist/GIS4TA2015&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;summary&quot;&gt;Summary&lt;/h1&gt;

&lt;p&gt;GIS is a field of knowledge that has a huge amount to offer transport 
planners and researchers, especially regarding new and open source
software tools that can effectively generate, process and analyse 
transport-related data. R is well-suited to fill this research gap and
has a wide range of tools to help. Packages such as &lt;strong&gt;ggmap&lt;/strong&gt;
(Kahle and Wickham 2013),
&lt;strong&gt;RPostgreSQL&lt;/strong&gt;
and the new &lt;a href=&quot;https://github.com/Robinlovelace/stplanr&quot;&gt;&lt;strong&gt;stplanr&lt;/strong&gt;&lt;/a&gt;
have great potential to help plan the transport systems of the future.
QGIS is also increasingly attractive for transport applications, with
it inbuilt support for
&lt;a href=&quot;http://planet.qgis.org/planet/tag/pgrouting/&quot;&gt;PGRouting&lt;/a&gt;, 
&lt;a href=&quot;http://plugins.qgis.org/plugins/FlowMapper/&quot;&gt;flow analysis&lt;/a&gt;
and a friendly user interface that many will be used to.&lt;/p&gt;

&lt;p&gt;Photos taken during the hackathon are testament to its role as a forum
for not only learning but also debate about the future of GIS in transport.
These can be seen here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://www.flickr.com/photos/97888609@N02/sets/72157652012715766&quot;&gt;flickr.com/photos/97888609@N02/sets/72157652012715766&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Hearing feedback from users new to R using it to solve transport problems
provided an insight into how it compares to traditional tools. The removal
of ‘glass ceilings’ imposed by restrictive licenses or the need to buy
‘add-on’ features was one comment, but that applies equally to QGIS and
other &lt;a href=&quot;http://foss4g.org/&quot;&gt;FOSS4G&lt;/a&gt;
offerings. The steep learning curve of R seems to still
be an issue compared with QGIS, although this is becoming less of an issue
with the evolution of RStudio as an GUI for R. In conclusion, both R and
QGIS are coming of age as tools in the transport planner’s ‘war cabinet’.
The latest evidence unequivocally shows the impact of transport decisions
on obesity, environmental degradation and quality of life. So it is time,
surely, to harness this new open source software to ‘save the world’!&lt;/p&gt;

&lt;h1 id=&quot;acknowledgements&quot;&gt;Acknowledgements&lt;/h1&gt;

&lt;p&gt;Thanks to the Consumer Data Research Centre and the Royal Geographical
society for subsidising the event. Thanks to all the participants and
especially the demonstrators Godwin, Nick, Adrian and Richard for making it
happen.&lt;/p&gt;

&lt;h1 id=&quot;references&quot;&gt;References&lt;/h1&gt;

&lt;p&gt;Gössling, Stefan, and Scott Cohen. 2014. “Why sustainable transport policies will fail: EU climate policy in the light of transport taboos.” Journal of Transport Geography 39 (July). Elsevier Ltd: 197–207. doi:10.1016/j.jtrangeo.2014.07.010.&lt;/p&gt;

&lt;p&gt;Kahle, D, and Hadley Wickham. 2013. “ggmap: Spatial Visualization with ggplot2.” The R Journal 5: 144–61. &lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.375.8693&amp;amp;rep=rep1&amp;amp;type=pdf&quot;&gt;citeseerx.ist.psu.edu&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;McGlade, Christophe, and Paul Ekins. 2015. “The geographical distribution of fossil fuels unused when limiting global warming to 2 °C.” Nature 517 (7533). Nature Publishing Group: 187–90. doi:10.1038/nature14016.&lt;/p&gt;

&lt;p&gt;Tamminga, Guus, Marc Miska, Edgar Santos, Hans van Lint, Arturo Nakasone, Helmut Prendinger, and Serge Hoogendoorn. 2012. “Design of Open Source Framework for Traffic and Travel Simulation.” Transportation Research Record: Journal of the Transportation Research Board 2291 (-1): 44–52. doi:10.3141/2291-06.&lt;/p&gt;
</description>
        <pubDate>Mon, 20 Apr 2015 00:00:00 +0100</pubDate>
        <link>http://localhost:4000/2015/04/20/r-vs-qgis-for-transport.html</link>
        <guid isPermaLink="true">http://localhost:4000/2015/04/20/r-vs-qgis-for-transport.html</guid>
        
        <category>open source</category>
        
        <category>GIS</category>
        
        <category>maps</category>
        
        
        <category>R</category>
        
      </item>
    
      <item>
        <title>R for spatial data slides</title>
        <description>&lt;p&gt;These are the updated slides from my popular tutorial, &lt;em&gt;Introduction to
visualising spatial data in R&lt;/em&gt;. These slides, and the entire tutorial, are open
source and available to anyone free of charge online. See
https://github.com/Robinlovelace/Creating-maps-in-R for more information.&lt;/p&gt;

&lt;iframe style=&quot;width: 100%; height: 600px&quot; src=&quot;http://rpubs.com/RobinLovelace/65399&quot;&gt;&lt;/iframe&gt;
</description>
        <pubDate>Mon, 16 Mar 2015 00:00:00 +0000</pubDate>
        <link>http://localhost:4000/2015/03/16/R-spatial-presentation.html</link>
        <guid isPermaLink="true">http://localhost:4000/2015/03/16/R-spatial-presentation.html</guid>
        
        <category>open source</category>
        
        <category>GIS</category>
        
        <category>maps</category>
        
        
        <category>computing</category>
        
      </item>
    
      <item>
        <title>The leaflet package for online mapping in R</title>
        <description>&lt;p&gt;It has been possible for some years to launch a web map from within R.
A number of packages for doing this are available, including:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/RgoogleMaps/index.html&quot;&gt;&lt;strong&gt;RgoogleMaps&lt;/strong&gt;&lt;/a&gt;, an interface to the Google Maps api&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://cran.r-project.org/web/packages/leafletR/index.html&quot;&gt;&lt;strong&gt;leafletR&lt;/strong&gt;&lt;/a&gt;, an early package for creating Leaflet maps with R&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://rcharts.io/viewer/?6735051#.VM1vpWOS8QE&quot;&gt;&lt;strong&gt;rCharts&lt;/strong&gt;&lt;/a&gt;,
which can be used as a basis for webmaps&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In this tutorial we use the new RStudio-supported
&lt;a href=&quot;https://github.com/rstudio/leaflet&quot;&gt;&lt;strong&gt;leaflet&lt;/strong&gt;&lt;/a&gt; R package.
We use this package, an R interface to the
&lt;a href=&quot;http://leafletjs.com/&quot;&gt;JavaScript mapping library of the same name&lt;/a&gt; because:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;leaflet&lt;/strong&gt; is supported by RStudio, who have a track strong track record of creating amazing
R packages&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;leaflet&lt;/strong&gt; appears to provide the simplest, fastest way to host interactive maps
online in R, requiring only 2 lines of code for one web map! (as you’ll see below)&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;leaflet&lt;/strong&gt; is &lt;strong&gt;shiny&lt;/strong&gt;. Shiny in the literal sense of the word
(a new and fresh approach to web mapping in R)
but also in the sense that it works well with the R package &lt;strong&gt;shiny&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;!--more--&gt;

&lt;p&gt;The best tutorial resource I have found on &lt;strong&gt;leaflet&lt;/strong&gt; is this
&lt;a href=&quot;https://github.com/rstudio/leaflet/blob/master/vignettes/leaflet.Rmd&quot;&gt;vignette&lt;/a&gt;
by Joe Cheng and Yihui Xie. Building on their excellent description, this
article explains some of the fundamentals of the package.&lt;/p&gt;

&lt;h1 id=&quot;installing-leaflet&quot;&gt;Installing leaflet&lt;/h1&gt;

&lt;p&gt;Because &lt;strong&gt;leaflet&lt;/strong&gt; is new, it’s not yet on CRAN. Even when it does appear,
installing from github may be a good idea, to ensure you have access to the
latest features and bug fixes. Here’s how:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/Robinlovelace/e6683569cef916bb377b.js&quot;&gt;&lt;/script&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Install leaflet package
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;leaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rstudio/leaflet&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;a-first-web-map-with-leaflet&quot;&gt;A first web map with leaflet&lt;/h1&gt;

&lt;p&gt;To create an interactive web map with &lt;strong&gt;leaflet&lt;/strong&gt; is incredibly easy.
Having installed the package try this single line of code:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Plot a default web map (brackets display the result)
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;leaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addTiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;readPNG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;~/repos/Creating-maps-in-R/figure//shiny_world.png&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grid.raster&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;http://robinlovelace.net/img/shiny_world.png&quot; alt=&quot;Basic leaflet map in R&quot; /&gt;&lt;/p&gt;

&lt;h1 id=&quot;adding-basic-features-with-&quot;&gt;Adding basic features with %&amp;gt;%&lt;/h1&gt;

&lt;p&gt;Adding basic features to your webmap is easy. The &lt;code class=&quot;highlighter-rouge&quot;&gt;%&amp;gt;%&lt;/code&gt; ‘pipe’ operator
used extensively in &lt;a href=&quot;https://github.com/hadley/dplyr&quot;&gt;&lt;strong&gt;dplyr&lt;/strong&gt;&lt;/a&gt;
and developed for the
&lt;a href=&quot;http://www.r-statistics.com/2014/08/simpler-r-coding-with-pipes-the-present-and-future-of-the-magrittr-package/&quot;&gt;&lt;strong&gt;maggrittr&lt;/strong&gt; package&lt;/a&gt;
means we can finally escape from dozens of nested bracketted commands.
(If you use RStudio, I suggest trying the
&lt;a href=&quot;http://www.rstudio.com/products/rstudio/release-notes/&quot;&gt;new shortcut&lt;/a&gt;
&lt;code class=&quot;highlighter-rouge&quot;&gt;Ctl+Shift+M&lt;/code&gt; to produce this wonderful operator.)
&lt;strong&gt;leaflet&lt;/strong&gt; settings and functionality can thus be added sequentially, without
requiring any additional brackets!&lt;/p&gt;

&lt;p&gt;To add a location to the map &lt;code class=&quot;highlighter-rouge&quot;&gt;m&lt;/code&gt;, for example, we can simply pipe &lt;code class=&quot;highlighter-rouge&quot;&gt;m&lt;/code&gt; into
the function &lt;code class=&quot;highlighter-rouge&quot;&gt;setView()&lt;/code&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lng&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;53.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zoom&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;#&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;centre&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;extent&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This way we can gradually add elements to our map, one-by-one:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;53.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# map location
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addMarkers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;53.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# add a marker
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addPopups&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1.6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;53.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;popup&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Hello Sheffield!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# popup
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# add som circles:
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addCircles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;runif&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;runif&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;53&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;54&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;runif&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;iframe src=&quot;https://robinlovelace.shinyapps.io/leaflet-demo/&quot; style=&quot;border: none; width: 600px; height: 400px&quot;&gt;&lt;/iframe&gt;

&lt;h1 id=&quot;adding-data&quot;&gt;Adding data&lt;/h1&gt;

&lt;p&gt;In the previous example, we added some random data that we created
locally, inside the function call. How do we use real, large datasets
in leaflet? The package provides 3 options:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Data from base R: lat/long matrix or data.frame&lt;/li&gt;
  &lt;li&gt;Data from &lt;a href=&quot;http://cran.r-project.org/web/packages/sp/index.html&quot;&gt;&lt;strong&gt;sp&lt;/strong&gt;&lt;/a&gt; such as SpatialPoints and SpatialPolygons&lt;/li&gt;
  &lt;li&gt;Data from &lt;a href=&quot;http://cran.rstudio.com/web/packages/maps/index.html&quot;&gt;&lt;strong&gt;maps&lt;/strong&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Let’s try adding a bicycle route, one that 
&lt;a href=&quot;http://robinlovelace.net/ecotech/2013/10/13/bicycle-trailer-move.html&quot;&gt;I followed with some friends
to move from Sheffield to my current home of Leeds&lt;/a&gt;. First download some data:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://github.com/Robinlovelace/sdvwR/raw/master/data/gps-trace.gpx&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;download.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;destfile&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shef2leeds.gpx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;wget&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Now we can load this as a &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialLinesDataFrame&lt;/code&gt; and display in leaflet:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rgdal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shef2leeds&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;readOGR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shef2leeds.gpx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;layer&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;tracks&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;53.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# map location
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addPolylines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shef2leeds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;iframe src=&quot;https://robinlovelace.shinyapps.io/shef-2-leeds-demo/&quot; style=&quot;border: none; width: 600px; height: 400px&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;Note in the above example that we had to use the argument &lt;code class=&quot;highlighter-rouge&quot;&gt;data =&lt;/code&gt; to
refer to our spatial object: it cannot simply be inserted without specifying
what it is. The &lt;code class=&quot;highlighter-rouge&quot;&gt;data&lt;/code&gt; argument can also be placed inside the initial
&lt;code class=&quot;highlighter-rouge&quot;&gt;leaflet()&lt;/code&gt; function call.&lt;/p&gt;

&lt;p&gt;That was quite a painless process that would many more lines of code if you
were to use JavaScript. But not as painless as the bicycle trip itself, which
involved fewer lines of code still: 0! This can be seen in the following video.&lt;/p&gt;

&lt;iframe width=&quot;420&quot; height=&quot;315&quot; src=&quot;//www.youtube.com/embed/6a8QLiC4LV8&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;h1 id=&quot;shiny-integration&quot;&gt;Shiny integration&lt;/h1&gt;

&lt;p&gt;&lt;strong&gt;leaflet&lt;/strong&gt; is developed by the same team who develop &lt;strong&gt;shiny&lt;/strong&gt; so the two
are well integrated. Below is a very simple example, modified slightly
from the package’s &lt;a href=&quot;https://github.com/rstudio/leaflet/blob/master/vignettes/leaflet.Rmd&quot;&gt;vignette&lt;/a&gt;:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shiny&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shinyApp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ui&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fluidPage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;leafletOutput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'myMap'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;server&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    
    &lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;# download and load data
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://github.com/Robinlovelace/sdvwR/raw/master/data/gps-trace.gpx&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;download.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;destfile&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shef2leeds.gpx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;wget&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rgdal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shef2leeds&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;readOGR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shef2leeds.gpx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;layer&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;tracks&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;leaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addTiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setView&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;53.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; 
      &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addPolylines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shef2leeds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;color&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;weight&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myMap&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;renderLeaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h1 id=&quot;applications&quot;&gt;Applications&lt;/h1&gt;

&lt;p&gt;Clearly &lt;code class=&quot;highlighter-rouge&quot;&gt;leaflet&lt;/code&gt; is a powerful and flexible R package. If I were to offer
one critique, it would be that I could find no easy way to allow the user
to query the data objects loaded. &lt;strong&gt;plotly&lt;/strong&gt;, for example, provides a
description of any visual object the user clicks on.
The &lt;a href=&quot;http://commute.datashine.org.uk/&quot;&gt;datashine commuter visualisation&lt;/a&gt;,
for example allows users to click on any point, resulting in a burst of lines
emenating from it. This would also be possible in &lt;strong&gt;leaflet/shiny&lt;/strong&gt;, but the
best implementation is not immediately clear, to me at least!&lt;/p&gt;

&lt;p&gt;The wider context of this article is the pressing need for better transport
planning decision making, to enable a transition away from fossil fuels.
To this end, the &lt;a href=&quot;https://github.com/Robinlovelace/pct&quot;&gt;‘propensity to cycle’ project&lt;/a&gt;,
funded by the UK’s &lt;a href=&quot;https://www.gov.uk/government/organisations/department-for-transport&quot;&gt;Department for Transport&lt;/a&gt;,
seeks to create an interactive tool to identify where new bicycle paths are most
needed. There are clearly many other uses for R’s &lt;strong&gt;leaflet&lt;/strong&gt; package: what
will you use it for? Let me know at &lt;a href=&quot;https://twitter.com/robinlovelace&quot;&gt;@robinlovelace&lt;/a&gt;.&lt;/p&gt;

</description>
        <pubDate>Sun, 01 Feb 2015 00:00:00 +0000</pubDate>
        <link>http://localhost:4000/2015/02/01/leaflet-r-package.html</link>
        <guid isPermaLink="true">http://localhost:4000/2015/02/01/leaflet-r-package.html</guid>
        
        <category>open source</category>
        
        <category>GIS</category>
        
        <category>maps</category>
        
        
        <category>R</category>
        
      </item>
    
  </channel>
</rss>
